function RC(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in t)){const u=Object.getOwnPropertyDescriptor(r,o);u&&Object.defineProperty(t,o,u.get?u:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function ry(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var kg={exports:{}},eh={};var lw;function CC(){if(lw)return eh;lw=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:t,type:r,key:c,ref:o!==void 0?o:null,props:u}}return eh.Fragment=e,eh.jsx=n,eh.jsxs=n,eh}var uw;function NC(){return uw||(uw=1,kg.exports=CC()),kg.exports}var w=NC(),Mg={exports:{}},at={};var cw;function OC(){if(cw)return at;cw=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),C=Symbol.iterator;function D(H){return H===null||typeof H!="object"?null:(H=C&&H[C]||H["@@iterator"],typeof H=="function"?H:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,U={};function ne(H,le,be){this.props=H,this.context=le,this.refs=U,this.updater=be||I}ne.prototype.isReactComponent={},ne.prototype.setState=function(H,le){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,le,"setState")},ne.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function ee(){}ee.prototype=ne.prototype;function ae(H,le,be){this.props=H,this.context=le,this.refs=U,this.updater=be||I}var Te=ae.prototype=new ee;Te.constructor=ae,j(Te,ne.prototype),Te.isPureReactComponent=!0;var Ce=Array.isArray;function ke(){}var N={H:null,A:null,T:null,S:null},M=Object.prototype.hasOwnProperty;function z(H,le,be){var xe=be.ref;return{$$typeof:t,type:H,key:le,ref:xe!==void 0?xe:null,props:be}}function G(H,le){return z(H.type,le,H.props)}function V(H){return typeof H=="object"&&H!==null&&H.$$typeof===t}function K(H){var le={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(be){return le[be]})}var B=/\/+/g;function Ue(H,le){return typeof H=="object"&&H!==null&&H.key!=null?K(""+H.key):le.toString(36)}function it(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(ke,ke):(H.status="pending",H.then(function(le){H.status==="pending"&&(H.status="fulfilled",H.value=le)},function(le){H.status==="pending"&&(H.status="rejected",H.reason=le)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function te(H,le,be,xe,Se){var Oe=typeof H;(Oe==="undefined"||Oe==="boolean")&&(H=null);var Je=!1;if(H===null)Je=!0;else switch(Oe){case"bigint":case"string":case"number":Je=!0;break;case"object":switch(H.$$typeof){case t:case e:Je=!0;break;case E:return Je=H._init,te(Je(H._payload),le,be,xe,Se)}}if(Je)return Se=Se(H),Je=xe===""?"."+Ue(H,0):xe,Ce(Se)?(be="",Je!=null&&(be=Je.replace(B,"$&/")+"/"),te(Se,le,be,"",function(dr){return dr})):Se!=null&&(V(Se)&&(Se=G(Se,be+(Se.key==null||H&&H.key===Se.key?"":(""+Se.key).replace(B,"$&/")+"/")+Je)),le.push(Se)),1;Je=0;var Nt=xe===""?".":xe+":";if(Ce(H))for(var $t=0;$t<H.length;$t++)xe=H[$t],Oe=Nt+Ue(xe,$t),Je+=te(xe,le,be,Oe,Se);else if($t=D(H),typeof $t=="function")for(H=$t.call(H),$t=0;!(xe=H.next()).done;)xe=xe.value,Oe=Nt+Ue(xe,$t++),Je+=te(xe,le,be,Oe,Se);else if(Oe==="object"){if(typeof H.then=="function")return te(it(H),le,be,xe,Se);throw le=String(H),Error("Objects are not valid as a React child (found: "+(le==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":le)+"). If you meant to render a collection of children, use an array instead.")}return Je}function Ee(H,le,be){if(H==null)return H;var xe=[],Se=0;return te(H,xe,"","",function(Oe){return le.call(be,Oe,Se++)}),xe}function me(H){if(H._status===-1){var le=H._result;le=le(),le.then(function(be){(H._status===0||H._status===-1)&&(H._status=1,H._result=be)},function(be){(H._status===0||H._status===-1)&&(H._status=2,H._result=be)}),H._status===-1&&(H._status=0,H._result=le)}if(H._status===1)return H._result.default;throw H._result}var Ye=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var le=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(le))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)},Ae={map:Ee,forEach:function(H,le,be){Ee(H,function(){le.apply(this,arguments)},be)},count:function(H){var le=0;return Ee(H,function(){le++}),le},toArray:function(H){return Ee(H,function(le){return le})||[]},only:function(H){if(!V(H))throw Error("React.Children.only expected to receive a single React element child.");return H}};return at.Activity=x,at.Children=Ae,at.Component=ne,at.Fragment=n,at.Profiler=o,at.PureComponent=ae,at.StrictMode=r,at.Suspense=_,at.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,at.__COMPILER_RUNTIME={__proto__:null,c:function(H){return N.H.useMemoCache(H)}},at.cache=function(H){return function(){return H.apply(null,arguments)}},at.cacheSignal=function(){return null},at.cloneElement=function(H,le,be){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var xe=j({},H.props),Se=H.key;if(le!=null)for(Oe in le.key!==void 0&&(Se=""+le.key),le)!M.call(le,Oe)||Oe==="key"||Oe==="__self"||Oe==="__source"||Oe==="ref"&&le.ref===void 0||(xe[Oe]=le[Oe]);var Oe=arguments.length-2;if(Oe===1)xe.children=be;else if(1<Oe){for(var Je=Array(Oe),Nt=0;Nt<Oe;Nt++)Je[Nt]=arguments[Nt+2];xe.children=Je}return z(H.type,Se,xe)},at.createContext=function(H){return H={$$typeof:c,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:u,_context:H},H},at.createElement=function(H,le,be){var xe,Se={},Oe=null;if(le!=null)for(xe in le.key!==void 0&&(Oe=""+le.key),le)M.call(le,xe)&&xe!=="key"&&xe!=="__self"&&xe!=="__source"&&(Se[xe]=le[xe]);var Je=arguments.length-2;if(Je===1)Se.children=be;else if(1<Je){for(var Nt=Array(Je),$t=0;$t<Je;$t++)Nt[$t]=arguments[$t+2];Se.children=Nt}if(H&&H.defaultProps)for(xe in Je=H.defaultProps,Je)Se[xe]===void 0&&(Se[xe]=Je[xe]);return z(H,Oe,Se)},at.createRef=function(){return{current:null}},at.forwardRef=function(H){return{$$typeof:p,render:H}},at.isValidElement=V,at.lazy=function(H){return{$$typeof:E,_payload:{_status:-1,_result:H},_init:me}},at.memo=function(H,le){return{$$typeof:y,type:H,compare:le===void 0?null:le}},at.startTransition=function(H){var le=N.T,be={};N.T=be;try{var xe=H(),Se=N.S;Se!==null&&Se(be,xe),typeof xe=="object"&&xe!==null&&typeof xe.then=="function"&&xe.then(ke,Ye)}catch(Oe){Ye(Oe)}finally{le!==null&&be.types!==null&&(le.types=be.types),N.T=le}},at.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},at.use=function(H){return N.H.use(H)},at.useActionState=function(H,le,be){return N.H.useActionState(H,le,be)},at.useCallback=function(H,le){return N.H.useCallback(H,le)},at.useContext=function(H){return N.H.useContext(H)},at.useDebugValue=function(){},at.useDeferredValue=function(H,le){return N.H.useDeferredValue(H,le)},at.useEffect=function(H,le){return N.H.useEffect(H,le)},at.useEffectEvent=function(H){return N.H.useEffectEvent(H)},at.useId=function(){return N.H.useId()},at.useImperativeHandle=function(H,le,be){return N.H.useImperativeHandle(H,le,be)},at.useInsertionEffect=function(H,le){return N.H.useInsertionEffect(H,le)},at.useLayoutEffect=function(H,le){return N.H.useLayoutEffect(H,le)},at.useMemo=function(H,le){return N.H.useMemo(H,le)},at.useOptimistic=function(H,le){return N.H.useOptimistic(H,le)},at.useReducer=function(H,le,be){return N.H.useReducer(H,le,be)},at.useRef=function(H){return N.H.useRef(H)},at.useState=function(H){return N.H.useState(H)},at.useSyncExternalStore=function(H,le,be){return N.H.useSyncExternalStore(H,le,be)},at.useTransition=function(){return N.H.useTransition()},at.version="19.2.3",at}var hw;function sy(){return hw||(hw=1,Mg.exports=OC()),Mg.exports}var F=sy();const lr=ry(F),IC=RC({__proto__:null,default:lr},[F]);var zg={exports:{}},th={},jg={exports:{}},Ug={};var fw;function PC(){return fw||(fw=1,(function(t){function e(te,Ee){var me=te.length;te.push(Ee);e:for(;0<me;){var Ye=me-1>>>1,Ae=te[Ye];if(0<o(Ae,Ee))te[Ye]=Ee,te[me]=Ae,me=Ye;else break e}}function n(te){return te.length===0?null:te[0]}function r(te){if(te.length===0)return null;var Ee=te[0],me=te.pop();if(me!==Ee){te[0]=me;e:for(var Ye=0,Ae=te.length,H=Ae>>>1;Ye<H;){var le=2*(Ye+1)-1,be=te[le],xe=le+1,Se=te[xe];if(0>o(be,me))xe<Ae&&0>o(Se,be)?(te[Ye]=Se,te[xe]=me,Ye=xe):(te[Ye]=be,te[le]=me,Ye=le);else if(xe<Ae&&0>o(Se,me))te[Ye]=Se,te[xe]=me,Ye=xe;else break e}}return Ee}function o(te,Ee){var me=te.sortIndex-Ee.sortIndex;return me!==0?me:te.id-Ee.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;t.unstable_now=function(){return u.now()}}else{var c=Date,p=c.now();t.unstable_now=function(){return c.now()-p}}var _=[],y=[],E=1,x=null,C=3,D=!1,I=!1,j=!1,U=!1,ne=typeof setTimeout=="function"?setTimeout:null,ee=typeof clearTimeout=="function"?clearTimeout:null,ae=typeof setImmediate<"u"?setImmediate:null;function Te(te){for(var Ee=n(y);Ee!==null;){if(Ee.callback===null)r(y);else if(Ee.startTime<=te)r(y),Ee.sortIndex=Ee.expirationTime,e(_,Ee);else break;Ee=n(y)}}function Ce(te){if(j=!1,Te(te),!I)if(n(_)!==null)I=!0,ke||(ke=!0,K());else{var Ee=n(y);Ee!==null&&it(Ce,Ee.startTime-te)}}var ke=!1,N=-1,M=5,z=-1;function G(){return U?!0:!(t.unstable_now()-z<M)}function V(){if(U=!1,ke){var te=t.unstable_now();z=te;var Ee=!0;try{e:{I=!1,j&&(j=!1,ee(N),N=-1),D=!0;var me=C;try{t:{for(Te(te),x=n(_);x!==null&&!(x.expirationTime>te&&G());){var Ye=x.callback;if(typeof Ye=="function"){x.callback=null,C=x.priorityLevel;var Ae=Ye(x.expirationTime<=te);if(te=t.unstable_now(),typeof Ae=="function"){x.callback=Ae,Te(te),Ee=!0;break t}x===n(_)&&r(_),Te(te)}else r(_);x=n(_)}if(x!==null)Ee=!0;else{var H=n(y);H!==null&&it(Ce,H.startTime-te),Ee=!1}}break e}finally{x=null,C=me,D=!1}Ee=void 0}}finally{Ee?K():ke=!1}}}var K;if(typeof ae=="function")K=function(){ae(V)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,Ue=B.port2;B.port1.onmessage=V,K=function(){Ue.postMessage(null)}}else K=function(){ne(V,0)};function it(te,Ee){N=ne(function(){te(t.unstable_now())},Ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(te){te.callback=null},t.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<te?Math.floor(1e3/te):5},t.unstable_getCurrentPriorityLevel=function(){return C},t.unstable_next=function(te){switch(C){case 1:case 2:case 3:var Ee=3;break;default:Ee=C}var me=C;C=Ee;try{return te()}finally{C=me}},t.unstable_requestPaint=function(){U=!0},t.unstable_runWithPriority=function(te,Ee){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var me=C;C=te;try{return Ee()}finally{C=me}},t.unstable_scheduleCallback=function(te,Ee,me){var Ye=t.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Ye+me:Ye):me=Ye,te){case 1:var Ae=-1;break;case 2:Ae=250;break;case 5:Ae=1073741823;break;case 4:Ae=1e4;break;default:Ae=5e3}return Ae=me+Ae,te={id:E++,callback:Ee,priorityLevel:te,startTime:me,expirationTime:Ae,sortIndex:-1},me>Ye?(te.sortIndex=me,e(y,te),n(_)===null&&te===n(y)&&(j?(ee(N),N=-1):j=!0,it(Ce,me-Ye))):(te.sortIndex=Ae,e(_,te),I||D||(I=!0,ke||(ke=!0,K()))),te},t.unstable_shouldYield=G,t.unstable_wrapCallback=function(te){var Ee=C;return function(){var me=C;C=Ee;try{return te.apply(this,arguments)}finally{C=me}}}})(Ug)),Ug}var dw;function LC(){return dw||(dw=1,jg.exports=PC()),jg.exports}var Vg={exports:{}},Ai={};var mw;function DC(){if(mw)return Ai;mw=1;var t=sy();function e(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(_,y,E){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:x==null?null:""+x,children:_,containerInfo:y,implementation:E}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ai.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ai.createPortal=function(_,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(_,y,null,E)},Ai.flushSync=function(_){var y=c.T,E=r.p;try{if(c.T=null,r.p=2,_)return _()}finally{c.T=y,r.p=E,r.d.f()}},Ai.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(_,y))},Ai.prefetchDNS=function(_){typeof _=="string"&&r.d.D(_)},Ai.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var E=y.as,x=p(E,y.crossOrigin),C=typeof y.integrity=="string"?y.integrity:void 0,D=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?r.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:x,integrity:C,fetchPriority:D}):E==="script"&&r.d.X(_,{crossOrigin:x,integrity:C,fetchPriority:D,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ai.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=p(y.as,y.crossOrigin);r.d.M(_,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(_)},Ai.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,x=p(E,y.crossOrigin);r.d.L(_,E,{crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ai.preloadModule=function(_,y){if(typeof _=="string")if(y){var E=p(y.as,y.crossOrigin);r.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(_)},Ai.requestFormReset=function(_){r.d.r(_)},Ai.unstable_batchedUpdates=function(_,y){return _(y)},Ai.useFormState=function(_,y,E){return c.H.useFormState(_,y,E)},Ai.useFormStatus=function(){return c.H.useHostTransitionStatus()},Ai.version="19.2.3",Ai}var pw;function hx(){if(pw)return Vg.exports;pw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Vg.exports=DC(),Vg.exports}var gw;function kC(){if(gw)return th;gw=1;var t=LC(),e=sy(),n=hx();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function u(i){var s=i,l=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(l=s.return),i=s.return;while(i)}return s.tag===3?l:null}function c(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function p(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function _(i){if(u(i)!==i)throw Error(r(188))}function y(i){var s=i.alternate;if(!s){if(s=u(i),s===null)throw Error(r(188));return s!==i?null:i}for(var l=i,f=s;;){var g=l.return;if(g===null)break;var v=g.alternate;if(v===null){if(f=g.return,f!==null){l=f;continue}break}if(g.child===v.child){for(v=g.child;v;){if(v===l)return _(g),i;if(v===f)return _(g),s;v=v.sibling}throw Error(r(188))}if(l.return!==f.return)l=g,f=v;else{for(var A=!1,P=g.child;P;){if(P===l){A=!0,l=g,f=v;break}if(P===f){A=!0,f=g,l=v;break}P=P.sibling}if(!A){for(P=v.child;P;){if(P===l){A=!0,l=v,f=g;break}if(P===f){A=!0,f=v,l=g;break}P=P.sibling}if(!A)throw Error(r(189))}}if(l.alternate!==f)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:s}function E(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=E(i),s!==null)return s;i=i.sibling}return null}var x=Object.assign,C=Symbol.for("react.element"),D=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),ne=Symbol.for("react.profiler"),ee=Symbol.for("react.consumer"),ae=Symbol.for("react.context"),Te=Symbol.for("react.forward_ref"),Ce=Symbol.for("react.suspense"),ke=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),z=Symbol.for("react.activity"),G=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function K(i){return i===null||typeof i!="object"?null:(i=V&&i[V]||i["@@iterator"],typeof i=="function"?i:null)}var B=Symbol.for("react.client.reference");function Ue(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===B?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case j:return"Fragment";case ne:return"Profiler";case U:return"StrictMode";case Ce:return"Suspense";case ke:return"SuspenseList";case z:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case I:return"Portal";case ae:return i.displayName||"Context";case ee:return(i._context.displayName||"Context")+".Consumer";case Te:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case N:return s=i.displayName||null,s!==null?s:Ue(i.type)||"Memo";case M:s=i._payload,i=i._init;try{return Ue(i(s))}catch{}}return null}var it=Array.isArray,te=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ee=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Ye=[],Ae=-1;function H(i){return{current:i}}function le(i){0>Ae||(i.current=Ye[Ae],Ye[Ae]=null,Ae--)}function be(i,s){Ae++,Ye[Ae]=i.current,i.current=s}var xe=H(null),Se=H(null),Oe=H(null),Je=H(null);function Nt(i,s){switch(be(Oe,s),be(Se,i),be(xe,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?Ib(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=Ib(s),i=Pb(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}le(xe),be(xe,i)}function $t(){le(xe),le(Se),le(Oe)}function dr(i){i.memoizedState!==null&&be(Je,i);var s=xe.current,l=Pb(s,i.type);s!==l&&(be(Se,i),be(xe,l))}function Pr(i){Se.current===i&&(le(xe),le(Se)),Je.current===i&&(le(Je),Qc._currentValue=me)}var Gt,ci;function Pi(i){if(Gt===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);Gt=s&&s[1]||"",ci=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Gt+i+ci}var Rs=!1;function Yn(i,s){if(!i||Rs)return"";Rs=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(s){var ye=function(){throw Error()};if(Object.defineProperty(ye.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ye,[])}catch(de){var ce=de}Reflect.construct(i,[],ye)}else{try{ye.call()}catch(de){ce=de}i.call(ye.prototype)}}else{try{throw Error()}catch(de){ce=de}(ye=i())&&typeof ye.catch=="function"&&ye.catch(function(){})}}catch(de){if(de&&ce&&typeof de.stack=="string")return[de.stack,ce.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=f.DetermineComponentFrameRoot(),A=v[0],P=v[1];if(A&&P){var $=A.split(`
`),oe=P.split(`
`);for(g=f=0;f<$.length&&!$[f].includes("DetermineComponentFrameRoot");)f++;for(;g<oe.length&&!oe[g].includes("DetermineComponentFrameRoot");)g++;if(f===$.length||g===oe.length)for(f=$.length-1,g=oe.length-1;1<=f&&0<=g&&$[f]!==oe[g];)g--;for(;1<=f&&0<=g;f--,g--)if($[f]!==oe[g]){if(f!==1||g!==1)do if(f--,g--,0>g||$[f]!==oe[g]){var pe=`
`+$[f].replace(" at new "," at ");return i.displayName&&pe.includes("<anonymous>")&&(pe=pe.replace("<anonymous>",i.displayName)),pe}while(1<=f&&0<=g);break}}}finally{Rs=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?Pi(l):""}function ns(i,s){switch(i.tag){case 26:case 27:case 5:return Pi(i.type);case 16:return Pi("Lazy");case 13:return i.child!==s&&s!==null?Pi("Suspense Fallback"):Pi("Suspense");case 19:return Pi("SuspenseList");case 0:case 15:return Yn(i.type,!1);case 11:return Yn(i.type.render,!1);case 1:return Yn(i.type,!0);case 31:return Pi("Activity");default:return""}}function Lr(i){try{var s="",l=null;do s+=ns(i,l),l=i,i=i.return;while(i);return s}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}var hn=Object.prototype.hasOwnProperty,pn=t.unstable_scheduleCallback,$i=t.unstable_cancelCallback,Ho=t.unstable_shouldYield,ao=t.unstable_requestPaint,fn=t.unstable_now,Li=t.unstable_getCurrentPriorityLevel,Dr=t.unstable_ImmediatePriority,kr=t.unstable_UserBlockingPriority,Cn=t.unstable_NormalPriority,Di=t.unstable_LowPriority,Cs=t.unstable_IdlePriority,lo=t.log,Ns=t.unstable_setDisableYieldValue,yi=null,Ft=null;function Qn(i){if(typeof lo=="function"&&Ns(i),Ft&&typeof Ft.setStrictMode=="function")try{Ft.setStrictMode(yi,i)}catch{}}var ln=Math.clz32?Math.clz32:uo,mr=Math.log,Os=Math.LN2;function uo(i){return i>>>=0,i===0?32:31-(mr(i)/Os|0)|0}var Wn=256,pr=262144,tn=4194304;function Gi(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function ki(i,s,l){var f=i.pendingLanes;if(f===0)return 0;var g=0,v=i.suspendedLanes,A=i.pingedLanes;i=i.warmLanes;var P=f&134217727;return P!==0?(f=P&~v,f!==0?g=Gi(f):(A&=P,A!==0?g=Gi(A):l||(l=P&~i,l!==0&&(g=Gi(l))))):(P=f&~v,P!==0?g=Gi(P):A!==0?g=Gi(A):l||(l=f&~i,l!==0&&(g=Gi(l)))),g===0?0:s!==0&&s!==g&&(s&v)===0&&(v=g&-g,l=s&-s,v>=l||v===32&&(l&4194048)!==0)?s:g}function Mi(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function qo(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function is(){var i=tn;return tn<<=1,(tn&62914560)===0&&(tn=4194304),i}function hi(i){for(var s=[],l=0;31>l;l++)s.push(i);return s}function Ki(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Wa(i,s,l,f,g,v){var A=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var P=i.entanglements,$=i.expirationTimes,oe=i.hiddenUpdates;for(l=A&~l;0<l;){var pe=31-ln(l),ye=1<<pe;P[pe]=0,$[pe]=-1;var ce=oe[pe];if(ce!==null)for(oe[pe]=null,pe=0;pe<ce.length;pe++){var de=ce[pe];de!==null&&(de.lane&=-536870913)}l&=~ye}f!==0&&rs(i,f,0),v!==0&&g===0&&i.tag!==0&&(i.suspendedLanes|=v&~(A&~s))}function rs(i,s,l){i.pendingLanes|=s,i.suspendedLanes&=~s;var f=31-ln(s);i.entangledLanes|=s,i.entanglements[f]=i.entanglements[f]|1073741824|l&261930}function Z(i,s){var l=i.entangledLanes|=s;for(i=i.entanglements;l;){var f=31-ln(l),g=1<<f;g&s|i[f]&s&&(i[f]|=s),l&=~g}}function Q(i,s){var l=s&-s;return l=(l&42)!==0?1:ie(l),(l&(i.suspendedLanes|s))!==0?0:l}function ie(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function re(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Re(){var i=Ee.p;return i!==0?i:(i=window.event,i===void 0?32:tw(i.type))}function Me(i,s){var l=Ee.p;try{return Ee.p=i,s()}finally{Ee.p=l}}var ze=Math.random().toString(36).slice(2),Ie="__reactFiber$"+ze,De="__reactProps$"+ze,Be="__reactContainer$"+ze,Ve="__reactEvents$"+ze,qe="__reactListeners$"+ze,pt="__reactHandles$"+ze,Dt="__reactResources$"+ze,zt="__reactMarker$"+ze;function nn(i){delete i[Ie],delete i[De],delete i[Ve],delete i[qe],delete i[pt]}function yt(i){var s=i[Ie];if(s)return s;for(var l=i.parentNode;l;){if(s=l[Be]||l[Ie]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(i=Ub(i);i!==null;){if(l=i[Ie])return l;i=Ub(i)}return s}i=l,l=i.parentNode}return null}function gt(i){if(i=i[Ie]||i[Be]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function un(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function Xn(i){var s=i[Dt];return s||(s=i[Dt]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Ht(i){i[zt]=!0}var Jn=new Set,ss={};function ei(i,s){En(i,s),En(i+"Capture",s)}function En(i,s){for(ss[i]=s,i=0;i<s.length;i++)Jn.add(s[i])}var vi=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),gr={},ct={};function rn(i){return hn.call(ct,i)?!0:hn.call(gr,i)?!1:vi.test(i)?ct[i]=!0:(gr[i]=!0,!1)}function rt(i,s,l){if(rn(s))if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var f=s.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+l)}}function ot(i,s,l){if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+l)}}function tt(i,s,l,f){if(f===null)i.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(s,l,""+f)}}function Zt(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ti(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function os(i,s,l){var f=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var g=f.get,v=f.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return g.call(this)},set:function(A){l=""+A,v.call(this,A)}}),Object.defineProperty(i,s,{enumerable:f.enumerable}),{getValue:function(){return l},setValue:function(A){l=""+A},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function je(i){if(!i._valueTracker){var s=ti(i)?"checked":"value";i._valueTracker=os(i,s,""+i[s])}}function Kt(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var l=s.getValue(),f="";return i&&(f=ti(i)?i.checked?"true":"false":i.value),i=f,i!==l?(s.setValue(i),!0):!1}function Yi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Mr=/[\n"\\]/g;function sn(i){return i.replace(Mr,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Zo(i,s,l,f,g,v,A,P){i.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.type=A:i.removeAttribute("type"),s!=null?A==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+Zt(s)):i.value!==""+Zt(s)&&(i.value=""+Zt(s)):A!=="submit"&&A!=="reset"||i.removeAttribute("value"),s!=null?_r(i,A,Zt(s)):l!=null?_r(i,A,Zt(l)):f!=null&&i.removeAttribute("value"),g==null&&v!=null&&(i.defaultChecked=!!v),g!=null&&(i.checked=g&&typeof g!="function"&&typeof g!="symbol"),P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?i.name=""+Zt(P):i.removeAttribute("name")}function co(i,s,l,f,g,v,A,P){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(i.type=v),s!=null||l!=null){if(!(v!=="submit"&&v!=="reset"||s!=null)){je(i);return}l=l!=null?""+Zt(l):"",s=s!=null?""+Zt(s):l,P||s===i.value||(i.value=s),i.defaultValue=s}f=f??g,f=typeof f!="function"&&typeof f!="symbol"&&!!f,i.checked=P?i.checked:!!f,i.defaultChecked=!!f,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(i.name=A),je(i)}function _r(i,s,l){s==="number"&&Yi(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function Yt(i,s,l,f){if(i=i.options,s){s={};for(var g=0;g<l.length;g++)s["$"+l[g]]=!0;for(l=0;l<i.length;l++)g=s.hasOwnProperty("$"+i[l].value),i[l].selected!==g&&(i[l].selected=g),g&&f&&(i[l].defaultSelected=!0)}else{for(l=""+Zt(l),s=null,g=0;g<i.length;g++){if(i[g].value===l){i[g].selected=!0,f&&(i[g].defaultSelected=!0);return}s!==null||i[g].disabled||(s=i[g])}s!==null&&(s.selected=!0)}}function zr(i,s,l){if(s!=null&&(s=""+Zt(s),s!==i.value&&(i.value=s),l==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=l!=null?""+Zt(l):""}function Qi(i,s,l,f){if(s==null){if(f!=null){if(l!=null)throw Error(r(92));if(it(f)){if(1<f.length)throw Error(r(93));f=f[0]}l=f}l==null&&(l=""),s=l}l=Zt(s),i.defaultValue=l,f=i.textContent,f===l&&f!==""&&f!==null&&(i.value=f),je(i)}function Dn(i,s){if(s){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=s;return}}i.textContent=s}var $o=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function as(i,s,l){var f=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?f?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":f?i.setProperty(s,l):typeof l!="number"||l===0||$o.has(s)?s==="float"?i.cssFloat=l:i[s]=(""+l).trim():i[s]=l+"px"}function ho(i,s,l){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,l!=null){for(var f in l)!l.hasOwnProperty(f)||s!=null&&s.hasOwnProperty(f)||(f.indexOf("--")===0?i.setProperty(f,""):f==="float"?i.cssFloat="":i[f]="");for(var g in s)f=s[g],s.hasOwnProperty(g)&&l[g]!==f&&as(i,g,f)}else for(var v in s)s.hasOwnProperty(v)&&as(i,v,s[v])}function Is(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),jr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ps(i){return jr.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function bi(){}var Go=null;function wi(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ls=null,Qe=null;function ni(i){var s=gt(i);if(s&&(i=s.stateNode)){var l=i[De]||null;e:switch(i=s.stateNode,s.type){case"input":if(Zo(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+sn(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var f=l[s];if(f!==i&&f.form===i.form){var g=f[De]||null;if(!g)throw Error(r(90));Zo(f,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(s=0;s<l.length;s++)f=l[s],f.form===i.form&&Kt(f)}break e;case"textarea":zr(i,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&Yt(i,!!l.multiple,s,!1)}}}var kt=!1;function ls(i,s,l){if(kt)return i(s,l);kt=!0;try{var f=i(s);return f}finally{if(kt=!1,(Ls!==null||Qe!==null)&&(jf(),Ls&&(s=Ls,i=Qe,Qe=Ls=null,ni(s),i)))for(s=0;s<i.length;s++)ni(i[s])}}function zi(i,s){var l=i.stateNode;if(l===null)return null;var f=l[De]||null;if(f===null)return null;l=f[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(i=i.type,f=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!f;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,s,typeof l));return l}var Ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),us=!1;if(Ei)try{var Tt={};Object.defineProperty(Tt,"passive",{get:function(){us=!0}}),window.addEventListener("test",Tt,Tt),window.removeEventListener("test",Tt,Tt)}catch{us=!1}var Wi=null,cs=null,dn=null;function yr(){if(dn)return dn;var i,s=cs,l=s.length,f,g="value"in Wi?Wi.value:Wi.textContent,v=g.length;for(i=0;i<l&&s[i]===g[i];i++);var A=l-i;for(f=1;f<=A&&s[l-f]===g[v-f];f++);return dn=g.slice(i,1<f?1-f:void 0)}function Ds(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Ur(){return!0}function vr(){return!1}function kn(i){function s(l,f,g,v,A){this._reactName=l,this._targetInst=g,this.type=f,this.nativeEvent=v,this.target=A,this.currentTarget=null;for(var P in i)i.hasOwnProperty(P)&&(l=i[P],this[P]=l?l(v):v[P]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Ur:vr,this.isPropagationStopped=vr,this}return x(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Ur)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Ur)},persist:function(){},isPersistent:Ur}),s}var br={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vr=kn(br),hs=x({},br,{view:0,detail:0}),_t=kn(hs),ks,ii,Ti,mo=x({},hs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ms,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ti&&(Ti&&i.type==="mousemove"?(ks=i.screenX-Ti.screenX,ii=i.screenY-Ti.screenY):ii=ks=0,Ti=i),ks)},movementY:function(i){return"movementY"in i?i.movementY:ii}}),Xa=kn(mo),fs=x({},mo,{dataTransfer:0}),Ql=kn(fs),Ja=x({},hs,{relatedTarget:0}),po=kn(Ja),el=x({},br,{animationName:0,elapsedTime:0,pseudoElement:0}),Ko=kn(el),Yo=x({},br,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),ji=kn(Yo),Wl=x({},br,{data:0}),wr=kn(Wl),Er={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qo(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=nl[i])?!!s[i]:!1}function Ms(){return Qo}var ri=x({},hs,{key:function(i){if(i.key){var s=Er[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Ds(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?tl[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ms,charCode:function(i){return i.type==="keypress"?Ds(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ds(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),il=kn(ri),Xl=x({},mo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ds=kn(Xl),d=x({},hs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ms}),T=kn(d),R=x({},br,{propertyName:0,elapsedTime:0,pseudoElement:0}),k=kn(R),J=x({},mo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),he=kn(J),Ne=x({},br,{newState:0,oldState:0}),nt=kn(Ne),Ot=[9,13,27,32],It=Ei&&"CompositionEvent"in window,on=null;Ei&&"documentMode"in document&&(on=document.documentMode);var Xi=Ei&&"TextEvent"in window&&!on,Ji=Ei&&(!It||on&&8<on&&11>=on),Ui=" ",Tr=!1;function go(i,s){switch(i){case"keyup":return Ot.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _o(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Wo=!1;function xr(i,s){switch(i){case"compositionend":return _o(s);case"keypress":return s.which!==32?null:(Tr=!0,Ui);case"textInput":return i=s.data,i===Ui&&Tr?null:i;default:return null}}function Xo(i,s){if(Wo)return i==="compositionend"||!It&&go(i,s)?(i=yr(),dn=cs=Wi=null,Wo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ji&&s.locale!=="ko"?null:s.data;default:return null}}var Jm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Br(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!Jm[i.type]:s==="textarea"}function ef(i,s,l,f){Ls?Qe?Qe.push(f):Qe=[f]:Ls=f,s=Zf(s,"onChange"),0<s.length&&(l=new Vr("onChange","change",null,l,f),i.push({event:l,listeners:s}))}var Fr=null,rl=null;function sl(i){Sb(i,0)}function ol(i){var s=un(i);if(Kt(s))return i}function al(i,s){if(i==="change")return s}var tf=!1;if(Ei){var Hr;if(Ei){var Jo="oninput"in document;if(!Jo){var nf=document.createElement("div");nf.setAttribute("oninput","return;"),Jo=typeof nf.oninput=="function"}Hr=Jo}else Hr=!1;tf=Hr&&(!document.documentMode||9<document.documentMode)}function Jl(){Fr&&(Fr.detachEvent("onpropertychange",rf),rl=Fr=null)}function rf(i){if(i.propertyName==="value"&&ol(rl)){var s=[];ef(s,rl,i,wi(i)),ls(sl,s)}}function ms(i,s,l){i==="focusin"?(Jl(),Fr=s,rl=l,Fr.attachEvent("onpropertychange",rf)):i==="focusout"&&Jl()}function ep(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return ol(rl)}function ea(i,s){if(i==="click")return ol(s)}function tp(i,s){if(i==="input"||i==="change")return ol(s)}function ps(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var si=typeof Object.is=="function"?Object.is:ps;function ta(i,s){if(si(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var l=Object.keys(i),f=Object.keys(s);if(l.length!==f.length)return!1;for(f=0;f<l.length;f++){var g=l[f];if(!hn.call(s,g)||!si(i[g],s[g]))return!1}return!0}function eu(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function ll(i,s){var l=eu(i);i=0;for(var f;l;){if(l.nodeType===3){if(f=i+l.textContent.length,i<=s&&f>=s)return{node:l,offset:s-i};i=f}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=eu(l)}}function tu(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?tu(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function ul(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Yi(i.document);s instanceof i.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)i=s.contentWindow;else break;s=Yi(i.document)}return s}function zs(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var nu=Ei&&"documentMode"in document&&11>=document.documentMode,js=null,iu=null,cl=null,na=!1;function sf(i,s,l){var f=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;na||js==null||js!==Yi(f)||(f=js,"selectionStart"in f&&zs(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),cl&&ta(cl,f)||(cl=f,f=Zf(iu,"onSelect"),0<f.length&&(s=new Vr("onSelect","select",null,s,l),i.push({event:s,listeners:f}),s.target=js)))}function Us(i,s){var l={};return l[i.toLowerCase()]=s.toLowerCase(),l["Webkit"+i]="webkit"+s,l["Moz"+i]="moz"+s,l}var ia={animationend:Us("Animation","AnimationEnd"),animationiteration:Us("Animation","AnimationIteration"),animationstart:Us("Animation","AnimationStart"),transitionrun:Us("Transition","TransitionRun"),transitionstart:Us("Transition","TransitionStart"),transitioncancel:Us("Transition","TransitionCancel"),transitionend:Us("Transition","TransitionEnd")},ru={},of={};Ei&&(of=document.createElement("div").style,"AnimationEvent"in window||(delete ia.animationend.animation,delete ia.animationiteration.animation,delete ia.animationstart.animation),"TransitionEvent"in window||delete ia.transitionend.transition);function oi(i){if(ru[i])return ru[i];if(!ia[i])return i;var s=ia[i],l;for(l in s)if(s.hasOwnProperty(l)&&l in of)return ru[i]=s[l];return i}var hl=oi("animationend"),af=oi("animationiteration"),fl=oi("animationstart"),np=oi("transitionrun"),lf=oi("transitionstart"),ip=oi("transitioncancel"),ra=oi("transitionend"),uf=new Map,Vs="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Vs.push("scrollEnd");function er(i,s){uf.set(i,s),ei(s,[i])}var dl=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},tr=[],xi=0,su=0;function ml(){for(var i=xi,s=su=xi=0;s<i;){var l=tr[s];tr[s++]=null;var f=tr[s];tr[s++]=null;var g=tr[s];tr[s++]=null;var v=tr[s];if(tr[s++]=null,f!==null&&g!==null){var A=f.pending;A===null?g.next=g:(g.next=A.next,A.next=g),f.pending=g}v!==0&&sa(l,g,v)}}function Bs(i,s,l,f){tr[xi++]=i,tr[xi++]=s,tr[xi++]=l,tr[xi++]=f,su|=f,i.lanes|=f,i=i.alternate,i!==null&&(i.lanes|=f)}function yc(i,s,l,f){return Bs(i,s,l,f),pl(i)}function qr(i,s){return Bs(i,null,null,s),pl(i)}function sa(i,s,l){i.lanes|=l;var f=i.alternate;f!==null&&(f.lanes|=l);for(var g=!1,v=i.return;v!==null;)v.childLanes|=l,f=v.alternate,f!==null&&(f.childLanes|=l),v.tag===22&&(i=v.stateNode,i===null||i._visibility&1||(g=!0)),i=v,v=v.return;return i.tag===3?(v=i.stateNode,g&&s!==null&&(g=31-ln(l),i=v.hiddenUpdates,f=i[g],f===null?i[g]=[s]:f.push(s),s.lane=l|536870912),v):null}function pl(i){if(50<Hc)throw Hc=0,sg=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var yo={};function rp(i,s,l,f){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Si(i,s,l,f){return new rp(i,s,l,f)}function ou(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Zr(i,s){var l=i.alternate;return l===null?(l=Si(i.tag,s,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=s,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,s=i.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function vc(i,s){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,s=l.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function gl(i,s,l,f,g,v){var A=0;if(f=i,typeof i=="function")ou(i)&&(A=1);else if(typeof i=="string")A=pC(i,l,xe.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case z:return i=Si(31,l,s,g),i.elementType=z,i.lanes=v,i;case j:return vo(l.children,g,v,s);case U:A=8,g|=24;break;case ne:return i=Si(12,l,s,g|2),i.elementType=ne,i.lanes=v,i;case Ce:return i=Si(13,l,s,g),i.elementType=Ce,i.lanes=v,i;case ke:return i=Si(19,l,s,g),i.elementType=ke,i.lanes=v,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case ae:A=10;break e;case ee:A=9;break e;case Te:A=11;break e;case N:A=14;break e;case M:A=16,f=null;break e}A=29,l=Error(r(130,i===null?"null":typeof i,"")),f=null}return s=Si(A,l,s,g),s.elementType=i,s.type=f,s.lanes=v,s}function vo(i,s,l,f){return i=Si(7,i,f,s),i.lanes=l,i}function au(i,s,l){return i=Si(6,i,null,s),i.lanes=l,i}function bc(i){var s=Si(18,null,null,0);return s.stateNode=i,s}function wc(i,s,l){return s=Si(4,i.children!==null?i.children:[],i.key,s),s.lanes=l,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var a=new WeakMap;function h(i,s){if(typeof i=="object"&&i!==null){var l=a.get(i);return l!==void 0?l:(s={value:i,source:s,stack:Lr(s)},a.set(i,s),s)}return{value:i,source:s,stack:Lr(s)}}var m=[],b=0,S=null,O=0,q=[],X=0,ue=null,_e=1,Pe="";function $e(i,s){m[b++]=O,m[b++]=S,S=i,O=s}function dt(i,s,l){q[X++]=_e,q[X++]=Pe,q[X++]=ue,ue=i;var f=_e;i=Pe;var g=32-ln(f)-1;f&=~(1<<g),l+=1;var v=32-ln(s)+g;if(30<v){var A=g-g%5;v=(f&(1<<A)-1).toString(32),f>>=A,g-=A,_e=1<<32-ln(s)+g|l<<g|f,Pe=v+i}else _e=1<<v|l<<g|f,Pe=i}function qn(i){i.return!==null&&($e(i,1),dt(i,1,0))}function Tn(i){for(;i===S;)S=m[--b],m[b]=null,O=m[--b],m[b]=null;for(;i===ue;)ue=q[--X],q[X]=null,Pe=q[--X],q[X]=null,_e=q[--X],q[X]=null}function Vi(i,s){q[X++]=_e,q[X++]=Pe,q[X++]=ue,_e=s.id,Pe=s.overflow,ue=i}var jt=null,Ut=null,bt=!1,Fs=null,nr=!1,lu=Error(r(519));function Hs(i){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw _l(h(s,i)),lu}function Ec(i){var s=i.stateNode,l=i.type,f=i.memoizedProps;switch(s[Ie]=i,s[De]=f,l){case"dialog":Et("cancel",s),Et("close",s);break;case"iframe":case"object":case"embed":Et("load",s);break;case"video":case"audio":for(l=0;l<Zc.length;l++)Et(Zc[l],s);break;case"source":Et("error",s);break;case"img":case"image":case"link":Et("error",s),Et("load",s);break;case"details":Et("toggle",s);break;case"input":Et("invalid",s),co(s,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0);break;case"select":Et("invalid",s);break;case"textarea":Et("invalid",s),Qi(s,f.value,f.defaultValue,f.children)}l=f.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||f.suppressHydrationWarning===!0||Nb(s.textContent,l)?(f.popover!=null&&(Et("beforetoggle",s),Et("toggle",s)),f.onScroll!=null&&Et("scroll",s),f.onScrollEnd!=null&&Et("scrollend",s),f.onClick!=null&&(s.onclick=bi),s=!0):s=!1,s||Hs(i,!0)}function yn(i){for(jt=i.return;jt;)switch(jt.tag){case 5:case 31:case 13:nr=!1;return;case 27:case 3:nr=!0;return;default:jt=jt.return}}function gs(i){if(i!==jt)return!1;if(!bt)return yn(i),bt=!0,!1;var s=i.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||bg(i.type,i.memoizedProps)),l=!l),l&&Ut&&Hs(i),yn(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Ut=jb(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Ut=jb(i)}else s===27?(s=Ut,va(i.type)?(i=Sg,Sg=null,Ut=i):Ut=s):Ut=jt?Gr(i.stateNode.nextSibling):null;return!0}function bo(){Ut=jt=null,bt=!1}function Tc(){var i=Fs;return i!==null&&(or===null?or=i:or.push.apply(or,i),Fs=null),i}function _l(i){Fs===null?Fs=[i]:Fs.push(i)}var yl=H(null),qs=null,_s=null;function oa(i,s,l){be(yl,s._currentValue),s._currentValue=l}function wo(i){i._currentValue=yl.current,le(yl)}function sp(i,s,l){for(;i!==null;){var f=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,f!==null&&(f.childLanes|=s)):f!==null&&(f.childLanes&s)!==s&&(f.childLanes|=s),i===l)break;i=i.return}}function op(i,s,l,f){var g=i.child;for(g!==null&&(g.return=i);g!==null;){var v=g.dependencies;if(v!==null){var A=g.child;v=v.firstContext;e:for(;v!==null;){var P=v;v=g;for(var $=0;$<s.length;$++)if(P.context===s[$]){v.lanes|=l,P=v.alternate,P!==null&&(P.lanes|=l),sp(v.return,l,i),f||(A=null);break e}v=P.next}}else if(g.tag===18){if(A=g.return,A===null)throw Error(r(341));A.lanes|=l,v=A.alternate,v!==null&&(v.lanes|=l),sp(A,l,i),A=null}else A=g.child;if(A!==null)A.return=g;else for(A=g;A!==null;){if(A===i){A=null;break}if(g=A.sibling,g!==null){g.return=A.return,A=g;break}A=A.return}g=A}}function uu(i,s,l,f){i=null;for(var g=s,v=!1;g!==null;){if(!v){if((g.flags&524288)!==0)v=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var A=g.alternate;if(A===null)throw Error(r(387));if(A=A.memoizedProps,A!==null){var P=g.type;si(g.pendingProps.value,A.value)||(i!==null?i.push(P):i=[P])}}else if(g===Je.current){if(A=g.alternate,A===null)throw Error(r(387));A.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(i!==null?i.push(Qc):i=[Qc])}g=g.return}i!==null&&op(s,i,l,f),s.flags|=262144}function cf(i){for(i=i.firstContext;i!==null;){if(!si(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function vl(i){qs=i,_s=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function fi(i){return mv(qs,i)}function hf(i,s){return qs===null&&vl(i),mv(i,s)}function mv(i,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},_s===null){if(i===null)throw Error(r(308));_s=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else _s=_s.next=s;return l}var hR=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(l,f){i.push(f)}};this.abort=function(){s.aborted=!0,i.forEach(function(l){return l()})}},fR=t.unstable_scheduleCallback,dR=t.unstable_NormalPriority,Mn={$$typeof:ae,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ap(){return{controller:new hR,data:new Map,refCount:0}}function xc(i){i.refCount--,i.refCount===0&&fR(dR,function(){i.controller.abort()})}var Sc=null,lp=0,cu=0,hu=null;function mR(i,s){if(Sc===null){var l=Sc=[];lp=0,cu=hg(),hu={status:"pending",value:void 0,then:function(f){l.push(f)}}}return lp++,s.then(pv,pv),s}function pv(){if(--lp===0&&Sc!==null){hu!==null&&(hu.status="fulfilled");var i=Sc;Sc=null,cu=0,hu=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function pR(i,s){var l=[],f={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return i.then(function(){f.status="fulfilled",f.value=s;for(var g=0;g<l.length;g++)(0,l[g])(s)},function(g){for(f.status="rejected",f.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),f}var gv=te.S;te.S=function(i,s){J0=fn(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&mR(i,s),gv!==null&&gv(i,s)};var bl=H(null);function up(){var i=bl.current;return i!==null?i:an.pooledCache}function ff(i,s){s===null?be(bl,bl.current):be(bl,s.pool)}function _v(){var i=up();return i===null?null:{parent:Mn._currentValue,pool:i}}var fu=Error(r(460)),cp=Error(r(474)),df=Error(r(542)),mf={then:function(){}};function yv(i){return i=i.status,i==="fulfilled"||i==="rejected"}function vv(i,s,l){switch(l=i[l],l===void 0?i.push(s):l!==s&&(s.then(bi,bi),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,wv(i),i;default:if(typeof s.status=="string")s.then(bi,bi);else{if(i=an,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(f){if(s.status==="pending"){var g=s;g.status="fulfilled",g.value=f}},function(f){if(s.status==="pending"){var g=s;g.status="rejected",g.reason=f}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,wv(i),i}throw El=s,fu}}function wl(i){try{var s=i._init;return s(i._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(El=l,fu):l}}var El=null;function bv(){if(El===null)throw Error(r(459));var i=El;return El=null,i}function wv(i){if(i===fu||i===df)throw Error(r(483))}var du=null,Ac=0;function pf(i){var s=Ac;return Ac+=1,du===null&&(du=[]),vv(du,i,s)}function Rc(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function gf(i,s){throw s.$$typeof===C?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function Ev(i){function s(W,Y){if(i){var se=W.deletions;se===null?(W.deletions=[Y],W.flags|=16):se.push(Y)}}function l(W,Y){if(!i)return null;for(;Y!==null;)s(W,Y),Y=Y.sibling;return null}function f(W){for(var Y=new Map;W!==null;)W.key!==null?Y.set(W.key,W):Y.set(W.index,W),W=W.sibling;return Y}function g(W,Y){return W=Zr(W,Y),W.index=0,W.sibling=null,W}function v(W,Y,se){return W.index=se,i?(se=W.alternate,se!==null?(se=se.index,se<Y?(W.flags|=67108866,Y):se):(W.flags|=67108866,Y)):(W.flags|=1048576,Y)}function A(W){return i&&W.alternate===null&&(W.flags|=67108866),W}function P(W,Y,se,ge){return Y===null||Y.tag!==6?(Y=au(se,W.mode,ge),Y.return=W,Y):(Y=g(Y,se),Y.return=W,Y)}function $(W,Y,se,ge){var Ge=se.type;return Ge===j?pe(W,Y,se.props.children,ge,se.key):Y!==null&&(Y.elementType===Ge||typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===M&&wl(Ge)===Y.type)?(Y=g(Y,se.props),Rc(Y,se),Y.return=W,Y):(Y=gl(se.type,se.key,se.props,null,W.mode,ge),Rc(Y,se),Y.return=W,Y)}function oe(W,Y,se,ge){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==se.containerInfo||Y.stateNode.implementation!==se.implementation?(Y=wc(se,W.mode,ge),Y.return=W,Y):(Y=g(Y,se.children||[]),Y.return=W,Y)}function pe(W,Y,se,ge,Ge){return Y===null||Y.tag!==7?(Y=vo(se,W.mode,ge,Ge),Y.return=W,Y):(Y=g(Y,se),Y.return=W,Y)}function ye(W,Y,se){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=au(""+Y,W.mode,se),Y.return=W,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case D:return se=gl(Y.type,Y.key,Y.props,null,W.mode,se),Rc(se,Y),se.return=W,se;case I:return Y=wc(Y,W.mode,se),Y.return=W,Y;case M:return Y=wl(Y),ye(W,Y,se)}if(it(Y)||K(Y))return Y=vo(Y,W.mode,se,null),Y.return=W,Y;if(typeof Y.then=="function")return ye(W,pf(Y),se);if(Y.$$typeof===ae)return ye(W,hf(W,Y),se);gf(W,Y)}return null}function ce(W,Y,se,ge){var Ge=Y!==null?Y.key:null;if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return Ge!==null?null:P(W,Y,""+se,ge);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case D:return se.key===Ge?$(W,Y,se,ge):null;case I:return se.key===Ge?oe(W,Y,se,ge):null;case M:return se=wl(se),ce(W,Y,se,ge)}if(it(se)||K(se))return Ge!==null?null:pe(W,Y,se,ge,null);if(typeof se.then=="function")return ce(W,Y,pf(se),ge);if(se.$$typeof===ae)return ce(W,Y,hf(W,se),ge);gf(W,se)}return null}function de(W,Y,se,ge,Ge){if(typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint")return W=W.get(se)||null,P(Y,W,""+ge,Ge);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case D:return W=W.get(ge.key===null?se:ge.key)||null,$(Y,W,ge,Ge);case I:return W=W.get(ge.key===null?se:ge.key)||null,oe(Y,W,ge,Ge);case M:return ge=wl(ge),de(W,Y,se,ge,Ge)}if(it(ge)||K(ge))return W=W.get(se)||null,pe(Y,W,ge,Ge,null);if(typeof ge.then=="function")return de(W,Y,se,pf(ge),Ge);if(ge.$$typeof===ae)return de(W,Y,se,hf(Y,ge),Ge);gf(Y,ge)}return null}function He(W,Y,se,ge){for(var Ge=null,Vt=null,Ze=Y,mt=Y=0,St=null;Ze!==null&&mt<se.length;mt++){Ze.index>mt?(St=Ze,Ze=null):St=Ze.sibling;var Bt=ce(W,Ze,se[mt],ge);if(Bt===null){Ze===null&&(Ze=St);break}i&&Ze&&Bt.alternate===null&&s(W,Ze),Y=v(Bt,Y,mt),Vt===null?Ge=Bt:Vt.sibling=Bt,Vt=Bt,Ze=St}if(mt===se.length)return l(W,Ze),bt&&$e(W,mt),Ge;if(Ze===null){for(;mt<se.length;mt++)Ze=ye(W,se[mt],ge),Ze!==null&&(Y=v(Ze,Y,mt),Vt===null?Ge=Ze:Vt.sibling=Ze,Vt=Ze);return bt&&$e(W,mt),Ge}for(Ze=f(Ze);mt<se.length;mt++)St=de(Ze,W,mt,se[mt],ge),St!==null&&(i&&St.alternate!==null&&Ze.delete(St.key===null?mt:St.key),Y=v(St,Y,mt),Vt===null?Ge=St:Vt.sibling=St,Vt=St);return i&&Ze.forEach(function(xa){return s(W,xa)}),bt&&$e(W,mt),Ge}function We(W,Y,se,ge){if(se==null)throw Error(r(151));for(var Ge=null,Vt=null,Ze=Y,mt=Y=0,St=null,Bt=se.next();Ze!==null&&!Bt.done;mt++,Bt=se.next()){Ze.index>mt?(St=Ze,Ze=null):St=Ze.sibling;var xa=ce(W,Ze,Bt.value,ge);if(xa===null){Ze===null&&(Ze=St);break}i&&Ze&&xa.alternate===null&&s(W,Ze),Y=v(xa,Y,mt),Vt===null?Ge=xa:Vt.sibling=xa,Vt=xa,Ze=St}if(Bt.done)return l(W,Ze),bt&&$e(W,mt),Ge;if(Ze===null){for(;!Bt.done;mt++,Bt=se.next())Bt=ye(W,Bt.value,ge),Bt!==null&&(Y=v(Bt,Y,mt),Vt===null?Ge=Bt:Vt.sibling=Bt,Vt=Bt);return bt&&$e(W,mt),Ge}for(Ze=f(Ze);!Bt.done;mt++,Bt=se.next())Bt=de(Ze,W,mt,Bt.value,ge),Bt!==null&&(i&&Bt.alternate!==null&&Ze.delete(Bt.key===null?mt:Bt.key),Y=v(Bt,Y,mt),Vt===null?Ge=Bt:Vt.sibling=Bt,Vt=Bt);return i&&Ze.forEach(function(AC){return s(W,AC)}),bt&&$e(W,mt),Ge}function en(W,Y,se,ge){if(typeof se=="object"&&se!==null&&se.type===j&&se.key===null&&(se=se.props.children),typeof se=="object"&&se!==null){switch(se.$$typeof){case D:e:{for(var Ge=se.key;Y!==null;){if(Y.key===Ge){if(Ge=se.type,Ge===j){if(Y.tag===7){l(W,Y.sibling),ge=g(Y,se.props.children),ge.return=W,W=ge;break e}}else if(Y.elementType===Ge||typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===M&&wl(Ge)===Y.type){l(W,Y.sibling),ge=g(Y,se.props),Rc(ge,se),ge.return=W,W=ge;break e}l(W,Y);break}else s(W,Y);Y=Y.sibling}se.type===j?(ge=vo(se.props.children,W.mode,ge,se.key),ge.return=W,W=ge):(ge=gl(se.type,se.key,se.props,null,W.mode,ge),Rc(ge,se),ge.return=W,W=ge)}return A(W);case I:e:{for(Ge=se.key;Y!==null;){if(Y.key===Ge)if(Y.tag===4&&Y.stateNode.containerInfo===se.containerInfo&&Y.stateNode.implementation===se.implementation){l(W,Y.sibling),ge=g(Y,se.children||[]),ge.return=W,W=ge;break e}else{l(W,Y);break}else s(W,Y);Y=Y.sibling}ge=wc(se,W.mode,ge),ge.return=W,W=ge}return A(W);case M:return se=wl(se),en(W,Y,se,ge)}if(it(se))return He(W,Y,se,ge);if(K(se)){if(Ge=K(se),typeof Ge!="function")throw Error(r(150));return se=Ge.call(se),We(W,Y,se,ge)}if(typeof se.then=="function")return en(W,Y,pf(se),ge);if(se.$$typeof===ae)return en(W,Y,hf(W,se),ge);gf(W,se)}return typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint"?(se=""+se,Y!==null&&Y.tag===6?(l(W,Y.sibling),ge=g(Y,se),ge.return=W,W=ge):(l(W,Y),ge=au(se,W.mode,ge),ge.return=W,W=ge),A(W)):l(W,Y)}return function(W,Y,se,ge){try{Ac=0;var Ge=en(W,Y,se,ge);return du=null,Ge}catch(Ze){if(Ze===fu||Ze===df)throw Ze;var Vt=Si(29,Ze,null,W.mode);return Vt.lanes=ge,Vt.return=W,Vt}finally{}}}var Tl=Ev(!0),Tv=Ev(!1),aa=!1;function hp(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fp(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function la(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function ua(i,s,l){var f=i.updateQueue;if(f===null)return null;if(f=f.shared,(qt&2)!==0){var g=f.pending;return g===null?s.next=s:(s.next=g.next,g.next=s),f.pending=s,s=pl(i),sa(i,null,l),s}return Bs(i,f,s,l),pl(i)}function Cc(i,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var f=s.lanes;f&=i.pendingLanes,l|=f,s.lanes=l,Z(i,l)}}function dp(i,s){var l=i.updateQueue,f=i.alternate;if(f!==null&&(f=f.updateQueue,l===f)){var g=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var A={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};v===null?g=v=A:v=v.next=A,l=l.next}while(l!==null);v===null?g=v=s:v=v.next=s}else g=v=s;l={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:v,shared:f.shared,callbacks:f.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=s:i.next=s,l.lastBaseUpdate=s}var mp=!1;function Nc(){if(mp){var i=hu;if(i!==null)throw i}}function Oc(i,s,l,f){mp=!1;var g=i.updateQueue;aa=!1;var v=g.firstBaseUpdate,A=g.lastBaseUpdate,P=g.shared.pending;if(P!==null){g.shared.pending=null;var $=P,oe=$.next;$.next=null,A===null?v=oe:A.next=oe,A=$;var pe=i.alternate;pe!==null&&(pe=pe.updateQueue,P=pe.lastBaseUpdate,P!==A&&(P===null?pe.firstBaseUpdate=oe:P.next=oe,pe.lastBaseUpdate=$))}if(v!==null){var ye=g.baseState;A=0,pe=oe=$=null,P=v;do{var ce=P.lane&-536870913,de=ce!==P.lane;if(de?(xt&ce)===ce:(f&ce)===ce){ce!==0&&ce===cu&&(mp=!0),pe!==null&&(pe=pe.next={lane:0,tag:P.tag,payload:P.payload,callback:null,next:null});e:{var He=i,We=P;ce=s;var en=l;switch(We.tag){case 1:if(He=We.payload,typeof He=="function"){ye=He.call(en,ye,ce);break e}ye=He;break e;case 3:He.flags=He.flags&-65537|128;case 0:if(He=We.payload,ce=typeof He=="function"?He.call(en,ye,ce):He,ce==null)break e;ye=x({},ye,ce);break e;case 2:aa=!0}}ce=P.callback,ce!==null&&(i.flags|=64,de&&(i.flags|=8192),de=g.callbacks,de===null?g.callbacks=[ce]:de.push(ce))}else de={lane:ce,tag:P.tag,payload:P.payload,callback:P.callback,next:null},pe===null?(oe=pe=de,$=ye):pe=pe.next=de,A|=ce;if(P=P.next,P===null){if(P=g.shared.pending,P===null)break;de=P,P=de.next,de.next=null,g.lastBaseUpdate=de,g.shared.pending=null}}while(!0);pe===null&&($=ye),g.baseState=$,g.firstBaseUpdate=oe,g.lastBaseUpdate=pe,v===null&&(g.shared.lanes=0),ma|=A,i.lanes=A,i.memoizedState=ye}}function xv(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function Sv(i,s){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)xv(l[i],s)}var mu=H(null),_f=H(0);function Av(i,s){i=Oo,be(_f,i),be(mu,s),Oo=i|s.baseLanes}function pp(){be(_f,Oo),be(mu,mu.current)}function gp(){Oo=_f.current,le(mu),le(_f)}var Sr=H(null),$r=null;function ca(i){var s=i.alternate;be(Nn,Nn.current&1),be(Sr,i),$r===null&&(s===null||mu.current!==null||s.memoizedState!==null)&&($r=i)}function _p(i){be(Nn,Nn.current),be(Sr,i),$r===null&&($r=i)}function Rv(i){i.tag===22?(be(Nn,Nn.current),be(Sr,i),$r===null&&($r=i)):ha()}function ha(){be(Nn,Nn.current),be(Sr,Sr.current)}function Ar(i){le(Sr),$r===i&&($r=null),le(Nn)}var Nn=H(0);function yf(i){for(var s=i;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Tg(l)||xg(l)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Eo=0,ht=null,Xt=null,zn=null,vf=!1,pu=!1,xl=!1,bf=0,Ic=0,gu=null,gR=0;function xn(){throw Error(r(321))}function yp(i,s){if(s===null)return!1;for(var l=0;l<s.length&&l<i.length;l++)if(!si(i[l],s[l]))return!1;return!0}function vp(i,s,l,f,g,v){return Eo=v,ht=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,te.H=i===null||i.memoizedState===null?c0:Dp,xl=!1,v=l(f,g),xl=!1,pu&&(v=Nv(s,l,f,g)),Cv(i),v}function Cv(i){te.H=Dc;var s=Xt!==null&&Xt.next!==null;if(Eo=0,zn=Xt=ht=null,vf=!1,Ic=0,gu=null,s)throw Error(r(300));i===null||jn||(i=i.dependencies,i!==null&&cf(i)&&(jn=!0))}function Nv(i,s,l,f){ht=i;var g=0;do{if(pu&&(gu=null),Ic=0,pu=!1,25<=g)throw Error(r(301));if(g+=1,zn=Xt=null,i.updateQueue!=null){var v=i.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}te.H=h0,v=s(l,f)}while(pu);return v}function _R(){var i=te.H,s=i.useState()[0];return s=typeof s.then=="function"?Pc(s):s,i=i.useState()[0],(Xt!==null?Xt.memoizedState:null)!==i&&(ht.flags|=1024),s}function bp(){var i=bf!==0;return bf=0,i}function wp(i,s,l){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~l}function Ep(i){if(vf){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}vf=!1}Eo=0,zn=Xt=ht=null,pu=!1,Ic=bf=0,gu=null}function Bi(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zn===null?ht.memoizedState=zn=i:zn=zn.next=i,zn}function On(){if(Xt===null){var i=ht.alternate;i=i!==null?i.memoizedState:null}else i=Xt.next;var s=zn===null?ht.memoizedState:zn.next;if(s!==null)zn=s,Xt=i;else{if(i===null)throw ht.alternate===null?Error(r(467)):Error(r(310));Xt=i,i={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},zn===null?ht.memoizedState=zn=i:zn=zn.next=i}return zn}function wf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Pc(i){var s=Ic;return Ic+=1,gu===null&&(gu=[]),i=vv(gu,i,s),s=ht,(zn===null?s.memoizedState:zn.next)===null&&(s=s.alternate,te.H=s===null||s.memoizedState===null?c0:Dp),i}function Ef(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Pc(i);if(i.$$typeof===ae)return fi(i)}throw Error(r(438,String(i)))}function Tp(i){var s=null,l=ht.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var f=ht.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(s={data:f.data.map(function(g){return g.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=wf(),ht.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(i),f=0;f<i;f++)l[f]=G;return s.index++,l}function To(i,s){return typeof s=="function"?s(i):s}function Tf(i){var s=On();return xp(s,Xt,i)}function xp(i,s,l){var f=i.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=l;var g=i.baseQueue,v=f.pending;if(v!==null){if(g!==null){var A=g.next;g.next=v.next,v.next=A}s.baseQueue=g=v,f.pending=null}if(v=i.baseState,g===null)i.memoizedState=v;else{s=g.next;var P=A=null,$=null,oe=s,pe=!1;do{var ye=oe.lane&-536870913;if(ye!==oe.lane?(xt&ye)===ye:(Eo&ye)===ye){var ce=oe.revertLane;if(ce===0)$!==null&&($=$.next={lane:0,revertLane:0,gesture:null,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null}),ye===cu&&(pe=!0);else if((Eo&ce)===ce){oe=oe.next,ce===cu&&(pe=!0);continue}else ye={lane:0,revertLane:oe.revertLane,gesture:null,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null},$===null?(P=$=ye,A=v):$=$.next=ye,ht.lanes|=ce,ma|=ce;ye=oe.action,xl&&l(v,ye),v=oe.hasEagerState?oe.eagerState:l(v,ye)}else ce={lane:ye,revertLane:oe.revertLane,gesture:oe.gesture,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null},$===null?(P=$=ce,A=v):$=$.next=ce,ht.lanes|=ye,ma|=ye;oe=oe.next}while(oe!==null&&oe!==s);if($===null?A=v:$.next=P,!si(v,i.memoizedState)&&(jn=!0,pe&&(l=hu,l!==null)))throw l;i.memoizedState=v,i.baseState=A,i.baseQueue=$,f.lastRenderedState=v}return g===null&&(f.lanes=0),[i.memoizedState,f.dispatch]}function Sp(i){var s=On(),l=s.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var f=l.dispatch,g=l.pending,v=s.memoizedState;if(g!==null){l.pending=null;var A=g=g.next;do v=i(v,A.action),A=A.next;while(A!==g);si(v,s.memoizedState)||(jn=!0),s.memoizedState=v,s.baseQueue===null&&(s.baseState=v),l.lastRenderedState=v}return[v,f]}function Ov(i,s,l){var f=ht,g=On(),v=bt;if(v){if(l===void 0)throw Error(r(407));l=l()}else l=s();var A=!si((Xt||g).memoizedState,l);if(A&&(g.memoizedState=l,jn=!0),g=g.queue,Cp(Lv.bind(null,f,g,i),[i]),g.getSnapshot!==s||A||zn!==null&&zn.memoizedState.tag&1){if(f.flags|=2048,_u(9,{destroy:void 0},Pv.bind(null,f,g,l,s),null),an===null)throw Error(r(349));v||(Eo&127)!==0||Iv(f,s,l)}return l}function Iv(i,s,l){i.flags|=16384,i={getSnapshot:s,value:l},s=ht.updateQueue,s===null?(s=wf(),ht.updateQueue=s,s.stores=[i]):(l=s.stores,l===null?s.stores=[i]:l.push(i))}function Pv(i,s,l,f){s.value=l,s.getSnapshot=f,Dv(s)&&kv(i)}function Lv(i,s,l){return l(function(){Dv(s)&&kv(i)})}function Dv(i){var s=i.getSnapshot;i=i.value;try{var l=s();return!si(i,l)}catch{return!0}}function kv(i){var s=qr(i,2);s!==null&&ar(s,i,2)}function Ap(i){var s=Bi();if(typeof i=="function"){var l=i;if(i=l(),xl){Qn(!0);try{l()}finally{Qn(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:To,lastRenderedState:i},s}function Mv(i,s,l,f){return i.baseState=l,xp(i,Xt,typeof f=="function"?f:To)}function yR(i,s,l,f,g){if(Af(i))throw Error(r(485));if(i=s.action,i!==null){var v={payload:g,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){v.listeners.push(A)}};te.T!==null?l(!0):v.isTransition=!1,f(v),l=s.pending,l===null?(v.next=s.pending=v,zv(s,v)):(v.next=l.next,s.pending=l.next=v)}}function zv(i,s){var l=s.action,f=s.payload,g=i.state;if(s.isTransition){var v=te.T,A={};te.T=A;try{var P=l(g,f),$=te.S;$!==null&&$(A,P),jv(i,s,P)}catch(oe){Rp(i,s,oe)}finally{v!==null&&A.types!==null&&(v.types=A.types),te.T=v}}else try{v=l(g,f),jv(i,s,v)}catch(oe){Rp(i,s,oe)}}function jv(i,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(f){Uv(i,s,f)},function(f){return Rp(i,s,f)}):Uv(i,s,l)}function Uv(i,s,l){s.status="fulfilled",s.value=l,Vv(s),i.state=l,s=i.pending,s!==null&&(l=s.next,l===s?i.pending=null:(l=l.next,s.next=l,zv(i,l)))}function Rp(i,s,l){var f=i.pending;if(i.pending=null,f!==null){f=f.next;do s.status="rejected",s.reason=l,Vv(s),s=s.next;while(s!==f)}i.action=null}function Vv(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function Bv(i,s){return s}function Fv(i,s){if(bt){var l=an.formState;if(l!==null){e:{var f=ht;if(bt){if(Ut){t:{for(var g=Ut,v=nr;g.nodeType!==8;){if(!v){g=null;break t}if(g=Gr(g.nextSibling),g===null){g=null;break t}}v=g.data,g=v==="F!"||v==="F"?g:null}if(g){Ut=Gr(g.nextSibling),f=g.data==="F!";break e}}Hs(f)}f=!1}f&&(s=l[0])}}return l=Bi(),l.memoizedState=l.baseState=s,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bv,lastRenderedState:s},l.queue=f,l=a0.bind(null,ht,f),f.dispatch=l,f=Ap(!1),v=Lp.bind(null,ht,!1,f.queue),f=Bi(),g={state:s,dispatch:null,action:i,pending:null},f.queue=g,l=yR.bind(null,ht,g,v,l),g.dispatch=l,f.memoizedState=i,[s,l,!1]}function Hv(i){var s=On();return qv(s,Xt,i)}function qv(i,s,l){if(s=xp(i,s,Bv)[0],i=Tf(To)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var f=Pc(s)}catch(A){throw A===fu?df:A}else f=s;s=On();var g=s.queue,v=g.dispatch;return l!==s.memoizedState&&(ht.flags|=2048,_u(9,{destroy:void 0},vR.bind(null,g,l),null)),[f,v,i]}function vR(i,s){i.action=s}function Zv(i){var s=On(),l=Xt;if(l!==null)return qv(s,l,i);On(),s=s.memoizedState,l=On();var f=l.queue.dispatch;return l.memoizedState=i,[s,f,!1]}function _u(i,s,l,f){return i={tag:i,create:l,deps:f,inst:s,next:null},s=ht.updateQueue,s===null&&(s=wf(),ht.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=i.next=i:(f=l.next,l.next=i,i.next=f,s.lastEffect=i),i}function $v(){return On().memoizedState}function xf(i,s,l,f){var g=Bi();ht.flags|=i,g.memoizedState=_u(1|s,{destroy:void 0},l,f===void 0?null:f)}function Sf(i,s,l,f){var g=On();f=f===void 0?null:f;var v=g.memoizedState.inst;Xt!==null&&f!==null&&yp(f,Xt.memoizedState.deps)?g.memoizedState=_u(s,v,l,f):(ht.flags|=i,g.memoizedState=_u(1|s,v,l,f))}function Gv(i,s){xf(8390656,8,i,s)}function Cp(i,s){Sf(2048,8,i,s)}function bR(i){ht.flags|=4;var s=ht.updateQueue;if(s===null)s=wf(),ht.updateQueue=s,s.events=[i];else{var l=s.events;l===null?s.events=[i]:l.push(i)}}function Kv(i){var s=On().memoizedState;return bR({ref:s,nextImpl:i}),function(){if((qt&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function Yv(i,s){return Sf(4,2,i,s)}function Qv(i,s){return Sf(4,4,i,s)}function Wv(i,s){if(typeof s=="function"){i=i();var l=s(i);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function Xv(i,s,l){l=l!=null?l.concat([i]):null,Sf(4,4,Wv.bind(null,s,i),l)}function Np(){}function Jv(i,s){var l=On();s=s===void 0?null:s;var f=l.memoizedState;return s!==null&&yp(s,f[1])?f[0]:(l.memoizedState=[i,s],i)}function e0(i,s){var l=On();s=s===void 0?null:s;var f=l.memoizedState;if(s!==null&&yp(s,f[1]))return f[0];if(f=i(),xl){Qn(!0);try{i()}finally{Qn(!1)}}return l.memoizedState=[f,s],f}function Op(i,s,l){return l===void 0||(Eo&1073741824)!==0&&(xt&261930)===0?i.memoizedState=s:(i.memoizedState=l,i=tb(),ht.lanes|=i,ma|=i,l)}function t0(i,s,l,f){return si(l,s)?l:mu.current!==null?(i=Op(i,l,f),si(i,s)||(jn=!0),i):(Eo&42)===0||(Eo&1073741824)!==0&&(xt&261930)===0?(jn=!0,i.memoizedState=l):(i=tb(),ht.lanes|=i,ma|=i,s)}function n0(i,s,l,f,g){var v=Ee.p;Ee.p=v!==0&&8>v?v:8;var A=te.T,P={};te.T=P,Lp(i,!1,s,l);try{var $=g(),oe=te.S;if(oe!==null&&oe(P,$),$!==null&&typeof $=="object"&&typeof $.then=="function"){var pe=pR($,f);Lc(i,s,pe,Nr(i))}else Lc(i,s,f,Nr(i))}catch(ye){Lc(i,s,{then:function(){},status:"rejected",reason:ye},Nr())}finally{Ee.p=v,A!==null&&P.types!==null&&(A.types=P.types),te.T=A}}function wR(){}function Ip(i,s,l,f){if(i.tag!==5)throw Error(r(476));var g=i0(i).queue;n0(i,g,s,me,l===null?wR:function(){return r0(i),l(f)})}function i0(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:To,lastRenderedState:me},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:To,lastRenderedState:l},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function r0(i){var s=i0(i);s.next===null&&(s=i.alternate.memoizedState),Lc(i,s.next.queue,{},Nr())}function Pp(){return fi(Qc)}function s0(){return On().memoizedState}function o0(){return On().memoizedState}function ER(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var l=Nr();i=la(l);var f=ua(s,i,l);f!==null&&(ar(f,s,l),Cc(f,s,l)),s={cache:ap()},i.payload=s;return}s=s.return}}function TR(i,s,l){var f=Nr();l={lane:f,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Af(i)?l0(s,l):(l=yc(i,s,l,f),l!==null&&(ar(l,i,f),u0(l,s,f)))}function a0(i,s,l){var f=Nr();Lc(i,s,l,f)}function Lc(i,s,l,f){var g={lane:f,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Af(i))l0(s,g);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=s.lastRenderedReducer,v!==null))try{var A=s.lastRenderedState,P=v(A,l);if(g.hasEagerState=!0,g.eagerState=P,si(P,A))return Bs(i,s,g,0),an===null&&ml(),!1}catch{}finally{}if(l=yc(i,s,g,f),l!==null)return ar(l,i,f),u0(l,s,f),!0}return!1}function Lp(i,s,l,f){if(f={lane:2,revertLane:hg(),gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},Af(i)){if(s)throw Error(r(479))}else s=yc(i,l,f,2),s!==null&&ar(s,i,2)}function Af(i){var s=i.alternate;return i===ht||s!==null&&s===ht}function l0(i,s){pu=vf=!0;var l=i.pending;l===null?s.next=s:(s.next=l.next,l.next=s),i.pending=s}function u0(i,s,l){if((l&4194048)!==0){var f=s.lanes;f&=i.pendingLanes,l|=f,s.lanes=l,Z(i,l)}}var Dc={readContext:fi,use:Ef,useCallback:xn,useContext:xn,useEffect:xn,useImperativeHandle:xn,useLayoutEffect:xn,useInsertionEffect:xn,useMemo:xn,useReducer:xn,useRef:xn,useState:xn,useDebugValue:xn,useDeferredValue:xn,useTransition:xn,useSyncExternalStore:xn,useId:xn,useHostTransitionStatus:xn,useFormState:xn,useActionState:xn,useOptimistic:xn,useMemoCache:xn,useCacheRefresh:xn};Dc.useEffectEvent=xn;var c0={readContext:fi,use:Ef,useCallback:function(i,s){return Bi().memoizedState=[i,s===void 0?null:s],i},useContext:fi,useEffect:Gv,useImperativeHandle:function(i,s,l){l=l!=null?l.concat([i]):null,xf(4194308,4,Wv.bind(null,s,i),l)},useLayoutEffect:function(i,s){return xf(4194308,4,i,s)},useInsertionEffect:function(i,s){xf(4,2,i,s)},useMemo:function(i,s){var l=Bi();s=s===void 0?null:s;var f=i();if(xl){Qn(!0);try{i()}finally{Qn(!1)}}return l.memoizedState=[f,s],f},useReducer:function(i,s,l){var f=Bi();if(l!==void 0){var g=l(s);if(xl){Qn(!0);try{l(s)}finally{Qn(!1)}}}else g=s;return f.memoizedState=f.baseState=g,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:g},f.queue=i,i=i.dispatch=TR.bind(null,ht,i),[f.memoizedState,i]},useRef:function(i){var s=Bi();return i={current:i},s.memoizedState=i},useState:function(i){i=Ap(i);var s=i.queue,l=a0.bind(null,ht,s);return s.dispatch=l,[i.memoizedState,l]},useDebugValue:Np,useDeferredValue:function(i,s){var l=Bi();return Op(l,i,s)},useTransition:function(){var i=Ap(!1);return i=n0.bind(null,ht,i.queue,!0,!1),Bi().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,l){var f=ht,g=Bi();if(bt){if(l===void 0)throw Error(r(407));l=l()}else{if(l=s(),an===null)throw Error(r(349));(xt&127)!==0||Iv(f,s,l)}g.memoizedState=l;var v={value:l,getSnapshot:s};return g.queue=v,Gv(Lv.bind(null,f,v,i),[i]),f.flags|=2048,_u(9,{destroy:void 0},Pv.bind(null,f,v,l,s),null),l},useId:function(){var i=Bi(),s=an.identifierPrefix;if(bt){var l=Pe,f=_e;l=(f&~(1<<32-ln(f)-1)).toString(32)+l,s="_"+s+"R_"+l,l=bf++,0<l&&(s+="H"+l.toString(32)),s+="_"}else l=gR++,s="_"+s+"r_"+l.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:Pp,useFormState:Fv,useActionState:Fv,useOptimistic:function(i){var s=Bi();s.memoizedState=s.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=Lp.bind(null,ht,!0,l),l.dispatch=s,[i,s]},useMemoCache:Tp,useCacheRefresh:function(){return Bi().memoizedState=ER.bind(null,ht)},useEffectEvent:function(i){var s=Bi(),l={impl:i};return s.memoizedState=l,function(){if((qt&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}},Dp={readContext:fi,use:Ef,useCallback:Jv,useContext:fi,useEffect:Cp,useImperativeHandle:Xv,useInsertionEffect:Yv,useLayoutEffect:Qv,useMemo:e0,useReducer:Tf,useRef:$v,useState:function(){return Tf(To)},useDebugValue:Np,useDeferredValue:function(i,s){var l=On();return t0(l,Xt.memoizedState,i,s)},useTransition:function(){var i=Tf(To)[0],s=On().memoizedState;return[typeof i=="boolean"?i:Pc(i),s]},useSyncExternalStore:Ov,useId:s0,useHostTransitionStatus:Pp,useFormState:Hv,useActionState:Hv,useOptimistic:function(i,s){var l=On();return Mv(l,Xt,i,s)},useMemoCache:Tp,useCacheRefresh:o0};Dp.useEffectEvent=Kv;var h0={readContext:fi,use:Ef,useCallback:Jv,useContext:fi,useEffect:Cp,useImperativeHandle:Xv,useInsertionEffect:Yv,useLayoutEffect:Qv,useMemo:e0,useReducer:Sp,useRef:$v,useState:function(){return Sp(To)},useDebugValue:Np,useDeferredValue:function(i,s){var l=On();return Xt===null?Op(l,i,s):t0(l,Xt.memoizedState,i,s)},useTransition:function(){var i=Sp(To)[0],s=On().memoizedState;return[typeof i=="boolean"?i:Pc(i),s]},useSyncExternalStore:Ov,useId:s0,useHostTransitionStatus:Pp,useFormState:Zv,useActionState:Zv,useOptimistic:function(i,s){var l=On();return Xt!==null?Mv(l,Xt,i,s):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:Tp,useCacheRefresh:o0};h0.useEffectEvent=Kv;function kp(i,s,l,f){s=i.memoizedState,l=l(f,s),l=l==null?s:x({},s,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Mp={enqueueSetState:function(i,s,l){i=i._reactInternals;var f=Nr(),g=la(f);g.payload=s,l!=null&&(g.callback=l),s=ua(i,g,f),s!==null&&(ar(s,i,f),Cc(s,i,f))},enqueueReplaceState:function(i,s,l){i=i._reactInternals;var f=Nr(),g=la(f);g.tag=1,g.payload=s,l!=null&&(g.callback=l),s=ua(i,g,f),s!==null&&(ar(s,i,f),Cc(s,i,f))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var l=Nr(),f=la(l);f.tag=2,s!=null&&(f.callback=s),s=ua(i,f,l),s!==null&&(ar(s,i,l),Cc(s,i,l))}};function f0(i,s,l,f,g,v,A){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(f,v,A):s.prototype&&s.prototype.isPureReactComponent?!ta(l,f)||!ta(g,v):!0}function d0(i,s,l,f){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,f),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,f),s.state!==i&&Mp.enqueueReplaceState(s,s.state,null)}function Sl(i,s){var l=s;if("ref"in s){l={};for(var f in s)f!=="ref"&&(l[f]=s[f])}if(i=i.defaultProps){l===s&&(l=x({},l));for(var g in i)l[g]===void 0&&(l[g]=i[g])}return l}function m0(i){dl(i)}function p0(i){console.error(i)}function g0(i){dl(i)}function Rf(i,s){try{var l=i.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(f){setTimeout(function(){throw f})}}function _0(i,s,l){try{var f=i.onCaughtError;f(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function zp(i,s,l){return l=la(l),l.tag=3,l.payload={element:null},l.callback=function(){Rf(i,s)},l}function y0(i){return i=la(i),i.tag=3,i}function v0(i,s,l,f){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var v=f.value;i.payload=function(){return g(v)},i.callback=function(){_0(s,l,f)}}var A=l.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(i.callback=function(){_0(s,l,f),typeof g!="function"&&(pa===null?pa=new Set([this]):pa.add(this));var P=f.stack;this.componentDidCatch(f.value,{componentStack:P!==null?P:""})})}function xR(i,s,l,f,g){if(l.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(s=l.alternate,s!==null&&uu(s,l,g,!0),l=Sr.current,l!==null){switch(l.tag){case 31:case 13:return $r===null?Uf():l.alternate===null&&Sn===0&&(Sn=3),l.flags&=-257,l.flags|=65536,l.lanes=g,f===mf?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([f]):s.add(f),lg(i,f,g)),!1;case 22:return l.flags|=65536,f===mf?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([f])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([f]):l.add(f)),lg(i,f,g)),!1}throw Error(r(435,l.tag))}return lg(i,f,g),Uf(),!1}if(bt)return s=Sr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=g,f!==lu&&(i=Error(r(422),{cause:f}),_l(h(i,l)))):(f!==lu&&(s=Error(r(423),{cause:f}),_l(h(s,l))),i=i.current.alternate,i.flags|=65536,g&=-g,i.lanes|=g,f=h(f,l),g=zp(i.stateNode,f,g),dp(i,g),Sn!==4&&(Sn=2)),!1;var v=Error(r(520),{cause:f});if(v=h(v,l),Fc===null?Fc=[v]:Fc.push(v),Sn!==4&&(Sn=2),s===null)return!0;f=h(f,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,i=g&-g,l.lanes|=i,i=zp(l.stateNode,f,i),dp(l,i),!1;case 1:if(s=l.type,v=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(pa===null||!pa.has(v))))return l.flags|=65536,g&=-g,l.lanes|=g,g=y0(g),v0(g,i,l,f),dp(l,g),!1}l=l.return}while(l!==null);return!1}var jp=Error(r(461)),jn=!1;function di(i,s,l,f){s.child=i===null?Tv(s,null,l,f):Tl(s,i.child,l,f)}function b0(i,s,l,f,g){l=l.render;var v=s.ref;if("ref"in f){var A={};for(var P in f)P!=="ref"&&(A[P]=f[P])}else A=f;return vl(s),f=vp(i,s,l,A,v,g),P=bp(),i!==null&&!jn?(wp(i,s,g),xo(i,s,g)):(bt&&P&&qn(s),s.flags|=1,di(i,s,f,g),s.child)}function w0(i,s,l,f,g){if(i===null){var v=l.type;return typeof v=="function"&&!ou(v)&&v.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=v,E0(i,s,v,f,g)):(i=gl(l.type,null,f,s,s.mode,g),i.ref=s.ref,i.return=s,s.child=i)}if(v=i.child,!$p(i,g)){var A=v.memoizedProps;if(l=l.compare,l=l!==null?l:ta,l(A,f)&&i.ref===s.ref)return xo(i,s,g)}return s.flags|=1,i=Zr(v,f),i.ref=s.ref,i.return=s,s.child=i}function E0(i,s,l,f,g){if(i!==null){var v=i.memoizedProps;if(ta(v,f)&&i.ref===s.ref)if(jn=!1,s.pendingProps=f=v,$p(i,g))(i.flags&131072)!==0&&(jn=!0);else return s.lanes=i.lanes,xo(i,s,g)}return Up(i,s,l,f,g)}function T0(i,s,l,f){var g=f.children,v=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.mode==="hidden"){if((s.flags&128)!==0){if(v=v!==null?v.baseLanes|l:l,i!==null){for(f=s.child=i.child,g=0;f!==null;)g=g|f.lanes|f.childLanes,f=f.sibling;f=g&~v}else f=0,s.child=null;return x0(i,s,v,l,f)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&ff(s,v!==null?v.cachePool:null),v!==null?Av(s,v):pp(),Rv(s);else return f=s.lanes=536870912,x0(i,s,v!==null?v.baseLanes|l:l,l,f)}else v!==null?(ff(s,v.cachePool),Av(s,v),ha(),s.memoizedState=null):(i!==null&&ff(s,null),pp(),ha());return di(i,s,g,l),s.child}function kc(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function x0(i,s,l,f,g){var v=up();return v=v===null?null:{parent:Mn._currentValue,pool:v},s.memoizedState={baseLanes:l,cachePool:v},i!==null&&ff(s,null),pp(),Rv(s),i!==null&&uu(i,s,f,!0),s.childLanes=g,null}function Cf(i,s){return s=Of({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function S0(i,s,l){return Tl(s,i.child,null,l),i=Cf(s,s.pendingProps),i.flags|=2,Ar(s),s.memoizedState=null,i}function SR(i,s,l){var f=s.pendingProps,g=(s.flags&128)!==0;if(s.flags&=-129,i===null){if(bt){if(f.mode==="hidden")return i=Cf(s,f),s.lanes=536870912,kc(null,i);if(_p(s),(i=Ut)?(i=zb(i,nr),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:ue!==null?{id:_e,overflow:Pe}:null,retryLane:536870912,hydrationErrors:null},l=bc(i),l.return=s,s.child=l,jt=s,Ut=null)):i=null,i===null)throw Hs(s);return s.lanes=536870912,null}return Cf(s,f)}var v=i.memoizedState;if(v!==null){var A=v.dehydrated;if(_p(s),g)if(s.flags&256)s.flags&=-257,s=S0(i,s,l);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(r(558));else if(jn||uu(i,s,l,!1),g=(l&i.childLanes)!==0,jn||g){if(f=an,f!==null&&(A=Q(f,l),A!==0&&A!==v.retryLane))throw v.retryLane=A,qr(i,A),ar(f,i,A),jp;Uf(),s=S0(i,s,l)}else i=v.treeContext,Ut=Gr(A.nextSibling),jt=s,bt=!0,Fs=null,nr=!1,i!==null&&Vi(s,i),s=Cf(s,f),s.flags|=4096;return s}return i=Zr(i.child,{mode:f.mode,children:f.children}),i.ref=s.ref,s.child=i,i.return=s,i}function Nf(i,s){var l=s.ref;if(l===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(s.flags|=4194816)}}function Up(i,s,l,f,g){return vl(s),l=vp(i,s,l,f,void 0,g),f=bp(),i!==null&&!jn?(wp(i,s,g),xo(i,s,g)):(bt&&f&&qn(s),s.flags|=1,di(i,s,l,g),s.child)}function A0(i,s,l,f,g,v){return vl(s),s.updateQueue=null,l=Nv(s,f,l,g),Cv(i),f=bp(),i!==null&&!jn?(wp(i,s,v),xo(i,s,v)):(bt&&f&&qn(s),s.flags|=1,di(i,s,l,v),s.child)}function R0(i,s,l,f,g){if(vl(s),s.stateNode===null){var v=yo,A=l.contextType;typeof A=="object"&&A!==null&&(v=fi(A)),v=new l(f,v),s.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Mp,s.stateNode=v,v._reactInternals=s,v=s.stateNode,v.props=f,v.state=s.memoizedState,v.refs={},hp(s),A=l.contextType,v.context=typeof A=="object"&&A!==null?fi(A):yo,v.state=s.memoizedState,A=l.getDerivedStateFromProps,typeof A=="function"&&(kp(s,l,A,f),v.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(A=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),A!==v.state&&Mp.enqueueReplaceState(v,v.state,null),Oc(s,f,v,g),Nc(),v.state=s.memoizedState),typeof v.componentDidMount=="function"&&(s.flags|=4194308),f=!0}else if(i===null){v=s.stateNode;var P=s.memoizedProps,$=Sl(l,P);v.props=$;var oe=v.context,pe=l.contextType;A=yo,typeof pe=="object"&&pe!==null&&(A=fi(pe));var ye=l.getDerivedStateFromProps;pe=typeof ye=="function"||typeof v.getSnapshotBeforeUpdate=="function",P=s.pendingProps!==P,pe||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(P||oe!==A)&&d0(s,v,f,A),aa=!1;var ce=s.memoizedState;v.state=ce,Oc(s,f,v,g),Nc(),oe=s.memoizedState,P||ce!==oe||aa?(typeof ye=="function"&&(kp(s,l,ye,f),oe=s.memoizedState),($=aa||f0(s,l,$,f,ce,oe,A))?(pe||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(s.flags|=4194308)):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=f,s.memoizedState=oe),v.props=f,v.state=oe,v.context=A,f=$):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),f=!1)}else{v=s.stateNode,fp(i,s),A=s.memoizedProps,pe=Sl(l,A),v.props=pe,ye=s.pendingProps,ce=v.context,oe=l.contextType,$=yo,typeof oe=="object"&&oe!==null&&($=fi(oe)),P=l.getDerivedStateFromProps,(oe=typeof P=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(A!==ye||ce!==$)&&d0(s,v,f,$),aa=!1,ce=s.memoizedState,v.state=ce,Oc(s,f,v,g),Nc();var de=s.memoizedState;A!==ye||ce!==de||aa||i!==null&&i.dependencies!==null&&cf(i.dependencies)?(typeof P=="function"&&(kp(s,l,P,f),de=s.memoizedState),(pe=aa||f0(s,l,pe,f,ce,de,$)||i!==null&&i.dependencies!==null&&cf(i.dependencies))?(oe||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(f,de,$),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(f,de,$)),typeof v.componentDidUpdate=="function"&&(s.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof v.componentDidUpdate!="function"||A===i.memoizedProps&&ce===i.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&ce===i.memoizedState||(s.flags|=1024),s.memoizedProps=f,s.memoizedState=de),v.props=f,v.state=de,v.context=$,f=pe):(typeof v.componentDidUpdate!="function"||A===i.memoizedProps&&ce===i.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&ce===i.memoizedState||(s.flags|=1024),f=!1)}return v=f,Nf(i,s),f=(s.flags&128)!==0,v||f?(v=s.stateNode,l=f&&typeof l.getDerivedStateFromError!="function"?null:v.render(),s.flags|=1,i!==null&&f?(s.child=Tl(s,i.child,null,g),s.child=Tl(s,null,l,g)):di(i,s,l,g),s.memoizedState=v.state,i=s.child):i=xo(i,s,g),i}function C0(i,s,l,f){return bo(),s.flags|=256,di(i,s,l,f),s.child}var Vp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bp(i){return{baseLanes:i,cachePool:_v()}}function Fp(i,s,l){return i=i!==null?i.childLanes&~l:0,s&&(i|=Cr),i}function N0(i,s,l){var f=s.pendingProps,g=!1,v=(s.flags&128)!==0,A;if((A=v)||(A=i!==null&&i.memoizedState===null?!1:(Nn.current&2)!==0),A&&(g=!0,s.flags&=-129),A=(s.flags&32)!==0,s.flags&=-33,i===null){if(bt){if(g?ca(s):ha(),(i=Ut)?(i=zb(i,nr),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:ue!==null?{id:_e,overflow:Pe}:null,retryLane:536870912,hydrationErrors:null},l=bc(i),l.return=s,s.child=l,jt=s,Ut=null)):i=null,i===null)throw Hs(s);return xg(i)?s.lanes=32:s.lanes=536870912,null}var P=f.children;return f=f.fallback,g?(ha(),g=s.mode,P=Of({mode:"hidden",children:P},g),f=vo(f,g,l,null),P.return=s,f.return=s,P.sibling=f,s.child=P,f=s.child,f.memoizedState=Bp(l),f.childLanes=Fp(i,A,l),s.memoizedState=Vp,kc(null,f)):(ca(s),Hp(s,P))}var $=i.memoizedState;if($!==null&&(P=$.dehydrated,P!==null)){if(v)s.flags&256?(ca(s),s.flags&=-257,s=qp(i,s,l)):s.memoizedState!==null?(ha(),s.child=i.child,s.flags|=128,s=null):(ha(),P=f.fallback,g=s.mode,f=Of({mode:"visible",children:f.children},g),P=vo(P,g,l,null),P.flags|=2,f.return=s,P.return=s,f.sibling=P,s.child=f,Tl(s,i.child,null,l),f=s.child,f.memoizedState=Bp(l),f.childLanes=Fp(i,A,l),s.memoizedState=Vp,s=kc(null,f));else if(ca(s),xg(P)){if(A=P.nextSibling&&P.nextSibling.dataset,A)var oe=A.dgst;A=oe,f=Error(r(419)),f.stack="",f.digest=A,_l({value:f,source:null,stack:null}),s=qp(i,s,l)}else if(jn||uu(i,s,l,!1),A=(l&i.childLanes)!==0,jn||A){if(A=an,A!==null&&(f=Q(A,l),f!==0&&f!==$.retryLane))throw $.retryLane=f,qr(i,f),ar(A,i,f),jp;Tg(P)||Uf(),s=qp(i,s,l)}else Tg(P)?(s.flags|=192,s.child=i.child,s=null):(i=$.treeContext,Ut=Gr(P.nextSibling),jt=s,bt=!0,Fs=null,nr=!1,i!==null&&Vi(s,i),s=Hp(s,f.children),s.flags|=4096);return s}return g?(ha(),P=f.fallback,g=s.mode,$=i.child,oe=$.sibling,f=Zr($,{mode:"hidden",children:f.children}),f.subtreeFlags=$.subtreeFlags&65011712,oe!==null?P=Zr(oe,P):(P=vo(P,g,l,null),P.flags|=2),P.return=s,f.return=s,f.sibling=P,s.child=f,kc(null,f),f=s.child,P=i.child.memoizedState,P===null?P=Bp(l):(g=P.cachePool,g!==null?($=Mn._currentValue,g=g.parent!==$?{parent:$,pool:$}:g):g=_v(),P={baseLanes:P.baseLanes|l,cachePool:g}),f.memoizedState=P,f.childLanes=Fp(i,A,l),s.memoizedState=Vp,kc(i.child,f)):(ca(s),l=i.child,i=l.sibling,l=Zr(l,{mode:"visible",children:f.children}),l.return=s,l.sibling=null,i!==null&&(A=s.deletions,A===null?(s.deletions=[i],s.flags|=16):A.push(i)),s.child=l,s.memoizedState=null,l)}function Hp(i,s){return s=Of({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function Of(i,s){return i=Si(22,i,null,s),i.lanes=0,i}function qp(i,s,l){return Tl(s,i.child,null,l),i=Hp(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function O0(i,s,l){i.lanes|=s;var f=i.alternate;f!==null&&(f.lanes|=s),sp(i.return,s,l)}function Zp(i,s,l,f,g,v){var A=i.memoizedState;A===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:f,tail:l,tailMode:g,treeForkCount:v}:(A.isBackwards=s,A.rendering=null,A.renderingStartTime=0,A.last=f,A.tail=l,A.tailMode=g,A.treeForkCount=v)}function I0(i,s,l){var f=s.pendingProps,g=f.revealOrder,v=f.tail;f=f.children;var A=Nn.current,P=(A&2)!==0;if(P?(A=A&1|2,s.flags|=128):A&=1,be(Nn,A),di(i,s,f,l),f=bt?O:0,!P&&i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&O0(i,l,s);else if(i.tag===19)O0(i,l,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(g){case"forwards":for(l=s.child,g=null;l!==null;)i=l.alternate,i!==null&&yf(i)===null&&(g=l),l=l.sibling;l=g,l===null?(g=s.child,s.child=null):(g=l.sibling,l.sibling=null),Zp(s,!1,g,l,v,f);break;case"backwards":case"unstable_legacy-backwards":for(l=null,g=s.child,s.child=null;g!==null;){if(i=g.alternate,i!==null&&yf(i)===null){s.child=g;break}i=g.sibling,g.sibling=l,l=g,g=i}Zp(s,!0,l,null,v,f);break;case"together":Zp(s,!1,null,null,void 0,f);break;default:s.memoizedState=null}return s.child}function xo(i,s,l){if(i!==null&&(s.dependencies=i.dependencies),ma|=s.lanes,(l&s.childLanes)===0)if(i!==null){if(uu(i,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,l=Zr(i,i.pendingProps),s.child=l,l.return=s;i.sibling!==null;)i=i.sibling,l=l.sibling=Zr(i,i.pendingProps),l.return=s;l.sibling=null}return s.child}function $p(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&cf(i)))}function AR(i,s,l){switch(s.tag){case 3:Nt(s,s.stateNode.containerInfo),oa(s,Mn,i.memoizedState.cache),bo();break;case 27:case 5:dr(s);break;case 4:Nt(s,s.stateNode.containerInfo);break;case 10:oa(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,_p(s),null;break;case 13:var f=s.memoizedState;if(f!==null)return f.dehydrated!==null?(ca(s),s.flags|=128,null):(l&s.child.childLanes)!==0?N0(i,s,l):(ca(s),i=xo(i,s,l),i!==null?i.sibling:null);ca(s);break;case 19:var g=(i.flags&128)!==0;if(f=(l&s.childLanes)!==0,f||(uu(i,s,l,!1),f=(l&s.childLanes)!==0),g){if(f)return I0(i,s,l);s.flags|=128}if(g=s.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),be(Nn,Nn.current),f)break;return null;case 22:return s.lanes=0,T0(i,s,l,s.pendingProps);case 24:oa(s,Mn,i.memoizedState.cache)}return xo(i,s,l)}function P0(i,s,l){if(i!==null)if(i.memoizedProps!==s.pendingProps)jn=!0;else{if(!$p(i,l)&&(s.flags&128)===0)return jn=!1,AR(i,s,l);jn=(i.flags&131072)!==0}else jn=!1,bt&&(s.flags&1048576)!==0&&dt(s,O,s.index);switch(s.lanes=0,s.tag){case 16:e:{var f=s.pendingProps;if(i=wl(s.elementType),s.type=i,typeof i=="function")ou(i)?(f=Sl(i,f),s.tag=1,s=R0(null,s,i,f,l)):(s.tag=0,s=Up(null,s,i,f,l));else{if(i!=null){var g=i.$$typeof;if(g===Te){s.tag=11,s=b0(null,s,i,f,l);break e}else if(g===N){s.tag=14,s=w0(null,s,i,f,l);break e}}throw s=Ue(i)||i,Error(r(306,s,""))}}return s;case 0:return Up(i,s,s.type,s.pendingProps,l);case 1:return f=s.type,g=Sl(f,s.pendingProps),R0(i,s,f,g,l);case 3:e:{if(Nt(s,s.stateNode.containerInfo),i===null)throw Error(r(387));f=s.pendingProps;var v=s.memoizedState;g=v.element,fp(i,s),Oc(s,f,null,l);var A=s.memoizedState;if(f=A.cache,oa(s,Mn,f),f!==v.cache&&op(s,[Mn],l,!0),Nc(),f=A.element,v.isDehydrated)if(v={element:f,isDehydrated:!1,cache:A.cache},s.updateQueue.baseState=v,s.memoizedState=v,s.flags&256){s=C0(i,s,f,l);break e}else if(f!==g){g=h(Error(r(424)),s),_l(g),s=C0(i,s,f,l);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Ut=Gr(i.firstChild),jt=s,bt=!0,Fs=null,nr=!0,l=Tv(s,null,f,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(bo(),f===g){s=xo(i,s,l);break e}di(i,s,f,l)}s=s.child}return s;case 26:return Nf(i,s),i===null?(l=Hb(s.type,null,s.pendingProps,null))?s.memoizedState=l:bt||(l=s.type,i=s.pendingProps,f=$f(Oe.current).createElement(l),f[Ie]=s,f[De]=i,mi(f,l,i),Ht(f),s.stateNode=f):s.memoizedState=Hb(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return dr(s),i===null&&bt&&(f=s.stateNode=Vb(s.type,s.pendingProps,Oe.current),jt=s,nr=!0,g=Ut,va(s.type)?(Sg=g,Ut=Gr(f.firstChild)):Ut=g),di(i,s,s.pendingProps.children,l),Nf(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&bt&&((g=f=Ut)&&(f=nC(f,s.type,s.pendingProps,nr),f!==null?(s.stateNode=f,jt=s,Ut=Gr(f.firstChild),nr=!1,g=!0):g=!1),g||Hs(s)),dr(s),g=s.type,v=s.pendingProps,A=i!==null?i.memoizedProps:null,f=v.children,bg(g,v)?f=null:A!==null&&bg(g,A)&&(s.flags|=32),s.memoizedState!==null&&(g=vp(i,s,_R,null,null,l),Qc._currentValue=g),Nf(i,s),di(i,s,f,l),s.child;case 6:return i===null&&bt&&((i=l=Ut)&&(l=iC(l,s.pendingProps,nr),l!==null?(s.stateNode=l,jt=s,Ut=null,i=!0):i=!1),i||Hs(s)),null;case 13:return N0(i,s,l);case 4:return Nt(s,s.stateNode.containerInfo),f=s.pendingProps,i===null?s.child=Tl(s,null,f,l):di(i,s,f,l),s.child;case 11:return b0(i,s,s.type,s.pendingProps,l);case 7:return di(i,s,s.pendingProps,l),s.child;case 8:return di(i,s,s.pendingProps.children,l),s.child;case 12:return di(i,s,s.pendingProps.children,l),s.child;case 10:return f=s.pendingProps,oa(s,s.type,f.value),di(i,s,f.children,l),s.child;case 9:return g=s.type._context,f=s.pendingProps.children,vl(s),g=fi(g),f=f(g),s.flags|=1,di(i,s,f,l),s.child;case 14:return w0(i,s,s.type,s.pendingProps,l);case 15:return E0(i,s,s.type,s.pendingProps,l);case 19:return I0(i,s,l);case 31:return SR(i,s,l);case 22:return T0(i,s,l,s.pendingProps);case 24:return vl(s),f=fi(Mn),i===null?(g=up(),g===null&&(g=an,v=ap(),g.pooledCache=v,v.refCount++,v!==null&&(g.pooledCacheLanes|=l),g=v),s.memoizedState={parent:f,cache:g},hp(s),oa(s,Mn,g)):((i.lanes&l)!==0&&(fp(i,s),Oc(s,null,null,l),Nc()),g=i.memoizedState,v=s.memoizedState,g.parent!==f?(g={parent:f,cache:f},s.memoizedState=g,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=g),oa(s,Mn,f)):(f=v.cache,oa(s,Mn,f),f!==g.cache&&op(s,[Mn],l,!0))),di(i,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function So(i){i.flags|=4}function Gp(i,s,l,f,g){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(g&335544128)===g)if(i.stateNode.complete)i.flags|=8192;else if(sb())i.flags|=8192;else throw El=mf,cp}else i.flags&=-16777217}function L0(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Kb(s))if(sb())i.flags|=8192;else throw El=mf,cp}function If(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?is():536870912,i.lanes|=s,wu|=s)}function Mc(i,s){if(!bt)switch(i.tailMode){case"hidden":s=i.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:f.sibling=null}}function mn(i){var s=i.alternate!==null&&i.alternate.child===i.child,l=0,f=0;if(s)for(var g=i.child;g!==null;)l|=g.lanes|g.childLanes,f|=g.subtreeFlags&65011712,f|=g.flags&65011712,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)l|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=f,i.childLanes=l,s}function RR(i,s,l){var f=s.pendingProps;switch(Tn(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mn(s),null;case 1:return mn(s),null;case 3:return l=s.stateNode,f=null,i!==null&&(f=i.memoizedState.cache),s.memoizedState.cache!==f&&(s.flags|=2048),wo(Mn),$t(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(gs(s)?So(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Tc())),mn(s),null;case 26:var g=s.type,v=s.memoizedState;return i===null?(So(s),v!==null?(mn(s),L0(s,v)):(mn(s),Gp(s,g,null,f,l))):v?v!==i.memoizedState?(So(s),mn(s),L0(s,v)):(mn(s),s.flags&=-16777217):(i=i.memoizedProps,i!==f&&So(s),mn(s),Gp(s,g,i,f,l)),null;case 27:if(Pr(s),l=Oe.current,g=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==f&&So(s);else{if(!f){if(s.stateNode===null)throw Error(r(166));return mn(s),null}i=xe.current,gs(s)?Ec(s):(i=Vb(g,f,l),s.stateNode=i,So(s))}return mn(s),null;case 5:if(Pr(s),g=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==f&&So(s);else{if(!f){if(s.stateNode===null)throw Error(r(166));return mn(s),null}if(v=xe.current,gs(s))Ec(s);else{var A=$f(Oe.current);switch(v){case 1:v=A.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:v=A.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":v=A.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":v=A.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":v=A.createElement("div"),v.innerHTML="<script><\/script>",v=v.removeChild(v.firstChild);break;case"select":v=typeof f.is=="string"?A.createElement("select",{is:f.is}):A.createElement("select"),f.multiple?v.multiple=!0:f.size&&(v.size=f.size);break;default:v=typeof f.is=="string"?A.createElement(g,{is:f.is}):A.createElement(g)}}v[Ie]=s,v[De]=f;e:for(A=s.child;A!==null;){if(A.tag===5||A.tag===6)v.appendChild(A.stateNode);else if(A.tag!==4&&A.tag!==27&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===s)break e;for(;A.sibling===null;){if(A.return===null||A.return===s)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}s.stateNode=v;e:switch(mi(v,g,f),g){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}f&&So(s)}}return mn(s),Gp(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,l),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==f&&So(s);else{if(typeof f!="string"&&s.stateNode===null)throw Error(r(166));if(i=Oe.current,gs(s)){if(i=s.stateNode,l=s.memoizedProps,f=null,g=jt,g!==null)switch(g.tag){case 27:case 5:f=g.memoizedProps}i[Ie]=s,i=!!(i.nodeValue===l||f!==null&&f.suppressHydrationWarning===!0||Nb(i.nodeValue,l)),i||Hs(s,!0)}else i=$f(i).createTextNode(f),i[Ie]=s,s.stateNode=i}return mn(s),null;case 31:if(l=s.memoizedState,i===null||i.memoizedState!==null){if(f=gs(s),l!==null){if(i===null){if(!f)throw Error(r(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[Ie]=s}else bo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;mn(s),i=!1}else l=Tc(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=l),i=!0;if(!i)return s.flags&256?(Ar(s),s):(Ar(s),null);if((s.flags&128)!==0)throw Error(r(558))}return mn(s),null;case 13:if(f=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(g=gs(s),f!==null&&f.dehydrated!==null){if(i===null){if(!g)throw Error(r(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[Ie]=s}else bo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;mn(s),g=!1}else g=Tc(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=g),g=!0;if(!g)return s.flags&256?(Ar(s),s):(Ar(s),null)}return Ar(s),(s.flags&128)!==0?(s.lanes=l,s):(l=f!==null,i=i!==null&&i.memoizedState!==null,l&&(f=s.child,g=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(g=f.alternate.memoizedState.cachePool.pool),v=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(v=f.memoizedState.cachePool.pool),v!==g&&(f.flags|=2048)),l!==i&&l&&(s.child.flags|=8192),If(s,s.updateQueue),mn(s),null);case 4:return $t(),i===null&&pg(s.stateNode.containerInfo),mn(s),null;case 10:return wo(s.type),mn(s),null;case 19:if(le(Nn),f=s.memoizedState,f===null)return mn(s),null;if(g=(s.flags&128)!==0,v=f.rendering,v===null)if(g)Mc(f,!1);else{if(Sn!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(v=yf(i),v!==null){for(s.flags|=128,Mc(f,!1),i=v.updateQueue,s.updateQueue=i,If(s,i),s.subtreeFlags=0,i=l,l=s.child;l!==null;)vc(l,i),l=l.sibling;return be(Nn,Nn.current&1|2),bt&&$e(s,f.treeForkCount),s.child}i=i.sibling}f.tail!==null&&fn()>Mf&&(s.flags|=128,g=!0,Mc(f,!1),s.lanes=4194304)}else{if(!g)if(i=yf(v),i!==null){if(s.flags|=128,g=!0,i=i.updateQueue,s.updateQueue=i,If(s,i),Mc(f,!0),f.tail===null&&f.tailMode==="hidden"&&!v.alternate&&!bt)return mn(s),null}else 2*fn()-f.renderingStartTime>Mf&&l!==536870912&&(s.flags|=128,g=!0,Mc(f,!1),s.lanes=4194304);f.isBackwards?(v.sibling=s.child,s.child=v):(i=f.last,i!==null?i.sibling=v:s.child=v,f.last=v)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=fn(),i.sibling=null,l=Nn.current,be(Nn,g?l&1|2:l&1),bt&&$e(s,f.treeForkCount),i):(mn(s),null);case 22:case 23:return Ar(s),gp(),f=s.memoizedState!==null,i!==null?i.memoizedState!==null!==f&&(s.flags|=8192):f&&(s.flags|=8192),f?(l&536870912)!==0&&(s.flags&128)===0&&(mn(s),s.subtreeFlags&6&&(s.flags|=8192)):mn(s),l=s.updateQueue,l!==null&&If(s,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),f=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(f=s.memoizedState.cachePool.pool),f!==l&&(s.flags|=2048),i!==null&&le(bl),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),wo(Mn),mn(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function CR(i,s){switch(Tn(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return wo(Mn),$t(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Pr(s),null;case 31:if(s.memoizedState!==null){if(Ar(s),s.alternate===null)throw Error(r(340));bo()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if(Ar(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));bo()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return le(Nn),null;case 4:return $t(),null;case 10:return wo(s.type),null;case 22:case 23:return Ar(s),gp(),i!==null&&le(bl),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return wo(Mn),null;case 25:return null;default:return null}}function D0(i,s){switch(Tn(s),s.tag){case 3:wo(Mn),$t();break;case 26:case 27:case 5:Pr(s);break;case 4:$t();break;case 31:s.memoizedState!==null&&Ar(s);break;case 13:Ar(s);break;case 19:le(Nn);break;case 10:wo(s.type);break;case 22:case 23:Ar(s),gp(),i!==null&&le(bl);break;case 24:wo(Mn)}}function zc(i,s){try{var l=s.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var g=f.next;l=g;do{if((l.tag&i)===i){f=void 0;var v=l.create,A=l.inst;f=v(),A.destroy=f}l=l.next}while(l!==g)}}catch(P){Wt(s,s.return,P)}}function fa(i,s,l){try{var f=s.updateQueue,g=f!==null?f.lastEffect:null;if(g!==null){var v=g.next;f=v;do{if((f.tag&i)===i){var A=f.inst,P=A.destroy;if(P!==void 0){A.destroy=void 0,g=s;var $=l,oe=P;try{oe()}catch(pe){Wt(g,$,pe)}}}f=f.next}while(f!==v)}}catch(pe){Wt(s,s.return,pe)}}function k0(i){var s=i.updateQueue;if(s!==null){var l=i.stateNode;try{Sv(s,l)}catch(f){Wt(i,i.return,f)}}}function M0(i,s,l){l.props=Sl(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(f){Wt(i,s,f)}}function jc(i,s){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var f=i.stateNode;break;case 30:f=i.stateNode;break;default:f=i.stateNode}typeof l=="function"?i.refCleanup=l(f):l.current=f}}catch(g){Wt(i,s,g)}}function Zs(i,s){var l=i.ref,f=i.refCleanup;if(l!==null)if(typeof f=="function")try{f()}catch(g){Wt(i,s,g)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){Wt(i,s,g)}else l.current=null}function z0(i){var s=i.type,l=i.memoizedProps,f=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&f.focus();break e;case"img":l.src?f.src=l.src:l.srcSet&&(f.srcset=l.srcSet)}}catch(g){Wt(i,i.return,g)}}function Kp(i,s,l){try{var f=i.stateNode;QR(f,i.type,l,s),f[De]=s}catch(g){Wt(i,i.return,g)}}function j0(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&va(i.type)||i.tag===4}function Yp(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||j0(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&va(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Qp(i,s,l){var f=i.tag;if(f===5||f===6)i=i.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(i),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=bi));else if(f!==4&&(f===27&&va(i.type)&&(l=i.stateNode,s=null),i=i.child,i!==null))for(Qp(i,s,l),i=i.sibling;i!==null;)Qp(i,s,l),i=i.sibling}function Pf(i,s,l){var f=i.tag;if(f===5||f===6)i=i.stateNode,s?l.insertBefore(i,s):l.appendChild(i);else if(f!==4&&(f===27&&va(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(Pf(i,s,l),i=i.sibling;i!==null;)Pf(i,s,l),i=i.sibling}function U0(i){var s=i.stateNode,l=i.memoizedProps;try{for(var f=i.type,g=s.attributes;g.length;)s.removeAttributeNode(g[0]);mi(s,f,l),s[Ie]=i,s[De]=l}catch(v){Wt(i,i.return,v)}}var Ao=!1,Un=!1,Wp=!1,V0=typeof WeakSet=="function"?WeakSet:Set,ai=null;function NR(i,s){if(i=i.containerInfo,yg=Jf,i=ul(i),zs(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var f=l.getSelection&&l.getSelection();if(f&&f.rangeCount!==0){l=f.anchorNode;var g=f.anchorOffset,v=f.focusNode;f=f.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break e}var A=0,P=-1,$=-1,oe=0,pe=0,ye=i,ce=null;t:for(;;){for(var de;ye!==l||g!==0&&ye.nodeType!==3||(P=A+g),ye!==v||f!==0&&ye.nodeType!==3||($=A+f),ye.nodeType===3&&(A+=ye.nodeValue.length),(de=ye.firstChild)!==null;)ce=ye,ye=de;for(;;){if(ye===i)break t;if(ce===l&&++oe===g&&(P=A),ce===v&&++pe===f&&($=A),(de=ye.nextSibling)!==null)break;ye=ce,ce=ye.parentNode}ye=de}l=P===-1||$===-1?null:{start:P,end:$}}else l=null}l=l||{start:0,end:0}}else l=null;for(vg={focusedElem:i,selectionRange:l},Jf=!1,ai=s;ai!==null;)if(s=ai,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,ai=i;else for(;ai!==null;){switch(s=ai,v=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(l=0;l<i.length;l++)g=i[l],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&v!==null){i=void 0,l=s,g=v.memoizedProps,v=v.memoizedState,f=l.stateNode;try{var He=Sl(l.type,g);i=f.getSnapshotBeforeUpdate(He,v),f.__reactInternalSnapshotBeforeUpdate=i}catch(We){Wt(l,l.return,We)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,l=i.nodeType,l===9)Eg(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Eg(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,ai=i;break}ai=s.return}}function B0(i,s,l){var f=l.flags;switch(l.tag){case 0:case 11:case 15:Co(i,l),f&4&&zc(5,l);break;case 1:if(Co(i,l),f&4)if(i=l.stateNode,s===null)try{i.componentDidMount()}catch(A){Wt(l,l.return,A)}else{var g=Sl(l.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(g,s,i.__reactInternalSnapshotBeforeUpdate)}catch(A){Wt(l,l.return,A)}}f&64&&k0(l),f&512&&jc(l,l.return);break;case 3:if(Co(i,l),f&64&&(i=l.updateQueue,i!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{Sv(i,s)}catch(A){Wt(l,l.return,A)}}break;case 27:s===null&&f&4&&U0(l);case 26:case 5:Co(i,l),s===null&&f&4&&z0(l),f&512&&jc(l,l.return);break;case 12:Co(i,l);break;case 31:Co(i,l),f&4&&q0(i,l);break;case 13:Co(i,l),f&4&&Z0(i,l),f&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=jR.bind(null,l),rC(i,l))));break;case 22:if(f=l.memoizedState!==null||Ao,!f){s=s!==null&&s.memoizedState!==null||Un,g=Ao;var v=Un;Ao=f,(Un=s)&&!v?No(i,l,(l.subtreeFlags&8772)!==0):Co(i,l),Ao=g,Un=v}break;case 30:break;default:Co(i,l)}}function F0(i){var s=i.alternate;s!==null&&(i.alternate=null,F0(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&nn(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var gn=null,ir=!1;function Ro(i,s,l){for(l=l.child;l!==null;)H0(i,s,l),l=l.sibling}function H0(i,s,l){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(yi,l)}catch{}switch(l.tag){case 26:Un||Zs(l,s),Ro(i,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Un||Zs(l,s);var f=gn,g=ir;va(l.type)&&(gn=l.stateNode,ir=!1),Ro(i,s,l),Gc(l.stateNode),gn=f,ir=g;break;case 5:Un||Zs(l,s);case 6:if(f=gn,g=ir,gn=null,Ro(i,s,l),gn=f,ir=g,gn!==null)if(ir)try{(gn.nodeType===9?gn.body:gn.nodeName==="HTML"?gn.ownerDocument.body:gn).removeChild(l.stateNode)}catch(v){Wt(l,s,v)}else try{gn.removeChild(l.stateNode)}catch(v){Wt(l,s,v)}break;case 18:gn!==null&&(ir?(i=gn,kb(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),Nu(i)):kb(gn,l.stateNode));break;case 4:f=gn,g=ir,gn=l.stateNode.containerInfo,ir=!0,Ro(i,s,l),gn=f,ir=g;break;case 0:case 11:case 14:case 15:fa(2,l,s),Un||fa(4,l,s),Ro(i,s,l);break;case 1:Un||(Zs(l,s),f=l.stateNode,typeof f.componentWillUnmount=="function"&&M0(l,s,f)),Ro(i,s,l);break;case 21:Ro(i,s,l);break;case 22:Un=(f=Un)||l.memoizedState!==null,Ro(i,s,l),Un=f;break;default:Ro(i,s,l)}}function q0(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Nu(i)}catch(l){Wt(s,s.return,l)}}}function Z0(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Nu(i)}catch(l){Wt(s,s.return,l)}}function OR(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new V0),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new V0),s;default:throw Error(r(435,i.tag))}}function Lf(i,s){var l=OR(i);s.forEach(function(f){if(!l.has(f)){l.add(f);var g=UR.bind(null,i,f);f.then(g,g)}})}function rr(i,s){var l=s.deletions;if(l!==null)for(var f=0;f<l.length;f++){var g=l[f],v=i,A=s,P=A;e:for(;P!==null;){switch(P.tag){case 27:if(va(P.type)){gn=P.stateNode,ir=!1;break e}break;case 5:gn=P.stateNode,ir=!1;break e;case 3:case 4:gn=P.stateNode.containerInfo,ir=!0;break e}P=P.return}if(gn===null)throw Error(r(160));H0(v,A,g),gn=null,ir=!1,v=g.alternate,v!==null&&(v.return=null),g.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)$0(s,i),s=s.sibling}var ys=null;function $0(i,s){var l=i.alternate,f=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:rr(s,i),sr(i),f&4&&(fa(3,i,i.return),zc(3,i),fa(5,i,i.return));break;case 1:rr(s,i),sr(i),f&512&&(Un||l===null||Zs(l,l.return)),f&64&&Ao&&(i=i.updateQueue,i!==null&&(f=i.callbacks,f!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?f:l.concat(f))));break;case 26:var g=ys;if(rr(s,i),sr(i),f&512&&(Un||l===null||Zs(l,l.return)),f&4){var v=l!==null?l.memoizedState:null;if(f=i.memoizedState,l===null)if(f===null)if(i.stateNode===null){e:{f=i.type,l=i.memoizedProps,g=g.ownerDocument||g;t:switch(f){case"title":v=g.getElementsByTagName("title")[0],(!v||v[zt]||v[Ie]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=g.createElement(f),g.head.insertBefore(v,g.querySelector("head > title"))),mi(v,f,l),v[Ie]=i,Ht(v),f=v;break e;case"link":var A=$b("link","href",g).get(f+(l.href||""));if(A){for(var P=0;P<A.length;P++)if(v=A[P],v.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&v.getAttribute("rel")===(l.rel==null?null:l.rel)&&v.getAttribute("title")===(l.title==null?null:l.title)&&v.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){A.splice(P,1);break t}}v=g.createElement(f),mi(v,f,l),g.head.appendChild(v);break;case"meta":if(A=$b("meta","content",g).get(f+(l.content||""))){for(P=0;P<A.length;P++)if(v=A[P],v.getAttribute("content")===(l.content==null?null:""+l.content)&&v.getAttribute("name")===(l.name==null?null:l.name)&&v.getAttribute("property")===(l.property==null?null:l.property)&&v.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&v.getAttribute("charset")===(l.charSet==null?null:l.charSet)){A.splice(P,1);break t}}v=g.createElement(f),mi(v,f,l),g.head.appendChild(v);break;default:throw Error(r(468,f))}v[Ie]=i,Ht(v),f=v}i.stateNode=f}else Gb(g,i.type,i.stateNode);else i.stateNode=Zb(g,f,i.memoizedProps);else v!==f?(v===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):v.count--,f===null?Gb(g,i.type,i.stateNode):Zb(g,f,i.memoizedProps)):f===null&&i.stateNode!==null&&Kp(i,i.memoizedProps,l.memoizedProps)}break;case 27:rr(s,i),sr(i),f&512&&(Un||l===null||Zs(l,l.return)),l!==null&&f&4&&Kp(i,i.memoizedProps,l.memoizedProps);break;case 5:if(rr(s,i),sr(i),f&512&&(Un||l===null||Zs(l,l.return)),i.flags&32){g=i.stateNode;try{Dn(g,"")}catch(He){Wt(i,i.return,He)}}f&4&&i.stateNode!=null&&(g=i.memoizedProps,Kp(i,g,l!==null?l.memoizedProps:g)),f&1024&&(Wp=!0);break;case 6:if(rr(s,i),sr(i),f&4){if(i.stateNode===null)throw Error(r(162));f=i.memoizedProps,l=i.stateNode;try{l.nodeValue=f}catch(He){Wt(i,i.return,He)}}break;case 3:if(Yf=null,g=ys,ys=Gf(s.containerInfo),rr(s,i),ys=g,sr(i),f&4&&l!==null&&l.memoizedState.isDehydrated)try{Nu(s.containerInfo)}catch(He){Wt(i,i.return,He)}Wp&&(Wp=!1,G0(i));break;case 4:f=ys,ys=Gf(i.stateNode.containerInfo),rr(s,i),sr(i),ys=f;break;case 12:rr(s,i),sr(i);break;case 31:rr(s,i),sr(i),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,Lf(i,f)));break;case 13:rr(s,i),sr(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(kf=fn()),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,Lf(i,f)));break;case 22:g=i.memoizedState!==null;var $=l!==null&&l.memoizedState!==null,oe=Ao,pe=Un;if(Ao=oe||g,Un=pe||$,rr(s,i),Un=pe,Ao=oe,sr(i),f&8192)e:for(s=i.stateNode,s._visibility=g?s._visibility&-2:s._visibility|1,g&&(l===null||$||Ao||Un||Al(i)),l=null,s=i;;){if(s.tag===5||s.tag===26){if(l===null){$=l=s;try{if(v=$.stateNode,g)A=v.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{P=$.stateNode;var ye=$.memoizedProps.style,ce=ye!=null&&ye.hasOwnProperty("display")?ye.display:null;P.style.display=ce==null||typeof ce=="boolean"?"":(""+ce).trim()}}catch(He){Wt($,$.return,He)}}}else if(s.tag===6){if(l===null){$=s;try{$.stateNode.nodeValue=g?"":$.memoizedProps}catch(He){Wt($,$.return,He)}}}else if(s.tag===18){if(l===null){$=s;try{var de=$.stateNode;g?Mb(de,!0):Mb($.stateNode,!1)}catch(He){Wt($,$.return,He)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}f&4&&(f=i.updateQueue,f!==null&&(l=f.retryQueue,l!==null&&(f.retryQueue=null,Lf(i,l))));break;case 19:rr(s,i),sr(i),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,Lf(i,f)));break;case 30:break;case 21:break;default:rr(s,i),sr(i)}}function sr(i){var s=i.flags;if(s&2){try{for(var l,f=i.return;f!==null;){if(j0(f)){l=f;break}f=f.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var g=l.stateNode,v=Yp(i);Pf(i,v,g);break;case 5:var A=l.stateNode;l.flags&32&&(Dn(A,""),l.flags&=-33);var P=Yp(i);Pf(i,P,A);break;case 3:case 4:var $=l.stateNode.containerInfo,oe=Yp(i);Qp(i,oe,$);break;default:throw Error(r(161))}}catch(pe){Wt(i,i.return,pe)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function G0(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;G0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Co(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)B0(i,s.alternate,s),s=s.sibling}function Al(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:fa(4,s,s.return),Al(s);break;case 1:Zs(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&M0(s,s.return,l),Al(s);break;case 27:Gc(s.stateNode);case 26:case 5:Zs(s,s.return),Al(s);break;case 22:s.memoizedState===null&&Al(s);break;case 30:Al(s);break;default:Al(s)}i=i.sibling}}function No(i,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var f=s.alternate,g=i,v=s,A=v.flags;switch(v.tag){case 0:case 11:case 15:No(g,v,l),zc(4,v);break;case 1:if(No(g,v,l),f=v,g=f.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(oe){Wt(f,f.return,oe)}if(f=v,g=f.updateQueue,g!==null){var P=f.stateNode;try{var $=g.shared.hiddenCallbacks;if($!==null)for(g.shared.hiddenCallbacks=null,g=0;g<$.length;g++)xv($[g],P)}catch(oe){Wt(f,f.return,oe)}}l&&A&64&&k0(v),jc(v,v.return);break;case 27:U0(v);case 26:case 5:No(g,v,l),l&&f===null&&A&4&&z0(v),jc(v,v.return);break;case 12:No(g,v,l);break;case 31:No(g,v,l),l&&A&4&&q0(g,v);break;case 13:No(g,v,l),l&&A&4&&Z0(g,v);break;case 22:v.memoizedState===null&&No(g,v,l),jc(v,v.return);break;case 30:break;default:No(g,v,l)}s=s.sibling}}function Xp(i,s){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&xc(l))}function Jp(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&xc(i))}function vs(i,s,l,f){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)K0(i,s,l,f),s=s.sibling}function K0(i,s,l,f){var g=s.flags;switch(s.tag){case 0:case 11:case 15:vs(i,s,l,f),g&2048&&zc(9,s);break;case 1:vs(i,s,l,f);break;case 3:vs(i,s,l,f),g&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&xc(i)));break;case 12:if(g&2048){vs(i,s,l,f),i=s.stateNode;try{var v=s.memoizedProps,A=v.id,P=v.onPostCommit;typeof P=="function"&&P(A,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch($){Wt(s,s.return,$)}}else vs(i,s,l,f);break;case 31:vs(i,s,l,f);break;case 13:vs(i,s,l,f);break;case 23:break;case 22:v=s.stateNode,A=s.alternate,s.memoizedState!==null?v._visibility&2?vs(i,s,l,f):Uc(i,s):v._visibility&2?vs(i,s,l,f):(v._visibility|=2,yu(i,s,l,f,(s.subtreeFlags&10256)!==0||!1)),g&2048&&Xp(A,s);break;case 24:vs(i,s,l,f),g&2048&&Jp(s.alternate,s);break;default:vs(i,s,l,f)}}function yu(i,s,l,f,g){for(g=g&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var v=i,A=s,P=l,$=f,oe=A.flags;switch(A.tag){case 0:case 11:case 15:yu(v,A,P,$,g),zc(8,A);break;case 23:break;case 22:var pe=A.stateNode;A.memoizedState!==null?pe._visibility&2?yu(v,A,P,$,g):Uc(v,A):(pe._visibility|=2,yu(v,A,P,$,g)),g&&oe&2048&&Xp(A.alternate,A);break;case 24:yu(v,A,P,$,g),g&&oe&2048&&Jp(A.alternate,A);break;default:yu(v,A,P,$,g)}s=s.sibling}}function Uc(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=i,f=s,g=f.flags;switch(f.tag){case 22:Uc(l,f),g&2048&&Xp(f.alternate,f);break;case 24:Uc(l,f),g&2048&&Jp(f.alternate,f);break;default:Uc(l,f)}s=s.sibling}}var Vc=8192;function vu(i,s,l){if(i.subtreeFlags&Vc)for(i=i.child;i!==null;)Y0(i,s,l),i=i.sibling}function Y0(i,s,l){switch(i.tag){case 26:vu(i,s,l),i.flags&Vc&&i.memoizedState!==null&&gC(l,ys,i.memoizedState,i.memoizedProps);break;case 5:vu(i,s,l);break;case 3:case 4:var f=ys;ys=Gf(i.stateNode.containerInfo),vu(i,s,l),ys=f;break;case 22:i.memoizedState===null&&(f=i.alternate,f!==null&&f.memoizedState!==null?(f=Vc,Vc=16777216,vu(i,s,l),Vc=f):vu(i,s,l));break;default:vu(i,s,l)}}function Q0(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function Bc(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var f=s[l];ai=f,X0(f,i)}Q0(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)W0(i),i=i.sibling}function W0(i){switch(i.tag){case 0:case 11:case 15:Bc(i),i.flags&2048&&fa(9,i,i.return);break;case 3:Bc(i);break;case 12:Bc(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,Df(i)):Bc(i);break;default:Bc(i)}}function Df(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var f=s[l];ai=f,X0(f,i)}Q0(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:fa(8,s,s.return),Df(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,Df(s));break;default:Df(s)}i=i.sibling}}function X0(i,s){for(;ai!==null;){var l=ai;switch(l.tag){case 0:case 11:case 15:fa(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var f=l.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:xc(l.memoizedState.cache)}if(f=l.child,f!==null)f.return=l,ai=f;else e:for(l=i;ai!==null;){f=ai;var g=f.sibling,v=f.return;if(F0(f),f===l){ai=null;break e}if(g!==null){g.return=v,ai=g;break e}ai=v}}}var IR={getCacheForType:function(i){var s=fi(Mn),l=s.data.get(i);return l===void 0&&(l=i(),s.data.set(i,l)),l},cacheSignal:function(){return fi(Mn).controller.signal}},PR=typeof WeakMap=="function"?WeakMap:Map,qt=0,an=null,wt=null,xt=0,Qt=0,Rr=null,da=!1,bu=!1,eg=!1,Oo=0,Sn=0,ma=0,Rl=0,tg=0,Cr=0,wu=0,Fc=null,or=null,ng=!1,kf=0,J0=0,Mf=1/0,zf=null,pa=null,Zn=0,ga=null,Eu=null,Io=0,ig=0,rg=null,eb=null,Hc=0,sg=null;function Nr(){return(qt&2)!==0&&xt!==0?xt&-xt:te.T!==null?hg():Re()}function tb(){if(Cr===0)if((xt&536870912)===0||bt){var i=pr;pr<<=1,(pr&3932160)===0&&(pr=262144),Cr=i}else Cr=536870912;return i=Sr.current,i!==null&&(i.flags|=32),Cr}function ar(i,s,l){(i===an&&(Qt===2||Qt===9)||i.cancelPendingCommit!==null)&&(Tu(i,0),_a(i,xt,Cr,!1)),Ki(i,l),((qt&2)===0||i!==an)&&(i===an&&((qt&2)===0&&(Rl|=l),Sn===4&&_a(i,xt,Cr,!1)),$s(i))}function nb(i,s,l){if((qt&6)!==0)throw Error(r(327));var f=!l&&(s&127)===0&&(s&i.expiredLanes)===0||Mi(i,s),g=f?kR(i,s):ag(i,s,!0),v=f;do{if(g===0){bu&&!f&&_a(i,s,0,!1);break}else{if(l=i.current.alternate,v&&!LR(l)){g=ag(i,s,!1),v=!1;continue}if(g===2){if(v=s,i.errorRecoveryDisabledLanes&v)var A=0;else A=i.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){s=A;e:{var P=i;g=Fc;var $=P.current.memoizedState.isDehydrated;if($&&(Tu(P,A).flags|=256),A=ag(P,A,!1),A!==2){if(eg&&!$){P.errorRecoveryDisabledLanes|=v,Rl|=v,g=4;break e}v=or,or=g,v!==null&&(or===null?or=v:or.push.apply(or,v))}g=A}if(v=!1,g!==2)continue}}if(g===1){Tu(i,0),_a(i,s,0,!0);break}e:{switch(f=i,v=g,v){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:_a(f,s,Cr,!da);break e;case 2:or=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(g=kf+300-fn(),10<g)){if(_a(f,s,Cr,!da),ki(f,0,!0)!==0)break e;Io=s,f.timeoutHandle=Lb(ib.bind(null,f,l,or,zf,ng,s,Cr,Rl,wu,da,v,"Throttled",-0,0),g);break e}ib(f,l,or,zf,ng,s,Cr,Rl,wu,da,v,null,-0,0)}}break}while(!0);$s(i)}function ib(i,s,l,f,g,v,A,P,$,oe,pe,ye,ce,de){if(i.timeoutHandle=-1,ye=s.subtreeFlags,ye&8192||(ye&16785408)===16785408){ye={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:bi},Y0(s,v,ye);var He=(v&62914560)===v?kf-fn():(v&4194048)===v?J0-fn():0;if(He=_C(ye,He),He!==null){Io=v,i.cancelPendingCommit=He(hb.bind(null,i,s,v,l,f,g,A,P,$,pe,ye,null,ce,de)),_a(i,v,A,!oe);return}}hb(i,s,v,l,f,g,A,P,$)}function LR(i){for(var s=i;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var f=0;f<l.length;f++){var g=l[f],v=g.getSnapshot;g=g.value;try{if(!si(v(),g))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function _a(i,s,l,f){s&=~tg,s&=~Rl,i.suspendedLanes|=s,i.pingedLanes&=~s,f&&(i.warmLanes|=s),f=i.expirationTimes;for(var g=s;0<g;){var v=31-ln(g),A=1<<v;f[v]=-1,g&=~A}l!==0&&rs(i,l,s)}function jf(){return(qt&6)===0?(qc(0),!1):!0}function og(){if(wt!==null){if(Qt===0)var i=wt.return;else i=wt,_s=qs=null,Ep(i),du=null,Ac=0,i=wt;for(;i!==null;)D0(i.alternate,i),i=i.return;wt=null}}function Tu(i,s){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,JR(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),Io=0,og(),an=i,wt=l=Zr(i.current,null),xt=s,Qt=0,Rr=null,da=!1,bu=Mi(i,s),eg=!1,wu=Cr=tg=Rl=ma=Sn=0,or=Fc=null,ng=!1,(s&8)!==0&&(s|=s&32);var f=i.entangledLanes;if(f!==0)for(i=i.entanglements,f&=s;0<f;){var g=31-ln(f),v=1<<g;s|=i[g],f&=~v}return Oo=s,ml(),l}function rb(i,s){ht=null,te.H=Dc,s===fu||s===df?(s=bv(),Qt=3):s===cp?(s=bv(),Qt=4):Qt=s===jp?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Rr=s,wt===null&&(Sn=1,Rf(i,h(s,i.current)))}function sb(){var i=Sr.current;return i===null?!0:(xt&4194048)===xt?$r===null:(xt&62914560)===xt||(xt&536870912)!==0?i===$r:!1}function ob(){var i=te.H;return te.H=Dc,i===null?Dc:i}function ab(){var i=te.A;return te.A=IR,i}function Uf(){Sn=4,da||(xt&4194048)!==xt&&Sr.current!==null||(bu=!0),(ma&134217727)===0&&(Rl&134217727)===0||an===null||_a(an,xt,Cr,!1)}function ag(i,s,l){var f=qt;qt|=2;var g=ob(),v=ab();(an!==i||xt!==s)&&(zf=null,Tu(i,s)),s=!1;var A=Sn;e:do try{if(Qt!==0&&wt!==null){var P=wt,$=Rr;switch(Qt){case 8:og(),A=6;break e;case 3:case 2:case 9:case 6:Sr.current===null&&(s=!0);var oe=Qt;if(Qt=0,Rr=null,xu(i,P,$,oe),l&&bu){A=0;break e}break;default:oe=Qt,Qt=0,Rr=null,xu(i,P,$,oe)}}DR(),A=Sn;break}catch(pe){rb(i,pe)}while(!0);return s&&i.shellSuspendCounter++,_s=qs=null,qt=f,te.H=g,te.A=v,wt===null&&(an=null,xt=0,ml()),A}function DR(){for(;wt!==null;)lb(wt)}function kR(i,s){var l=qt;qt|=2;var f=ob(),g=ab();an!==i||xt!==s?(zf=null,Mf=fn()+500,Tu(i,s)):bu=Mi(i,s);e:do try{if(Qt!==0&&wt!==null){s=wt;var v=Rr;t:switch(Qt){case 1:Qt=0,Rr=null,xu(i,s,v,1);break;case 2:case 9:if(yv(v)){Qt=0,Rr=null,ub(s);break}s=function(){Qt!==2&&Qt!==9||an!==i||(Qt=7),$s(i)},v.then(s,s);break e;case 3:Qt=7;break e;case 4:Qt=5;break e;case 7:yv(v)?(Qt=0,Rr=null,ub(s)):(Qt=0,Rr=null,xu(i,s,v,7));break;case 5:var A=null;switch(wt.tag){case 26:A=wt.memoizedState;case 5:case 27:var P=wt;if(A?Kb(A):P.stateNode.complete){Qt=0,Rr=null;var $=P.sibling;if($!==null)wt=$;else{var oe=P.return;oe!==null?(wt=oe,Vf(oe)):wt=null}break t}}Qt=0,Rr=null,xu(i,s,v,5);break;case 6:Qt=0,Rr=null,xu(i,s,v,6);break;case 8:og(),Sn=6;break e;default:throw Error(r(462))}}MR();break}catch(pe){rb(i,pe)}while(!0);return _s=qs=null,te.H=f,te.A=g,qt=l,wt!==null?0:(an=null,xt=0,ml(),Sn)}function MR(){for(;wt!==null&&!Ho();)lb(wt)}function lb(i){var s=P0(i.alternate,i,Oo);i.memoizedProps=i.pendingProps,s===null?Vf(i):wt=s}function ub(i){var s=i,l=s.alternate;switch(s.tag){case 15:case 0:s=A0(l,s,s.pendingProps,s.type,void 0,xt);break;case 11:s=A0(l,s,s.pendingProps,s.type.render,s.ref,xt);break;case 5:Ep(s);default:D0(l,s),s=wt=vc(s,Oo),s=P0(l,s,Oo)}i.memoizedProps=i.pendingProps,s===null?Vf(i):wt=s}function xu(i,s,l,f){_s=qs=null,Ep(s),du=null,Ac=0;var g=s.return;try{if(xR(i,g,s,l,xt)){Sn=1,Rf(i,h(l,i.current)),wt=null;return}}catch(v){if(g!==null)throw wt=g,v;Sn=1,Rf(i,h(l,i.current)),wt=null;return}s.flags&32768?(bt||f===1?i=!0:bu||(xt&536870912)!==0?i=!1:(da=i=!0,(f===2||f===9||f===3||f===6)&&(f=Sr.current,f!==null&&f.tag===13&&(f.flags|=16384))),cb(s,i)):Vf(s)}function Vf(i){var s=i;do{if((s.flags&32768)!==0){cb(s,da);return}i=s.return;var l=RR(s.alternate,s,Oo);if(l!==null){wt=l;return}if(s=s.sibling,s!==null){wt=s;return}wt=s=i}while(s!==null);Sn===0&&(Sn=5)}function cb(i,s){do{var l=CR(i.alternate,i);if(l!==null){l.flags&=32767,wt=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(i=i.sibling,i!==null)){wt=i;return}wt=i=l}while(i!==null);Sn=6,wt=null}function hb(i,s,l,f,g,v,A,P,$){i.cancelPendingCommit=null;do Bf();while(Zn!==0);if((qt&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(v=s.lanes|s.childLanes,v|=su,Wa(i,l,v,A,P,$),i===an&&(wt=an=null,xt=0),Eu=s,ga=i,Io=l,ig=v,rg=g,eb=f,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,VR(Cn,function(){return gb(),null})):(i.callbackNode=null,i.callbackPriority=0),f=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||f){f=te.T,te.T=null,g=Ee.p,Ee.p=2,A=qt,qt|=4;try{NR(i,s,l)}finally{qt=A,Ee.p=g,te.T=f}}Zn=1,fb(),db(),mb()}}function fb(){if(Zn===1){Zn=0;var i=ga,s=Eu,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=te.T,te.T=null;var f=Ee.p;Ee.p=2;var g=qt;qt|=4;try{$0(s,i);var v=vg,A=ul(i.containerInfo),P=v.focusedElem,$=v.selectionRange;if(A!==P&&P&&P.ownerDocument&&tu(P.ownerDocument.documentElement,P)){if($!==null&&zs(P)){var oe=$.start,pe=$.end;if(pe===void 0&&(pe=oe),"selectionStart"in P)P.selectionStart=oe,P.selectionEnd=Math.min(pe,P.value.length);else{var ye=P.ownerDocument||document,ce=ye&&ye.defaultView||window;if(ce.getSelection){var de=ce.getSelection(),He=P.textContent.length,We=Math.min($.start,He),en=$.end===void 0?We:Math.min($.end,He);!de.extend&&We>en&&(A=en,en=We,We=A);var W=ll(P,We),Y=ll(P,en);if(W&&Y&&(de.rangeCount!==1||de.anchorNode!==W.node||de.anchorOffset!==W.offset||de.focusNode!==Y.node||de.focusOffset!==Y.offset)){var se=ye.createRange();se.setStart(W.node,W.offset),de.removeAllRanges(),We>en?(de.addRange(se),de.extend(Y.node,Y.offset)):(se.setEnd(Y.node,Y.offset),de.addRange(se))}}}}for(ye=[],de=P;de=de.parentNode;)de.nodeType===1&&ye.push({element:de,left:de.scrollLeft,top:de.scrollTop});for(typeof P.focus=="function"&&P.focus(),P=0;P<ye.length;P++){var ge=ye[P];ge.element.scrollLeft=ge.left,ge.element.scrollTop=ge.top}}Jf=!!yg,vg=yg=null}finally{qt=g,Ee.p=f,te.T=l}}i.current=s,Zn=2}}function db(){if(Zn===2){Zn=0;var i=ga,s=Eu,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=te.T,te.T=null;var f=Ee.p;Ee.p=2;var g=qt;qt|=4;try{B0(i,s.alternate,s)}finally{qt=g,Ee.p=f,te.T=l}}Zn=3}}function mb(){if(Zn===4||Zn===3){Zn=0,ao();var i=ga,s=Eu,l=Io,f=eb;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Zn=5:(Zn=0,Eu=ga=null,pb(i,i.pendingLanes));var g=i.pendingLanes;if(g===0&&(pa=null),re(l),s=s.stateNode,Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(yi,s,void 0,(s.current.flags&128)===128)}catch{}if(f!==null){s=te.T,g=Ee.p,Ee.p=2,te.T=null;try{for(var v=i.onRecoverableError,A=0;A<f.length;A++){var P=f[A];v(P.value,{componentStack:P.stack})}}finally{te.T=s,Ee.p=g}}(Io&3)!==0&&Bf(),$s(i),g=i.pendingLanes,(l&261930)!==0&&(g&42)!==0?i===sg?Hc++:(Hc=0,sg=i):Hc=0,qc(0)}}function pb(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,xc(s)))}function Bf(){return fb(),db(),mb(),gb()}function gb(){if(Zn!==5)return!1;var i=ga,s=ig;ig=0;var l=re(Io),f=te.T,g=Ee.p;try{Ee.p=32>l?32:l,te.T=null,l=rg,rg=null;var v=ga,A=Io;if(Zn=0,Eu=ga=null,Io=0,(qt&6)!==0)throw Error(r(331));var P=qt;if(qt|=4,W0(v.current),K0(v,v.current,A,l),qt=P,qc(0,!1),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(yi,v)}catch{}return!0}finally{Ee.p=g,te.T=f,pb(i,s)}}function _b(i,s,l){s=h(l,s),s=zp(i.stateNode,s,2),i=ua(i,s,2),i!==null&&(Ki(i,2),$s(i))}function Wt(i,s,l){if(i.tag===3)_b(i,i,l);else for(;s!==null;){if(s.tag===3){_b(s,i,l);break}else if(s.tag===1){var f=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(pa===null||!pa.has(f))){i=h(l,i),l=y0(2),f=ua(s,l,2),f!==null&&(v0(l,f,s,i),Ki(f,2),$s(f));break}}s=s.return}}function lg(i,s,l){var f=i.pingCache;if(f===null){f=i.pingCache=new PR;var g=new Set;f.set(s,g)}else g=f.get(s),g===void 0&&(g=new Set,f.set(s,g));g.has(l)||(eg=!0,g.add(l),i=zR.bind(null,i,s,l),s.then(i,i))}function zR(i,s,l){var f=i.pingCache;f!==null&&f.delete(s),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,an===i&&(xt&l)===l&&(Sn===4||Sn===3&&(xt&62914560)===xt&&300>fn()-kf?(qt&2)===0&&Tu(i,0):tg|=l,wu===xt&&(wu=0)),$s(i)}function yb(i,s){s===0&&(s=is()),i=qr(i,s),i!==null&&(Ki(i,s),$s(i))}function jR(i){var s=i.memoizedState,l=0;s!==null&&(l=s.retryLane),yb(i,l)}function UR(i,s){var l=0;switch(i.tag){case 31:case 13:var f=i.stateNode,g=i.memoizedState;g!==null&&(l=g.retryLane);break;case 19:f=i.stateNode;break;case 22:f=i.stateNode._retryCache;break;default:throw Error(r(314))}f!==null&&f.delete(s),yb(i,l)}function VR(i,s){return pn(i,s)}var Ff=null,Su=null,ug=!1,Hf=!1,cg=!1,ya=0;function $s(i){i!==Su&&i.next===null&&(Su===null?Ff=Su=i:Su=Su.next=i),Hf=!0,ug||(ug=!0,FR())}function qc(i,s){if(!cg&&Hf){cg=!0;do for(var l=!1,f=Ff;f!==null;){if(i!==0){var g=f.pendingLanes;if(g===0)var v=0;else{var A=f.suspendedLanes,P=f.pingedLanes;v=(1<<31-ln(42|i)+1)-1,v&=g&~(A&~P),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(l=!0,Eb(f,v))}else v=xt,v=ki(f,f===an?v:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(v&3)===0||Mi(f,v)||(l=!0,Eb(f,v));f=f.next}while(l);cg=!1}}function BR(){vb()}function vb(){Hf=ug=!1;var i=0;ya!==0&&XR()&&(i=ya);for(var s=fn(),l=null,f=Ff;f!==null;){var g=f.next,v=bb(f,s);v===0?(f.next=null,l===null?Ff=g:l.next=g,g===null&&(Su=l)):(l=f,(i!==0||(v&3)!==0)&&(Hf=!0)),f=g}Zn!==0&&Zn!==5||qc(i),ya!==0&&(ya=0)}function bb(i,s){for(var l=i.suspendedLanes,f=i.pingedLanes,g=i.expirationTimes,v=i.pendingLanes&-62914561;0<v;){var A=31-ln(v),P=1<<A,$=g[A];$===-1?((P&l)===0||(P&f)!==0)&&(g[A]=qo(P,s)):$<=s&&(i.expiredLanes|=P),v&=~P}if(s=an,l=xt,l=ki(i,i===s?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f=i.callbackNode,l===0||i===s&&(Qt===2||Qt===9)||i.cancelPendingCommit!==null)return f!==null&&f!==null&&$i(f),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||Mi(i,l)){if(s=l&-l,s===i.callbackPriority)return s;switch(f!==null&&$i(f),re(l)){case 2:case 8:l=kr;break;case 32:l=Cn;break;case 268435456:l=Cs;break;default:l=Cn}return f=wb.bind(null,i),l=pn(l,f),i.callbackPriority=s,i.callbackNode=l,s}return f!==null&&f!==null&&$i(f),i.callbackPriority=2,i.callbackNode=null,2}function wb(i,s){if(Zn!==0&&Zn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(Bf()&&i.callbackNode!==l)return null;var f=xt;return f=ki(i,i===an?f:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f===0?null:(nb(i,f,s),bb(i,fn()),i.callbackNode!=null&&i.callbackNode===l?wb.bind(null,i):null)}function Eb(i,s){if(Bf())return null;nb(i,s,!0)}function FR(){eC(function(){(qt&6)!==0?pn(Dr,BR):vb()})}function hg(){if(ya===0){var i=cu;i===0&&(i=Wn,Wn<<=1,(Wn&261888)===0&&(Wn=256)),ya=i}return ya}function Tb(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ps(""+i)}function xb(i,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,i.id&&l.setAttribute("form",i.id),s.parentNode.insertBefore(l,s),i=new FormData(i),l.parentNode.removeChild(l),i}function HR(i,s,l,f,g){if(s==="submit"&&l&&l.stateNode===g){var v=Tb((g[De]||null).action),A=f.submitter;A&&(s=(s=A[De]||null)?Tb(s.formAction):A.getAttribute("formAction"),s!==null&&(v=s,A=null));var P=new Vr("action","action",null,f,g);i.push({event:P,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(ya!==0){var $=A?xb(g,A):new FormData(g);Ip(l,{pending:!0,data:$,method:g.method,action:v},null,$)}}else typeof v=="function"&&(P.preventDefault(),$=A?xb(g,A):new FormData(g),Ip(l,{pending:!0,data:$,method:g.method,action:v},v,$))},currentTarget:g}]})}}for(var fg=0;fg<Vs.length;fg++){var dg=Vs[fg],qR=dg.toLowerCase(),ZR=dg[0].toUpperCase()+dg.slice(1);er(qR,"on"+ZR)}er(hl,"onAnimationEnd"),er(af,"onAnimationIteration"),er(fl,"onAnimationStart"),er("dblclick","onDoubleClick"),er("focusin","onFocus"),er("focusout","onBlur"),er(np,"onTransitionRun"),er(lf,"onTransitionStart"),er(ip,"onTransitionCancel"),er(ra,"onTransitionEnd"),En("onMouseEnter",["mouseout","mouseover"]),En("onMouseLeave",["mouseout","mouseover"]),En("onPointerEnter",["pointerout","pointerover"]),En("onPointerLeave",["pointerout","pointerover"]),ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ei("onBeforeInput",["compositionend","keypress","textInput","paste"]),ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$R=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zc));function Sb(i,s){s=(s&4)!==0;for(var l=0;l<i.length;l++){var f=i[l],g=f.event;f=f.listeners;e:{var v=void 0;if(s)for(var A=f.length-1;0<=A;A--){var P=f[A],$=P.instance,oe=P.currentTarget;if(P=P.listener,$!==v&&g.isPropagationStopped())break e;v=P,g.currentTarget=oe;try{v(g)}catch(pe){dl(pe)}g.currentTarget=null,v=$}else for(A=0;A<f.length;A++){if(P=f[A],$=P.instance,oe=P.currentTarget,P=P.listener,$!==v&&g.isPropagationStopped())break e;v=P,g.currentTarget=oe;try{v(g)}catch(pe){dl(pe)}g.currentTarget=null,v=$}}}}function Et(i,s){var l=s[Ve];l===void 0&&(l=s[Ve]=new Set);var f=i+"__bubble";l.has(f)||(Ab(s,i,2,!1),l.add(f))}function mg(i,s,l){var f=0;s&&(f|=4),Ab(l,i,f,s)}var qf="_reactListening"+Math.random().toString(36).slice(2);function pg(i){if(!i[qf]){i[qf]=!0,Jn.forEach(function(l){l!=="selectionchange"&&($R.has(l)||mg(l,!1,i),mg(l,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[qf]||(s[qf]=!0,mg("selectionchange",!1,s))}}function Ab(i,s,l,f){switch(tw(s)){case 2:var g=bC;break;case 8:g=wC;break;default:g=Og}l=g.bind(null,s,l,i),g=void 0,!us||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(g=!0),f?g!==void 0?i.addEventListener(s,l,{capture:!0,passive:g}):i.addEventListener(s,l,!0):g!==void 0?i.addEventListener(s,l,{passive:g}):i.addEventListener(s,l,!1)}function gg(i,s,l,f,g){var v=f;if((s&1)===0&&(s&2)===0&&f!==null)e:for(;;){if(f===null)return;var A=f.tag;if(A===3||A===4){var P=f.stateNode.containerInfo;if(P===g)break;if(A===4)for(A=f.return;A!==null;){var $=A.tag;if(($===3||$===4)&&A.stateNode.containerInfo===g)return;A=A.return}for(;P!==null;){if(A=yt(P),A===null)return;if($=A.tag,$===5||$===6||$===26||$===27){f=v=A;continue e}P=P.parentNode}}f=f.return}ls(function(){var oe=v,pe=wi(l),ye=[];e:{var ce=uf.get(i);if(ce!==void 0){var de=Vr,He=i;switch(i){case"keypress":if(Ds(l)===0)break e;case"keydown":case"keyup":de=il;break;case"focusin":He="focus",de=po;break;case"focusout":He="blur",de=po;break;case"beforeblur":case"afterblur":de=po;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=Xa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=Ql;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=T;break;case hl:case af:case fl:de=Ko;break;case ra:de=k;break;case"scroll":case"scrollend":de=_t;break;case"wheel":de=he;break;case"copy":case"cut":case"paste":de=ji;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=ds;break;case"toggle":case"beforetoggle":de=nt}var We=(s&4)!==0,en=!We&&(i==="scroll"||i==="scrollend"),W=We?ce!==null?ce+"Capture":null:ce;We=[];for(var Y=oe,se;Y!==null;){var ge=Y;if(se=ge.stateNode,ge=ge.tag,ge!==5&&ge!==26&&ge!==27||se===null||W===null||(ge=zi(Y,W),ge!=null&&We.push($c(Y,ge,se))),en)break;Y=Y.return}0<We.length&&(ce=new de(ce,He,null,l,pe),ye.push({event:ce,listeners:We}))}}if((s&7)===0){e:{if(ce=i==="mouseover"||i==="pointerover",de=i==="mouseout"||i==="pointerout",ce&&l!==Go&&(He=l.relatedTarget||l.fromElement)&&(yt(He)||He[Be]))break e;if((de||ce)&&(ce=pe.window===pe?pe:(ce=pe.ownerDocument)?ce.defaultView||ce.parentWindow:window,de?(He=l.relatedTarget||l.toElement,de=oe,He=He?yt(He):null,He!==null&&(en=u(He),We=He.tag,He!==en||We!==5&&We!==27&&We!==6)&&(He=null)):(de=null,He=oe),de!==He)){if(We=Xa,ge="onMouseLeave",W="onMouseEnter",Y="mouse",(i==="pointerout"||i==="pointerover")&&(We=ds,ge="onPointerLeave",W="onPointerEnter",Y="pointer"),en=de==null?ce:un(de),se=He==null?ce:un(He),ce=new We(ge,Y+"leave",de,l,pe),ce.target=en,ce.relatedTarget=se,ge=null,yt(pe)===oe&&(We=new We(W,Y+"enter",He,l,pe),We.target=se,We.relatedTarget=en,ge=We),en=ge,de&&He)t:{for(We=GR,W=de,Y=He,se=0,ge=W;ge;ge=We(ge))se++;ge=0;for(var Ge=Y;Ge;Ge=We(Ge))ge++;for(;0<se-ge;)W=We(W),se--;for(;0<ge-se;)Y=We(Y),ge--;for(;se--;){if(W===Y||Y!==null&&W===Y.alternate){We=W;break t}W=We(W),Y=We(Y)}We=null}else We=null;de!==null&&Rb(ye,ce,de,We,!1),He!==null&&en!==null&&Rb(ye,en,He,We,!0)}}e:{if(ce=oe?un(oe):window,de=ce.nodeName&&ce.nodeName.toLowerCase(),de==="select"||de==="input"&&ce.type==="file")var Vt=al;else if(Br(ce))if(tf)Vt=tp;else{Vt=ep;var Ze=ms}else de=ce.nodeName,!de||de.toLowerCase()!=="input"||ce.type!=="checkbox"&&ce.type!=="radio"?oe&&Is(oe.elementType)&&(Vt=al):Vt=ea;if(Vt&&(Vt=Vt(i,oe))){ef(ye,Vt,l,pe);break e}Ze&&Ze(i,ce,oe),i==="focusout"&&oe&&ce.type==="number"&&oe.memoizedProps.value!=null&&_r(ce,"number",ce.value)}switch(Ze=oe?un(oe):window,i){case"focusin":(Br(Ze)||Ze.contentEditable==="true")&&(js=Ze,iu=oe,cl=null);break;case"focusout":cl=iu=js=null;break;case"mousedown":na=!0;break;case"contextmenu":case"mouseup":case"dragend":na=!1,sf(ye,l,pe);break;case"selectionchange":if(nu)break;case"keydown":case"keyup":sf(ye,l,pe)}var mt;if(It)e:{switch(i){case"compositionstart":var St="onCompositionStart";break e;case"compositionend":St="onCompositionEnd";break e;case"compositionupdate":St="onCompositionUpdate";break e}St=void 0}else Wo?go(i,l)&&(St="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(St="onCompositionStart");St&&(Ji&&l.locale!=="ko"&&(Wo||St!=="onCompositionStart"?St==="onCompositionEnd"&&Wo&&(mt=yr()):(Wi=pe,cs="value"in Wi?Wi.value:Wi.textContent,Wo=!0)),Ze=Zf(oe,St),0<Ze.length&&(St=new wr(St,i,null,l,pe),ye.push({event:St,listeners:Ze}),mt?St.data=mt:(mt=_o(l),mt!==null&&(St.data=mt)))),(mt=Xi?xr(i,l):Xo(i,l))&&(St=Zf(oe,"onBeforeInput"),0<St.length&&(Ze=new wr("onBeforeInput","beforeinput",null,l,pe),ye.push({event:Ze,listeners:St}),Ze.data=mt)),HR(ye,i,oe,l,pe)}Sb(ye,s)})}function $c(i,s,l){return{instance:i,listener:s,currentTarget:l}}function Zf(i,s){for(var l=s+"Capture",f=[];i!==null;){var g=i,v=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||v===null||(g=zi(i,l),g!=null&&f.unshift($c(i,g,v)),g=zi(i,s),g!=null&&f.push($c(i,g,v))),i.tag===3)return f;i=i.return}return[]}function GR(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Rb(i,s,l,f,g){for(var v=s._reactName,A=[];l!==null&&l!==f;){var P=l,$=P.alternate,oe=P.stateNode;if(P=P.tag,$!==null&&$===f)break;P!==5&&P!==26&&P!==27||oe===null||($=oe,g?(oe=zi(l,v),oe!=null&&A.unshift($c(l,oe,$))):g||(oe=zi(l,v),oe!=null&&A.push($c(l,oe,$)))),l=l.return}A.length!==0&&i.push({event:s,listeners:A})}var KR=/\r\n?/g,YR=/\u0000|\uFFFD/g;function Cb(i){return(typeof i=="string"?i:""+i).replace(KR,`
`).replace(YR,"")}function Nb(i,s){return s=Cb(s),Cb(i)===s}function Jt(i,s,l,f,g,v){switch(l){case"children":typeof f=="string"?s==="body"||s==="textarea"&&f===""||Dn(i,f):(typeof f=="number"||typeof f=="bigint")&&s!=="body"&&Dn(i,""+f);break;case"className":ot(i,"class",f);break;case"tabIndex":ot(i,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":ot(i,l,f);break;case"style":ho(i,f,v);break;case"data":if(s!=="object"){ot(i,"data",f);break}case"src":case"href":if(f===""&&(s!=="a"||l!=="href")){i.removeAttribute(l);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(l);break}f=Ps(""+f),i.setAttribute(l,f);break;case"action":case"formAction":if(typeof f=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(l==="formAction"?(s!=="input"&&Jt(i,s,"name",g.name,g,null),Jt(i,s,"formEncType",g.formEncType,g,null),Jt(i,s,"formMethod",g.formMethod,g,null),Jt(i,s,"formTarget",g.formTarget,g,null)):(Jt(i,s,"encType",g.encType,g,null),Jt(i,s,"method",g.method,g,null),Jt(i,s,"target",g.target,g,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(l);break}f=Ps(""+f),i.setAttribute(l,f);break;case"onClick":f!=null&&(i.onclick=bi);break;case"onScroll":f!=null&&Et("scroll",i);break;case"onScrollEnd":f!=null&&Et("scrollend",i);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(l=f.__html,l!=null){if(g.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":i.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){i.removeAttribute("xlink:href");break}l=Ps(""+f),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(l,""+f):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":f===!0?i.setAttribute(l,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(l,f):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?i.setAttribute(l,f):i.removeAttribute(l);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?i.removeAttribute(l):i.setAttribute(l,f);break;case"popover":Et("beforetoggle",i),Et("toggle",i),rt(i,"popover",f);break;case"xlinkActuate":tt(i,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":tt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":tt(i,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":tt(i,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":tt(i,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":tt(i,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":tt(i,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":tt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":tt(i,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":rt(i,"is",f);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=fo.get(l)||l,rt(i,l,f))}}function _g(i,s,l,f,g,v){switch(l){case"style":ho(i,f,v);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(l=f.__html,l!=null){if(g.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof f=="string"?Dn(i,f):(typeof f=="number"||typeof f=="bigint")&&Dn(i,""+f);break;case"onScroll":f!=null&&Et("scroll",i);break;case"onScrollEnd":f!=null&&Et("scrollend",i);break;case"onClick":f!=null&&(i.onclick=bi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ss.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),s=l.slice(2,g?l.length-7:void 0),v=i[De]||null,v=v!=null?v[l]:null,typeof v=="function"&&i.removeEventListener(s,v,g),typeof f=="function")){typeof v!="function"&&v!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(s,f,g);break e}l in i?i[l]=f:f===!0?i.setAttribute(l,""):rt(i,l,f)}}}function mi(i,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Et("error",i),Et("load",i);var f=!1,g=!1,v;for(v in l)if(l.hasOwnProperty(v)){var A=l[v];if(A!=null)switch(v){case"src":f=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Jt(i,s,v,A,l,null)}}g&&Jt(i,s,"srcSet",l.srcSet,l,null),f&&Jt(i,s,"src",l.src,l,null);return;case"input":Et("invalid",i);var P=v=A=g=null,$=null,oe=null;for(f in l)if(l.hasOwnProperty(f)){var pe=l[f];if(pe!=null)switch(f){case"name":g=pe;break;case"type":A=pe;break;case"checked":$=pe;break;case"defaultChecked":oe=pe;break;case"value":v=pe;break;case"defaultValue":P=pe;break;case"children":case"dangerouslySetInnerHTML":if(pe!=null)throw Error(r(137,s));break;default:Jt(i,s,f,pe,l,null)}}co(i,v,P,$,oe,A,g,!1);return;case"select":Et("invalid",i),f=A=v=null;for(g in l)if(l.hasOwnProperty(g)&&(P=l[g],P!=null))switch(g){case"value":v=P;break;case"defaultValue":A=P;break;case"multiple":f=P;default:Jt(i,s,g,P,l,null)}s=v,l=A,i.multiple=!!f,s!=null?Yt(i,!!f,s,!1):l!=null&&Yt(i,!!f,l,!0);return;case"textarea":Et("invalid",i),v=g=f=null;for(A in l)if(l.hasOwnProperty(A)&&(P=l[A],P!=null))switch(A){case"value":f=P;break;case"defaultValue":g=P;break;case"children":v=P;break;case"dangerouslySetInnerHTML":if(P!=null)throw Error(r(91));break;default:Jt(i,s,A,P,l,null)}Qi(i,f,g,v);return;case"option":for($ in l)if(l.hasOwnProperty($)&&(f=l[$],f!=null))switch($){case"selected":i.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:Jt(i,s,$,f,l,null)}return;case"dialog":Et("beforetoggle",i),Et("toggle",i),Et("cancel",i),Et("close",i);break;case"iframe":case"object":Et("load",i);break;case"video":case"audio":for(f=0;f<Zc.length;f++)Et(Zc[f],i);break;case"image":Et("error",i),Et("load",i);break;case"details":Et("toggle",i);break;case"embed":case"source":case"link":Et("error",i),Et("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(oe in l)if(l.hasOwnProperty(oe)&&(f=l[oe],f!=null))switch(oe){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Jt(i,s,oe,f,l,null)}return;default:if(Is(s)){for(pe in l)l.hasOwnProperty(pe)&&(f=l[pe],f!==void 0&&_g(i,s,pe,f,l,void 0));return}}for(P in l)l.hasOwnProperty(P)&&(f=l[P],f!=null&&Jt(i,s,P,f,l,null))}function QR(i,s,l,f){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,v=null,A=null,P=null,$=null,oe=null,pe=null;for(de in l){var ye=l[de];if(l.hasOwnProperty(de)&&ye!=null)switch(de){case"checked":break;case"value":break;case"defaultValue":$=ye;default:f.hasOwnProperty(de)||Jt(i,s,de,null,f,ye)}}for(var ce in f){var de=f[ce];if(ye=l[ce],f.hasOwnProperty(ce)&&(de!=null||ye!=null))switch(ce){case"type":v=de;break;case"name":g=de;break;case"checked":oe=de;break;case"defaultChecked":pe=de;break;case"value":A=de;break;case"defaultValue":P=de;break;case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(r(137,s));break;default:de!==ye&&Jt(i,s,ce,de,f,ye)}}Zo(i,A,P,$,oe,pe,v,g);return;case"select":de=A=P=ce=null;for(v in l)if($=l[v],l.hasOwnProperty(v)&&$!=null)switch(v){case"value":break;case"multiple":de=$;default:f.hasOwnProperty(v)||Jt(i,s,v,null,f,$)}for(g in f)if(v=f[g],$=l[g],f.hasOwnProperty(g)&&(v!=null||$!=null))switch(g){case"value":ce=v;break;case"defaultValue":P=v;break;case"multiple":A=v;default:v!==$&&Jt(i,s,g,v,f,$)}s=P,l=A,f=de,ce!=null?Yt(i,!!l,ce,!1):!!f!=!!l&&(s!=null?Yt(i,!!l,s,!0):Yt(i,!!l,l?[]:"",!1));return;case"textarea":de=ce=null;for(P in l)if(g=l[P],l.hasOwnProperty(P)&&g!=null&&!f.hasOwnProperty(P))switch(P){case"value":break;case"children":break;default:Jt(i,s,P,null,f,g)}for(A in f)if(g=f[A],v=l[A],f.hasOwnProperty(A)&&(g!=null||v!=null))switch(A){case"value":ce=g;break;case"defaultValue":de=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:g!==v&&Jt(i,s,A,g,f,v)}zr(i,ce,de);return;case"option":for(var He in l)if(ce=l[He],l.hasOwnProperty(He)&&ce!=null&&!f.hasOwnProperty(He))switch(He){case"selected":i.selected=!1;break;default:Jt(i,s,He,null,f,ce)}for($ in f)if(ce=f[$],de=l[$],f.hasOwnProperty($)&&ce!==de&&(ce!=null||de!=null))switch($){case"selected":i.selected=ce&&typeof ce!="function"&&typeof ce!="symbol";break;default:Jt(i,s,$,ce,f,de)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var We in l)ce=l[We],l.hasOwnProperty(We)&&ce!=null&&!f.hasOwnProperty(We)&&Jt(i,s,We,null,f,ce);for(oe in f)if(ce=f[oe],de=l[oe],f.hasOwnProperty(oe)&&ce!==de&&(ce!=null||de!=null))switch(oe){case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(r(137,s));break;default:Jt(i,s,oe,ce,f,de)}return;default:if(Is(s)){for(var en in l)ce=l[en],l.hasOwnProperty(en)&&ce!==void 0&&!f.hasOwnProperty(en)&&_g(i,s,en,void 0,f,ce);for(pe in f)ce=f[pe],de=l[pe],!f.hasOwnProperty(pe)||ce===de||ce===void 0&&de===void 0||_g(i,s,pe,ce,f,de);return}}for(var W in l)ce=l[W],l.hasOwnProperty(W)&&ce!=null&&!f.hasOwnProperty(W)&&Jt(i,s,W,null,f,ce);for(ye in f)ce=f[ye],de=l[ye],!f.hasOwnProperty(ye)||ce===de||ce==null&&de==null||Jt(i,s,ye,ce,f,de)}function Ob(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function WR(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,l=performance.getEntriesByType("resource"),f=0;f<l.length;f++){var g=l[f],v=g.transferSize,A=g.initiatorType,P=g.duration;if(v&&P&&Ob(A)){for(A=0,P=g.responseEnd,f+=1;f<l.length;f++){var $=l[f],oe=$.startTime;if(oe>P)break;var pe=$.transferSize,ye=$.initiatorType;pe&&Ob(ye)&&($=$.responseEnd,A+=pe*($<P?1:(P-oe)/($-oe)))}if(--f,s+=8*(v+A)/(g.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var yg=null,vg=null;function $f(i){return i.nodeType===9?i:i.ownerDocument}function Ib(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Pb(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function bg(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var wg=null;function XR(){var i=window.event;return i&&i.type==="popstate"?i===wg?!1:(wg=i,!0):(wg=null,!1)}var Lb=typeof setTimeout=="function"?setTimeout:void 0,JR=typeof clearTimeout=="function"?clearTimeout:void 0,Db=typeof Promise=="function"?Promise:void 0,eC=typeof queueMicrotask=="function"?queueMicrotask:typeof Db<"u"?function(i){return Db.resolve(null).then(i).catch(tC)}:Lb;function tC(i){setTimeout(function(){throw i})}function va(i){return i==="head"}function kb(i,s){var l=s,f=0;do{var g=l.nextSibling;if(i.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"||l==="/&"){if(f===0){i.removeChild(g),Nu(s);return}f--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")f++;else if(l==="html")Gc(i.ownerDocument.documentElement);else if(l==="head"){l=i.ownerDocument.head,Gc(l);for(var v=l.firstChild;v;){var A=v.nextSibling,P=v.nodeName;v[zt]||P==="SCRIPT"||P==="STYLE"||P==="LINK"&&v.rel.toLowerCase()==="stylesheet"||l.removeChild(v),v=A}}else l==="body"&&Gc(i.ownerDocument.body);l=g}while(l);Nu(s)}function Mb(i,s){var l=i;i=0;do{var f=l.nextSibling;if(l.nodeType===1?s?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(s?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),f&&f.nodeType===8)if(l=f.data,l==="/$"){if(i===0)break;i--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||i++;l=f}while(l)}function Eg(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Eg(l),nn(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function nC(i,s,l,f){for(;i.nodeType===1;){var g=l;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!f&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(f){if(!i[zt])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(v=i.getAttribute("rel"),v==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(v!==g.rel||i.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||i.getAttribute("title")!==(g.title==null?null:g.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(v=i.getAttribute("src"),(v!==(g.src==null?null:g.src)||i.getAttribute("type")!==(g.type==null?null:g.type)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&v&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var v=g.name==null?null:""+g.name;if(g.type==="hidden"&&i.getAttribute("name")===v)return i}else return i;if(i=Gr(i.nextSibling),i===null)break}return null}function iC(i,s,l){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=Gr(i.nextSibling),i===null))return null;return i}function zb(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=Gr(i.nextSibling),i===null))return null;return i}function Tg(i){return i.data==="$?"||i.data==="$~"}function xg(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function rC(i,s){var l=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||l.readyState!=="loading")s();else{var f=function(){s(),l.removeEventListener("DOMContentLoaded",f)};l.addEventListener("DOMContentLoaded",f),i._reactRetry=f}}function Gr(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var Sg=null;function jb(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"||l==="/&"){if(s===0)return Gr(i.nextSibling);s--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||s++}i=i.nextSibling}return null}function Ub(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(s===0)return i;s--}else l!=="/$"&&l!=="/&"||s++}i=i.previousSibling}return null}function Vb(i,s,l){switch(s=$f(l),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Gc(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);nn(i)}var Kr=new Map,Bb=new Set;function Gf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Po=Ee.d;Ee.d={f:sC,r:oC,D:aC,C:lC,L:uC,m:cC,X:fC,S:hC,M:dC};function sC(){var i=Po.f(),s=jf();return i||s}function oC(i){var s=gt(i);s!==null&&s.tag===5&&s.type==="form"?r0(s):Po.r(i)}var Au=typeof document>"u"?null:document;function Fb(i,s,l){var f=Au;if(f&&typeof s=="string"&&s){var g=sn(s);g='link[rel="'+i+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),Bb.has(g)||(Bb.add(g),i={rel:i,crossOrigin:l,href:s},f.querySelector(g)===null&&(s=f.createElement("link"),mi(s,"link",i),Ht(s),f.head.appendChild(s)))}}function aC(i){Po.D(i),Fb("dns-prefetch",i,null)}function lC(i,s){Po.C(i,s),Fb("preconnect",i,s)}function uC(i,s,l){Po.L(i,s,l);var f=Au;if(f&&i&&s){var g='link[rel="preload"][as="'+sn(s)+'"]';s==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+sn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+sn(l.imageSizes)+'"]')):g+='[href="'+sn(i)+'"]';var v=g;switch(s){case"style":v=Ru(i);break;case"script":v=Cu(i)}Kr.has(v)||(i=x({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:i,as:s},l),Kr.set(v,i),f.querySelector(g)!==null||s==="style"&&f.querySelector(Kc(v))||s==="script"&&f.querySelector(Yc(v))||(s=f.createElement("link"),mi(s,"link",i),Ht(s),f.head.appendChild(s)))}}function cC(i,s){Po.m(i,s);var l=Au;if(l&&i){var f=s&&typeof s.as=="string"?s.as:"script",g='link[rel="modulepreload"][as="'+sn(f)+'"][href="'+sn(i)+'"]',v=g;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=Cu(i)}if(!Kr.has(v)&&(i=x({rel:"modulepreload",href:i},s),Kr.set(v,i),l.querySelector(g)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Yc(v)))return}f=l.createElement("link"),mi(f,"link",i),Ht(f),l.head.appendChild(f)}}}function hC(i,s,l){Po.S(i,s,l);var f=Au;if(f&&i){var g=Xn(f).hoistableStyles,v=Ru(i);s=s||"default";var A=g.get(v);if(!A){var P={loading:0,preload:null};if(A=f.querySelector(Kc(v)))P.loading=5;else{i=x({rel:"stylesheet",href:i,"data-precedence":s},l),(l=Kr.get(v))&&Ag(i,l);var $=A=f.createElement("link");Ht($),mi($,"link",i),$._p=new Promise(function(oe,pe){$.onload=oe,$.onerror=pe}),$.addEventListener("load",function(){P.loading|=1}),$.addEventListener("error",function(){P.loading|=2}),P.loading|=4,Kf(A,s,f)}A={type:"stylesheet",instance:A,count:1,state:P},g.set(v,A)}}}function fC(i,s){Po.X(i,s);var l=Au;if(l&&i){var f=Xn(l).hoistableScripts,g=Cu(i),v=f.get(g);v||(v=l.querySelector(Yc(g)),v||(i=x({src:i,async:!0},s),(s=Kr.get(g))&&Rg(i,s),v=l.createElement("script"),Ht(v),mi(v,"link",i),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},f.set(g,v))}}function dC(i,s){Po.M(i,s);var l=Au;if(l&&i){var f=Xn(l).hoistableScripts,g=Cu(i),v=f.get(g);v||(v=l.querySelector(Yc(g)),v||(i=x({src:i,async:!0,type:"module"},s),(s=Kr.get(g))&&Rg(i,s),v=l.createElement("script"),Ht(v),mi(v,"link",i),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},f.set(g,v))}}function Hb(i,s,l,f){var g=(g=Oe.current)?Gf(g):null;if(!g)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=Ru(l.href),l=Xn(g).hoistableStyles,f=l.get(s),f||(f={type:"style",instance:null,count:0,state:null},l.set(s,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=Ru(l.href);var v=Xn(g).hoistableStyles,A=v.get(i);if(A||(g=g.ownerDocument||g,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(i,A),(v=g.querySelector(Kc(i)))&&!v._p&&(A.instance=v,A.state.loading=5),Kr.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Kr.set(i,l),v||mC(g,i,l,A.state))),s&&f===null)throw Error(r(528,""));return A}if(s&&f!==null)throw Error(r(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Cu(l),l=Xn(g).hoistableScripts,f=l.get(s),f||(f={type:"script",instance:null,count:0,state:null},l.set(s,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Ru(i){return'href="'+sn(i)+'"'}function Kc(i){return'link[rel="stylesheet"]['+i+"]"}function qb(i){return x({},i,{"data-precedence":i.precedence,precedence:null})}function mC(i,s,l,f){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?f.loading=1:(s=i.createElement("link"),f.preload=s,s.addEventListener("load",function(){return f.loading|=1}),s.addEventListener("error",function(){return f.loading|=2}),mi(s,"link",l),Ht(s),i.head.appendChild(s))}function Cu(i){return'[src="'+sn(i)+'"]'}function Yc(i){return"script[async]"+i}function Zb(i,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var f=i.querySelector('style[data-href~="'+sn(l.href)+'"]');if(f)return s.instance=f,Ht(f),f;var g=x({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return f=(i.ownerDocument||i).createElement("style"),Ht(f),mi(f,"style",g),Kf(f,l.precedence,i),s.instance=f;case"stylesheet":g=Ru(l.href);var v=i.querySelector(Kc(g));if(v)return s.state.loading|=4,s.instance=v,Ht(v),v;f=qb(l),(g=Kr.get(g))&&Ag(f,g),v=(i.ownerDocument||i).createElement("link"),Ht(v);var A=v;return A._p=new Promise(function(P,$){A.onload=P,A.onerror=$}),mi(v,"link",f),s.state.loading|=4,Kf(v,l.precedence,i),s.instance=v;case"script":return v=Cu(l.src),(g=i.querySelector(Yc(v)))?(s.instance=g,Ht(g),g):(f=l,(g=Kr.get(v))&&(f=x({},l),Rg(f,g)),i=i.ownerDocument||i,g=i.createElement("script"),Ht(g),mi(g,"link",f),i.head.appendChild(g),s.instance=g);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(f=s.instance,s.state.loading|=4,Kf(f,l.precedence,i));return s.instance}function Kf(i,s,l){for(var f=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=f.length?f[f.length-1]:null,v=g,A=0;A<f.length;A++){var P=f[A];if(P.dataset.precedence===s)v=P;else if(v!==g)break}v?v.parentNode.insertBefore(i,v.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(i,s.firstChild))}function Ag(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function Rg(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Yf=null;function $b(i,s,l){if(Yf===null){var f=new Map,g=Yf=new Map;g.set(l,f)}else g=Yf,f=g.get(l),f||(f=new Map,g.set(l,f));if(f.has(i))return f;for(f.set(i,null),l=l.getElementsByTagName(i),g=0;g<l.length;g++){var v=l[g];if(!(v[zt]||v[Ie]||i==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var A=v.getAttribute(s)||"";A=i+A;var P=f.get(A);P?P.push(v):f.set(A,[v])}}return f}function Gb(i,s,l){i=i.ownerDocument||i,i.head.insertBefore(l,s==="title"?i.querySelector("head > title"):null)}function pC(i,s,l){if(l===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Kb(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function gC(i,s,l,f){if(l.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var g=Ru(f.href),v=s.querySelector(Kc(g));if(v){s=v._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=Qf.bind(i),s.then(i,i)),l.state.loading|=4,l.instance=v,Ht(v);return}v=s.ownerDocument||s,f=qb(f),(g=Kr.get(g))&&Ag(f,g),v=v.createElement("link"),Ht(v);var A=v;A._p=new Promise(function(P,$){A.onload=P,A.onerror=$}),mi(v,"link",f),l.instance=v}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(l,s),(s=l.state.preload)&&(l.state.loading&3)===0&&(i.count++,l=Qf.bind(i),s.addEventListener("load",l),s.addEventListener("error",l))}}var Cg=0;function _C(i,s){return i.stylesheets&&i.count===0&&Xf(i,i.stylesheets),0<i.count||0<i.imgCount?function(l){var f=setTimeout(function(){if(i.stylesheets&&Xf(i,i.stylesheets),i.unsuspend){var v=i.unsuspend;i.unsuspend=null,v()}},6e4+s);0<i.imgBytes&&Cg===0&&(Cg=62500*WR());var g=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Xf(i,i.stylesheets),i.unsuspend)){var v=i.unsuspend;i.unsuspend=null,v()}},(i.imgBytes>Cg?50:800)+s);return i.unsuspend=l,function(){i.unsuspend=null,clearTimeout(f),clearTimeout(g)}}:null}function Qf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Xf(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Wf=null;function Xf(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Wf=new Map,s.forEach(yC,i),Wf=null,Qf.call(i))}function yC(i,s){if(!(s.state.loading&4)){var l=Wf.get(i);if(l)var f=l.get(null);else{l=new Map,Wf.set(i,l);for(var g=i.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<g.length;v++){var A=g[v];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(l.set(A.dataset.precedence,A),f=A)}f&&l.set(null,f)}g=s.instance,A=g.getAttribute("data-precedence"),v=l.get(A)||f,v===f&&l.set(null,g),l.set(A,g),this.count++,f=Qf.bind(this),g.addEventListener("load",f),g.addEventListener("error",f),v?v.parentNode.insertBefore(g,v.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(g,i.firstChild)),s.state.loading|=4}}var Qc={$$typeof:ae,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function vC(i,s,l,f,g,v,A,P,$){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hi(0),this.hiddenUpdates=hi(null),this.identifierPrefix=f,this.onUncaughtError=g,this.onCaughtError=v,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=$,this.incompleteTransitions=new Map}function Yb(i,s,l,f,g,v,A,P,$,oe,pe,ye){return i=new vC(i,s,l,A,$,oe,pe,ye,P),s=1,v===!0&&(s|=24),v=Si(3,null,null,s),i.current=v,v.stateNode=i,s=ap(),s.refCount++,i.pooledCache=s,s.refCount++,v.memoizedState={element:f,isDehydrated:l,cache:s},hp(v),i}function Qb(i){return i?(i=yo,i):yo}function Wb(i,s,l,f,g,v){g=Qb(g),f.context===null?f.context=g:f.pendingContext=g,f=la(s),f.payload={element:l},v=v===void 0?null:v,v!==null&&(f.callback=v),l=ua(i,f,s),l!==null&&(ar(l,i,s),Cc(l,i,s))}function Xb(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<s?l:s}}function Ng(i,s){Xb(i,s),(i=i.alternate)&&Xb(i,s)}function Jb(i){if(i.tag===13||i.tag===31){var s=qr(i,67108864);s!==null&&ar(s,i,67108864),Ng(i,67108864)}}function ew(i){if(i.tag===13||i.tag===31){var s=Nr();s=ie(s);var l=qr(i,s);l!==null&&ar(l,i,s),Ng(i,s)}}var Jf=!0;function bC(i,s,l,f){var g=te.T;te.T=null;var v=Ee.p;try{Ee.p=2,Og(i,s,l,f)}finally{Ee.p=v,te.T=g}}function wC(i,s,l,f){var g=te.T;te.T=null;var v=Ee.p;try{Ee.p=8,Og(i,s,l,f)}finally{Ee.p=v,te.T=g}}function Og(i,s,l,f){if(Jf){var g=Ig(f);if(g===null)gg(i,s,f,ed,l),nw(i,f);else if(TC(g,i,s,l,f))f.stopPropagation();else if(nw(i,f),s&4&&-1<EC.indexOf(i)){for(;g!==null;){var v=gt(g);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var A=Gi(v.pendingLanes);if(A!==0){var P=v;for(P.pendingLanes|=2,P.entangledLanes|=2;A;){var $=1<<31-ln(A);P.entanglements[1]|=$,A&=~$}$s(v),(qt&6)===0&&(Mf=fn()+500,qc(0))}}break;case 31:case 13:P=qr(v,2),P!==null&&ar(P,v,2),jf(),Ng(v,2)}if(v=Ig(f),v===null&&gg(i,s,f,ed,l),v===g)break;g=v}g!==null&&f.stopPropagation()}else gg(i,s,f,null,l)}}function Ig(i){return i=wi(i),Pg(i)}var ed=null;function Pg(i){if(ed=null,i=yt(i),i!==null){var s=u(i);if(s===null)i=null;else{var l=s.tag;if(l===13){if(i=c(s),i!==null)return i;i=null}else if(l===31){if(i=p(s),i!==null)return i;i=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return ed=i,null}function tw(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Li()){case Dr:return 2;case kr:return 8;case Cn:case Di:return 32;case Cs:return 268435456;default:return 32}default:return 32}}var Lg=!1,ba=null,wa=null,Ea=null,Wc=new Map,Xc=new Map,Ta=[],EC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function nw(i,s){switch(i){case"focusin":case"focusout":ba=null;break;case"dragenter":case"dragleave":wa=null;break;case"mouseover":case"mouseout":Ea=null;break;case"pointerover":case"pointerout":Wc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xc.delete(s.pointerId)}}function Jc(i,s,l,f,g,v){return i===null||i.nativeEvent!==v?(i={blockedOn:s,domEventName:l,eventSystemFlags:f,nativeEvent:v,targetContainers:[g]},s!==null&&(s=gt(s),s!==null&&Jb(s)),i):(i.eventSystemFlags|=f,s=i.targetContainers,g!==null&&s.indexOf(g)===-1&&s.push(g),i)}function TC(i,s,l,f,g){switch(s){case"focusin":return ba=Jc(ba,i,s,l,f,g),!0;case"dragenter":return wa=Jc(wa,i,s,l,f,g),!0;case"mouseover":return Ea=Jc(Ea,i,s,l,f,g),!0;case"pointerover":var v=g.pointerId;return Wc.set(v,Jc(Wc.get(v)||null,i,s,l,f,g)),!0;case"gotpointercapture":return v=g.pointerId,Xc.set(v,Jc(Xc.get(v)||null,i,s,l,f,g)),!0}return!1}function iw(i){var s=yt(i.target);if(s!==null){var l=u(s);if(l!==null){if(s=l.tag,s===13){if(s=c(l),s!==null){i.blockedOn=s,Me(i.priority,function(){ew(l)});return}}else if(s===31){if(s=p(l),s!==null){i.blockedOn=s,Me(i.priority,function(){ew(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function td(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var l=Ig(i.nativeEvent);if(l===null){l=i.nativeEvent;var f=new l.constructor(l.type,l);Go=f,l.target.dispatchEvent(f),Go=null}else return s=gt(l),s!==null&&Jb(s),i.blockedOn=l,!1;s.shift()}return!0}function rw(i,s,l){td(i)&&l.delete(s)}function xC(){Lg=!1,ba!==null&&td(ba)&&(ba=null),wa!==null&&td(wa)&&(wa=null),Ea!==null&&td(Ea)&&(Ea=null),Wc.forEach(rw),Xc.forEach(rw)}function nd(i,s){i.blockedOn===s&&(i.blockedOn=null,Lg||(Lg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,xC)))}var id=null;function sw(i){id!==i&&(id=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){id===i&&(id=null);for(var s=0;s<i.length;s+=3){var l=i[s],f=i[s+1],g=i[s+2];if(typeof f!="function"){if(Pg(f||l)===null)continue;break}var v=gt(l);v!==null&&(i.splice(s,3),s-=3,Ip(v,{pending:!0,data:g,method:l.method,action:f},f,g))}}))}function Nu(i){function s($){return nd($,i)}ba!==null&&nd(ba,i),wa!==null&&nd(wa,i),Ea!==null&&nd(Ea,i),Wc.forEach(s),Xc.forEach(s);for(var l=0;l<Ta.length;l++){var f=Ta[l];f.blockedOn===i&&(f.blockedOn=null)}for(;0<Ta.length&&(l=Ta[0],l.blockedOn===null);)iw(l),l.blockedOn===null&&Ta.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(f=0;f<l.length;f+=3){var g=l[f],v=l[f+1],A=g[De]||null;if(typeof v=="function")A||sw(l);else if(A){var P=null;if(v&&v.hasAttribute("formAction")){if(g=v,A=v[De]||null)P=A.formAction;else if(Pg(g)!==null)continue}else P=A.action;typeof P=="function"?l[f+1]=P:(l.splice(f,3),f-=3),sw(l)}}}function ow(){function i(v){v.canIntercept&&v.info==="react-transition"&&v.intercept({handler:function(){return new Promise(function(A){return g=A})},focusReset:"manual",scroll:"manual"})}function s(){g!==null&&(g(),g=null),f||setTimeout(l,20)}function l(){if(!f&&!navigation.transition){var v=navigation.currentEntry;v&&v.url!=null&&navigation.navigate(v.url,{state:v.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var f=!1,g=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(l,100),function(){f=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),g!==null&&(g(),g=null)}}}function Dg(i){this._internalRoot=i}rd.prototype.render=Dg.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var l=s.current,f=Nr();Wb(l,f,i,s,null,null)},rd.prototype.unmount=Dg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;Wb(i.current,2,null,i,null,null),jf(),s[Be]=null}};function rd(i){this._internalRoot=i}rd.prototype.unstable_scheduleHydration=function(i){if(i){var s=Re();i={blockedOn:null,target:i,priority:s};for(var l=0;l<Ta.length&&s!==0&&s<Ta[l].priority;l++);Ta.splice(l,0,i),l===0&&iw(i)}};var aw=e.version;if(aw!=="19.2.3")throw Error(r(527,aw,"19.2.3"));Ee.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=y(s),i=i!==null?E(i):null,i=i===null?null:i.stateNode,i};var SC={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:te,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sd.isDisabled&&sd.supportsFiber)try{yi=sd.inject(SC),Ft=sd}catch{}}return th.createRoot=function(i,s){if(!o(i))throw Error(r(299));var l=!1,f="",g=m0,v=p0,A=g0;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(g=s.onUncaughtError),s.onCaughtError!==void 0&&(v=s.onCaughtError),s.onRecoverableError!==void 0&&(A=s.onRecoverableError)),s=Yb(i,1,!1,null,null,l,f,null,g,v,A,ow),i[Be]=s.current,pg(i),new Dg(s)},th.hydrateRoot=function(i,s,l){if(!o(i))throw Error(r(299));var f=!1,g="",v=m0,A=p0,P=g0,$=null;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(v=l.onUncaughtError),l.onCaughtError!==void 0&&(A=l.onCaughtError),l.onRecoverableError!==void 0&&(P=l.onRecoverableError),l.formState!==void 0&&($=l.formState)),s=Yb(i,1,!0,s,l??null,f,g,$,v,A,P,ow),s.context=Qb(null),l=s.current,f=Nr(),f=ie(f),g=la(f),g.callback=null,ua(l,g,f),l=f,s.current.lanes=l,Ki(s,l),$s(s),i[Be]=s.current,pg(i),new rd(s)},th.version="19.2.3",th}var _w;function MC(){if(_w)return zg.exports;_w=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),zg.exports=kC(),zg.exports}var zC=MC();const jC=ry(zC);var fx=t=>{throw TypeError(t)},UC=(t,e,n)=>e.has(t)||fx("Cannot "+n),Bg=(t,e,n)=>(UC(t,e,"read from private field"),n?n.call(t):e.get(t)),VC=(t,e,n)=>e.has(t)?fx("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),yw="popstate";function BC(t={}){function e(r,o){let{pathname:u,search:c,hash:p}=r.location;return xh("",{pathname:u,search:c,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:no(o)}return HC(e,n,null,t)}function vt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function An(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function FC(){return Math.random().toString(36).substring(2,10)}function vw(t,e){return{usr:t.state,key:t.key,idx:e}}function xh(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Ka(e):e,state:n,key:e&&e.key||r||FC()}}function no({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ka(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function HC(t,e,n,r={}){let{window:o=document.defaultView,v5Compat:u=!1}=r,c=o.history,p="POP",_=null,y=E();y==null&&(y=0,c.replaceState({...c.state,idx:y},""));function E(){return(c.state||{idx:null}).idx}function x(){p="POP";let U=E(),ne=U==null?null:U-y;y=U,_&&_({action:p,location:j.location,delta:ne})}function C(U,ne){p="PUSH";let ee=xh(j.location,U,ne);y=E()+1;let ae=vw(ee,y),Te=j.createHref(ee);try{c.pushState(ae,"",Te)}catch(Ce){if(Ce instanceof DOMException&&Ce.name==="DataCloneError")throw Ce;o.location.assign(Te)}u&&_&&_({action:p,location:j.location,delta:1})}function D(U,ne){p="REPLACE";let ee=xh(j.location,U,ne);y=E();let ae=vw(ee,y),Te=j.createHref(ee);c.replaceState(ae,"",Te),u&&_&&_({action:p,location:j.location,delta:0})}function I(U){return dx(U)}let j={get action(){return p},get location(){return t(o,c)},listen(U){if(_)throw new Error("A history only accepts one active listener");return o.addEventListener(yw,x),_=U,()=>{o.removeEventListener(yw,x),_=null}},createHref(U){return e(o,U)},createURL:I,encodeLocation(U){let ne=I(U);return{pathname:ne.pathname,search:ne.search,hash:ne.hash}},push:C,replace:D,go(U){return c.go(U)}};return j}function dx(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),vt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:no(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}var ah,bw=class{constructor(t){if(VC(this,ah,new Map),t)for(let[e,n]of t)this.set(e,n)}get(t){if(Bg(this,ah).has(t))return Bg(this,ah).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){Bg(this,ah).set(t,e)}};ah=new WeakMap;var qC=new Set(["lazy","caseSensitive","path","id","index","children"]);function ZC(t){return qC.has(t)}var $C=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function GC(t){return $C.has(t)}function KC(t){return t.index===!0}function Sh(t,e,n=[],r={},o=!1){return t.map((u,c)=>{let p=[...n,String(c)],_=typeof u.id=="string"?u.id:p.join("-");if(vt(u.index!==!0||!u.children,"Cannot specify children on an index route"),vt(o||!r[_],`Found a route id collision on id "${_}".  Route id's must be globally unique within Data Router usages`),KC(u)){let y={...u,id:_};return r[_]=ww(y,e(y)),y}else{let y={...u,id:_,children:void 0};return r[_]=ww(y,e(y)),u.children&&(y.children=Sh(u.children,e,p,r,o)),y}})}function ww(t,e){return Object.assign(t,{...e,...typeof e.lazy=="object"&&e.lazy!=null?{lazy:{...t.lazy,...e.lazy}}:{}})}function Aa(t,e,n="/"){return lh(t,e,n,!1)}function lh(t,e,n,r){let o=typeof e=="string"?Ka(e):e,u=Xr(o.pathname||"/",n);if(u==null)return null;let c=mx(t);QC(c);let p=null;for(let _=0;p==null&&_<c.length;++_){let y=aN(u);p=sN(c[_],y,r)}return p}function YC(t,e){let{route:n,pathname:r,params:o}=t;return{id:n.id,pathname:r,params:o,data:e[n.id],loaderData:e[n.id],handle:n.handle}}function mx(t,e=[],n=[],r="",o=!1){let u=(c,p,_=o,y)=>{let E={relativePath:y===void 0?c.path||"":y,caseSensitive:c.caseSensitive===!0,childrenIndex:p,route:c};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(r)&&_)return;vt(E.relativePath.startsWith(r),`Absolute route path "${E.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(r.length)}let x=Xs([r,E.relativePath]),C=n.concat(E);c.children&&c.children.length>0&&(vt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),mx(c.children,e,C,x,_)),!(c.path==null&&!c.index)&&e.push({path:x,score:iN(x,c.index),routesMeta:C})};return t.forEach((c,p)=>{if(c.path===""||!c.path?.includes("?"))u(c,p);else for(let _ of px(c.path))u(c,p,!0,_)}),e}function px(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(r.length===0)return o?[u,""]:[u];let c=px(r.join("/")),p=[];return p.push(...c.map(_=>_===""?u:[u,_].join("/"))),o&&p.push(...c),p.map(_=>t.startsWith("/")&&_===""?"/":_)}function QC(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:rN(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var WC=/^:[\w-]+$/,XC=3,JC=2,eN=1,tN=10,nN=-2,Ew=t=>t==="*";function iN(t,e){let n=t.split("/"),r=n.length;return n.some(Ew)&&(r+=nN),e&&(r+=JC),n.filter(o=>!Ew(o)).reduce((o,u)=>o+(WC.test(u)?XC:u===""?eN:tN),r)}function rN(t,e){return t.length===e.length&&t.slice(0,-1).every((r,o)=>r===e[o])?t[t.length-1]-e[e.length-1]:0}function sN(t,e,n=!1){let{routesMeta:r}=t,o={},u="/",c=[];for(let p=0;p<r.length;++p){let _=r[p],y=p===r.length-1,E=u==="/"?e:e.slice(u.length)||"/",x=qd({path:_.relativePath,caseSensitive:_.caseSensitive,end:y},E),C=_.route;if(!x&&y&&n&&!r[r.length-1].route.index&&(x=qd({path:_.relativePath,caseSensitive:_.caseSensitive,end:!1},E)),!x)return null;Object.assign(o,x.params),c.push({params:o,pathname:Xs([u,x.pathname]),pathnameBase:hN(Xs([u,x.pathnameBase])),route:C}),x.pathnameBase!=="/"&&(u=Xs([u,x.pathnameBase]))}return c}function qd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=oN(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let u=o[0],c=u.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:r.reduce((y,{paramName:E,isOptional:x},C)=>{if(E==="*"){let I=p[C]||"";c=u.slice(0,u.length-I.length).replace(/(.)\/+$/,"$1")}const D=p[C];return x&&!D?y[E]=void 0:y[E]=(D||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:c,pattern:t}}function oN(t,e=!1,n=!0){An(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,p,_)=>(r.push({paramName:p,isOptional:_!=null}),_?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function aN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return An(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Xr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function lN({basename:t,pathname:e}){return e==="/"?t:Xs([t,e])}var uN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dm=t=>uN.test(t);function cN(t,e="/"){let{pathname:n,search:r="",hash:o=""}=typeof t=="string"?Ka(t):t,u;if(n)if(dm(n))u=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),An(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${n}`)}n.startsWith("/")?u=Tw(n.substring(1),"/"):u=Tw(n,e)}else u=e;return{pathname:u,search:fN(r),hash:dN(o)}}function Tw(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Fg(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function gx(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function mm(t){let e=gx(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function pm(t,e,n,r=!1){let o;typeof t=="string"?o=Ka(t):(o={...t},vt(!o.pathname||!o.pathname.includes("?"),Fg("?","pathname","search",o)),vt(!o.pathname||!o.pathname.includes("#"),Fg("#","pathname","hash",o)),vt(!o.search||!o.search.includes("#"),Fg("#","search","hash",o)));let u=t===""||o.pathname==="",c=u?"/":o.pathname,p;if(c==null)p=n;else{let x=e.length-1;if(!r&&c.startsWith("..")){let C=c.split("/");for(;C[0]==="..";)C.shift(),x-=1;o.pathname=C.join("/")}p=x>=0?e[x]:"/"}let _=cN(o,p),y=c&&c!=="/"&&c.endsWith("/"),E=(u||c===".")&&n.endsWith("/");return!_.pathname.endsWith("/")&&(y||E)&&(_.pathname+="/"),_}var Xs=t=>t.join("/").replace(/\/\/+/g,"/"),hN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),fN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,dN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,gm=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Ah(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function Mh(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Pa=Symbol("Uninstrumented");function mN(t,e){let n={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};t.forEach(o=>o({id:e.id,index:e.index,path:e.path,instrument(u){let c=Object.keys(n);for(let p of c)u[p]&&n[p].push(u[p])}}));let r={};if(typeof e.lazy=="function"&&n.lazy.length>0){let o=ku(n.lazy,e.lazy,()=>{});o&&(r.lazy=o)}if(typeof e.lazy=="object"){let o=e.lazy;["middleware","loader","action"].forEach(u=>{let c=o[u],p=n[`lazy.${u}`];if(typeof c=="function"&&p.length>0){let _=ku(p,c,()=>{});_&&(r.lazy=Object.assign(r.lazy||{},{[u]:_}))}})}return["loader","action"].forEach(o=>{let u=e[o];if(typeof u=="function"&&n[o].length>0){let c=u[Pa]??u,p=ku(n[o],c,(..._)=>xw(_[0]));p&&(p[Pa]=c,r[o]=p)}}),e.middleware&&e.middleware.length>0&&n.middleware.length>0&&(r.middleware=e.middleware.map(o=>{let u=o[Pa]??o,c=ku(n.middleware,u,(...p)=>xw(p[0]));return c?(c[Pa]=u,c):o})),r}function pN(t,e){let n={navigate:[],fetch:[]};if(e.forEach(r=>r({instrument(o){let u=Object.keys(o);for(let c of u)o[c]&&n[c].push(o[c])}})),n.navigate.length>0){let r=t.navigate[Pa]??t.navigate,o=ku(n.navigate,r,(...u)=>{let[c,p]=u;return{to:typeof c=="number"||typeof c=="string"?c:c?no(c):".",...Sw(t,p??{})}});o&&(o[Pa]=r,t.navigate=o)}if(n.fetch.length>0){let r=t.fetch[Pa]??t.fetch,o=ku(n.fetch,r,(...u)=>{let[c,,p,_]=u;return{href:p??".",fetcherKey:c,...Sw(t,_??{})}});o&&(o[Pa]=r,t.fetch=o)}return t}function ku(t,e,n){return t.length===0?null:async(...r)=>{let o=await _x(t,n(...r),()=>e(...r),t.length-1);if(o.type==="error")throw o.value;return o.value}}async function _x(t,e,n,r){let o=t[r],u;if(o){let c,p=async()=>(c?console.error("You cannot call instrumented handlers more than once"):c=_x(t,e,n,r-1),u=await c,vt(u,"Expected a result"),u.type==="error"&&u.value instanceof Error?{status:"error",error:u.value}:{status:"success",error:void 0});try{await o(p,e)}catch(_){console.error("An instrumentation function threw an error:",_)}c||await p(),await c}else try{u={type:"success",value:await n()}}catch(c){u={type:"error",value:c}}return u||{type:"error",value:new Error("No result assigned in instrumentation chain.")}}function xw(t){let{request:e,context:n,params:r,unstable_pattern:o}=t;return{request:gN(e),params:{...r},unstable_pattern:o,context:_N(n)}}function Sw(t,e){return{currentUrl:no(t.state.location),..."formMethod"in e?{formMethod:e.formMethod}:{},..."formEncType"in e?{formEncType:e.formEncType}:{},..."formData"in e?{formData:e.formData}:{},..."body"in e?{body:e.body}:{}}}function gN(t){return{method:t.method,url:t.url,headers:{get:(...e)=>t.headers.get(...e)}}}function _N(t){if(vN(t)){let e={...t};return Object.freeze(e),e}else return{get:e=>t.get(e)}}var yN=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function vN(t){if(t===null||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===Object.prototype||e===null||Object.getOwnPropertyNames(e).sort().join("\0")===yN}var yx=["POST","PUT","PATCH","DELETE"],bN=new Set(yx),wN=["GET",...yx],EN=new Set(wN),TN=new Set([301,302,303,307,308]),xN=new Set([307,308]),Hg={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},SN={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},nh={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},AN=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),vx="remix-router-transitions",bx=Symbol("ResetLoaderData");function RN(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";vt(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=t.hydrationRouteProperties||[],o=t.mapRouteProperties||AN,u=o;if(t.unstable_instrumentations){let Z=t.unstable_instrumentations;u=Q=>({...o(Q),...mN(Z.map(ie=>ie.route).filter(Boolean),Q)})}let c={},p=Sh(t.routes,u,void 0,c),_,y=t.basename||"/";y.startsWith("/")||(y=`/${y}`);let E=t.dataStrategy||PN,x={...t.future},C=null,D=new Set,I=null,j=null,U=null,ne=t.hydrationData!=null,ee=Aa(p,t.history.location,y),ae=!1,Te=null,Ce;if(ee==null&&!t.patchRoutesOnNavigation){let Z=Yr(404,{pathname:t.history.location.pathname}),{matches:Q,route:ie}=od(p);Ce=!0,ee=Q,Te={[ie.id]:Z}}else if(ee&&!t.hydrationData&&is(ee,p,t.history.location.pathname).active&&(ee=null),ee)if(ee.some(Z=>Z.route.lazy))Ce=!1;else if(!ee.some(Z=>oy(Z.route)))Ce=!0;else{let Z=t.hydrationData?t.hydrationData.loaderData:null,Q=t.hydrationData?t.hydrationData.errors:null;if(Q){let ie=ee.findIndex(re=>Q[re.route.id]!==void 0);Ce=ee.slice(0,ie+1).every(re=>!m_(re.route,Z,Q))}else Ce=ee.every(ie=>!m_(ie.route,Z,Q))}else{Ce=!1,ee=[];let Z=is(null,p,t.history.location.pathname);Z.active&&Z.matches&&(ae=!0,ee=Z.matches)}let ke,N={historyAction:t.history.action,location:t.history.location,matches:ee,initialized:Ce,navigation:Hg,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||Te,fetchers:new Map,blockers:new Map},M="POP",z=null,G=!1,V,K=!1,B=new Map,Ue=null,it=!1,te=!1,Ee=new Set,me=new Map,Ye=0,Ae=-1,H=new Map,le=new Set,be=new Map,xe=new Map,Se=new Set,Oe=new Map,Je,Nt=null;function $t(){if(C=t.history.listen(({action:Z,location:Q,delta:ie})=>{if(Je){Je(),Je=void 0;return}An(Oe.size===0||ie!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let re=pr({currentLocation:N.location,nextLocation:Q,historyAction:Z});if(re&&ie!=null){let Re=new Promise(Me=>{Je=Me});t.history.go(ie*-1),Wn(re,{state:"blocked",location:Q,proceed(){Wn(re,{state:"proceeding",proceed:void 0,reset:void 0,location:Q}),Re.then(()=>t.history.go(ie))},reset(){let Me=new Map(N.blockers);Me.set(re,nh),Gt({blockers:Me})}}),z?.resolve(),z=null;return}return Yn(Z,Q)}),n){KN(e,B);let Z=()=>YN(e,B);e.addEventListener("pagehide",Z),Ue=()=>e.removeEventListener("pagehide",Z)}return N.initialized||Yn("POP",N.location,{initialHydration:!0}),ke}function dr(){C&&C(),Ue&&Ue(),D.clear(),V&&V.abort(),N.fetchers.forEach((Z,Q)=>Ns(Q)),N.blockers.forEach((Z,Q)=>uo(Q))}function Pr(Z){return D.add(Z),()=>D.delete(Z)}function Gt(Z,Q={}){Z.matches&&(Z.matches=Z.matches.map(Re=>{let Me=c[Re.route.id],ze=Re.route;return ze.element!==Me.element||ze.errorElement!==Me.errorElement||ze.hydrateFallbackElement!==Me.hydrateFallbackElement?{...Re,route:Me}:Re})),N={...N,...Z};let ie=[],re=[];N.fetchers.forEach((Re,Me)=>{Re.state==="idle"&&(Se.has(Me)?ie.push(Me):re.push(Me))}),Se.forEach(Re=>{!N.fetchers.has(Re)&&!me.has(Re)&&ie.push(Re)}),[...D].forEach(Re=>Re(N,{deletedFetchers:ie,newErrors:Z.errors??null,viewTransitionOpts:Q.viewTransitionOpts,flushSync:Q.flushSync===!0})),ie.forEach(Re=>Ns(Re)),re.forEach(Re=>N.fetchers.delete(Re))}function ci(Z,Q,{flushSync:ie}={}){let re=N.actionData!=null&&N.navigation.formMethod!=null&&Hi(N.navigation.formMethod)&&N.navigation.state==="loading"&&Z.state?._isRedirect!==!0,Re;Q.actionData?Object.keys(Q.actionData).length>0?Re=Q.actionData:Re=null:re?Re=N.actionData:Re=null;let Me=Q.loaderData?kw(N.loaderData,Q.loaderData,Q.matches||[],Q.errors):N.loaderData,ze=N.blockers;ze.size>0&&(ze=new Map(ze),ze.forEach((Ve,qe)=>ze.set(qe,nh)));let Ie=it?!1:qo(Z,Q.matches||N.matches),De=G===!0||N.navigation.formMethod!=null&&Hi(N.navigation.formMethod)&&Z.state?._isRedirect!==!0;_&&(p=_,_=void 0),it||M==="POP"||(M==="PUSH"?t.history.push(Z,Z.state):M==="REPLACE"&&t.history.replace(Z,Z.state));let Be;if(M==="POP"){let Ve=B.get(N.location.pathname);Ve&&Ve.has(Z.pathname)?Be={currentLocation:N.location,nextLocation:Z}:B.has(Z.pathname)&&(Be={currentLocation:Z,nextLocation:N.location})}else if(K){let Ve=B.get(N.location.pathname);Ve?Ve.add(Z.pathname):(Ve=new Set([Z.pathname]),B.set(N.location.pathname,Ve)),Be={currentLocation:N.location,nextLocation:Z}}Gt({...Q,actionData:Re,loaderData:Me,historyAction:M,location:Z,initialized:!0,navigation:Hg,revalidation:"idle",restoreScrollPosition:Ie,preventScrollReset:De,blockers:ze},{viewTransitionOpts:Be,flushSync:ie===!0}),M="POP",G=!1,K=!1,it=!1,te=!1,z?.resolve(),z=null,Nt?.resolve(),Nt=null}async function Pi(Z,Q){if(z?.resolve(),z=null,typeof Z=="number"){z||(z=Uw());let Dt=z.promise;return t.history.go(Z),Dt}let ie=d_(N.location,N.matches,y,Z,Q?.fromRouteId,Q?.relative),{path:re,submission:Re,error:Me}=Aw(!1,ie,Q),ze=N.location,Ie=xh(N.location,re,Q&&Q.state);Ie={...Ie,...t.history.encodeLocation(Ie)};let De=Q&&Q.replace!=null?Q.replace:void 0,Be="PUSH";De===!0?Be="REPLACE":De===!1||Re!=null&&Hi(Re.formMethod)&&Re.formAction===N.location.pathname+N.location.search&&(Be="REPLACE");let Ve=Q&&"preventScrollReset"in Q?Q.preventScrollReset===!0:void 0,qe=(Q&&Q.flushSync)===!0,pt=pr({currentLocation:ze,nextLocation:Ie,historyAction:Be});if(pt){Wn(pt,{state:"blocked",location:Ie,proceed(){Wn(pt,{state:"proceeding",proceed:void 0,reset:void 0,location:Ie}),Pi(Z,Q)},reset(){let Dt=new Map(N.blockers);Dt.set(pt,nh),Gt({blockers:Dt})}});return}await Yn(Be,Ie,{submission:Re,pendingError:Me,preventScrollReset:Ve,replace:Q&&Q.replace,enableViewTransition:Q&&Q.viewTransition,flushSync:qe})}function Rs(){Nt||(Nt=Uw()),kr(),Gt({revalidation:"loading"});let Z=Nt.promise;return N.navigation.state==="submitting"?Z:N.navigation.state==="idle"?(Yn(N.historyAction,N.location,{startUninterruptedRevalidation:!0}),Z):(Yn(M||N.historyAction,N.navigation.location,{overrideNavigation:N.navigation,enableViewTransition:K===!0}),Z)}async function Yn(Z,Q,ie){V&&V.abort(),V=null,M=Z,it=(ie&&ie.startUninterruptedRevalidation)===!0,Mi(N.location,N.matches),G=(ie&&ie.preventScrollReset)===!0,K=(ie&&ie.enableViewTransition)===!0;let re=_||p,Re=ie&&ie.overrideNavigation,Me=ie?.initialHydration&&N.matches&&N.matches.length>0&&!ae?N.matches:Aa(re,Q,y),ze=(ie&&ie.flushSync)===!0;if(Me&&N.initialized&&!te&&VN(N.location,Q)&&!(ie&&ie.submission&&Hi(ie.submission.formMethod))){ci(Q,{matches:Me},{flushSync:ze});return}let Ie=is(Me,re,Q.pathname);if(Ie.active&&Ie.matches&&(Me=Ie.matches),!Me){let{error:nn,notFoundMatches:yt,route:gt}=tn(Q.pathname);ci(Q,{matches:yt,loaderData:{},errors:{[gt.id]:nn}},{flushSync:ze});return}V=new AbortController;let De=Ou(t.history,Q,V.signal,ie&&ie.submission),Be=t.getContext?await t.getContext():new bw,Ve;if(ie&&ie.pendingError)Ve=[Ra(Me).route.id,{type:"error",error:ie.pendingError}];else if(ie&&ie.submission&&Hi(ie.submission.formMethod)){let nn=await ns(De,Q,ie.submission,Me,Be,Ie.active,ie&&ie.initialHydration===!0,{replace:ie.replace,flushSync:ze});if(nn.shortCircuited)return;if(nn.pendingActionResult){let[yt,gt]=nn.pendingActionResult;if(Ir(gt)&&Ah(gt.error)&&gt.error.status===404){V=null,ci(Q,{matches:nn.matches,loaderData:{},errors:{[yt]:gt.error}});return}}Me=nn.matches||Me,Ve=nn.pendingActionResult,Re=qg(Q,ie.submission),ze=!1,Ie.active=!1,De=Ou(t.history,De.url,De.signal)}let{shortCircuited:qe,matches:pt,loaderData:Dt,errors:zt}=await Lr(De,Q,Me,Be,Ie.active,Re,ie&&ie.submission,ie&&ie.fetcherSubmission,ie&&ie.replace,ie&&ie.initialHydration===!0,ze,Ve);qe||(V=null,ci(Q,{matches:pt||Me,...Mw(Ve),loaderData:Dt,errors:zt}))}async function ns(Z,Q,ie,re,Re,Me,ze,Ie={}){kr();let De=$N(Q,ie);if(Gt({navigation:De},{flushSync:Ie.flushSync===!0}),Me){let qe=await hi(re,Q.pathname,Z.signal);if(qe.type==="aborted")return{shortCircuited:!0};if(qe.type==="error"){if(qe.partialMatches.length===0){let{matches:Dt,route:zt}=od(p);return{matches:Dt,pendingActionResult:[zt.id,{type:"error",error:qe.error}]}}let pt=Ra(qe.partialMatches).route.id;return{matches:qe.partialMatches,pendingActionResult:[pt,{type:"error",error:qe.error}]}}else if(qe.matches)re=qe.matches;else{let{notFoundMatches:pt,error:Dt,route:zt}=tn(Q.pathname);return{matches:pt,pendingActionResult:[zt.id,{type:"error",error:Dt}]}}}let Be,Ve=Td(re,Q);if(!Ve.route.action&&!Ve.route.lazy)Be={type:"error",error:Yr(405,{method:Z.method,pathname:Q.pathname,routeId:Ve.route.id})};else{let qe=ju(u,c,Z,re,Ve,ze?[]:r,Re),pt=await Li(Z,qe,Re,null);if(Be=pt[Ve.route.id],!Be){for(let Dt of re)if(pt[Dt.route.id]){Be=pt[Dt.route.id];break}}if(Z.signal.aborted)return{shortCircuited:!0}}if(Il(Be)){let qe;return Ie&&Ie.replace!=null?qe=Ie.replace:qe=Pw(Be.response.headers.get("Location"),new URL(Z.url),y)===N.location.pathname+N.location.search,await fn(Z,Be,!0,{submission:ie,replace:qe}),{shortCircuited:!0}}if(Ir(Be)){let qe=Ra(re,Ve.route.id);return(Ie&&Ie.replace)!==!0&&(M="PUSH"),{matches:re,pendingActionResult:[qe.route.id,Be,Ve.route.id]}}return{matches:re,pendingActionResult:[Ve.route.id,Be]}}async function Lr(Z,Q,ie,re,Re,Me,ze,Ie,De,Be,Ve,qe){let pt=Me||qg(Q,ze),Dt=ze||Ie||jw(pt),zt=!it&&!Be;if(Re){if(zt){let rn=hn(qe);Gt({navigation:pt,...rn!==void 0?{actionData:rn}:{}},{flushSync:Ve})}let ct=await hi(ie,Q.pathname,Z.signal);if(ct.type==="aborted")return{shortCircuited:!0};if(ct.type==="error"){if(ct.partialMatches.length===0){let{matches:rt,route:ot}=od(p);return{matches:rt,loaderData:{},errors:{[ot.id]:ct.error}}}let rn=Ra(ct.partialMatches).route.id;return{matches:ct.partialMatches,loaderData:{},errors:{[rn]:ct.error}}}else if(ct.matches)ie=ct.matches;else{let{error:rn,notFoundMatches:rt,route:ot}=tn(Q.pathname);return{matches:rt,loaderData:{},errors:{[ot.id]:rn}}}}let nn=_||p,{dsMatches:yt,revalidatingFetchers:gt}=Rw(Z,re,u,c,t.history,N,ie,Dt,Q,Be?[]:r,Be===!0,te,Ee,Se,be,le,nn,y,t.patchRoutesOnNavigation!=null,qe);if(Ae=++Ye,!t.dataStrategy&&!yt.some(ct=>ct.shouldLoad)&&!yt.some(ct=>ct.route.middleware&&ct.route.middleware.length>0)&&gt.length===0){let ct=ln();return ci(Q,{matches:ie,loaderData:{},errors:qe&&Ir(qe[1])?{[qe[0]]:qe[1].error}:null,...Mw(qe),...ct?{fetchers:new Map(N.fetchers)}:{}},{flushSync:Ve}),{shortCircuited:!0}}if(zt){let ct={};if(!Re){ct.navigation=pt;let rn=hn(qe);rn!==void 0&&(ct.actionData=rn)}gt.length>0&&(ct.fetchers=pn(gt)),Gt(ct,{flushSync:Ve})}gt.forEach(ct=>{Ft(ct.key),ct.controller&&me.set(ct.key,ct.controller)});let un=()=>gt.forEach(ct=>Ft(ct.key));V&&V.signal.addEventListener("abort",un);let{loaderResults:Xn,fetcherResults:Ht}=await Dr(yt,gt,Z,re);if(Z.signal.aborted)return{shortCircuited:!0};V&&V.signal.removeEventListener("abort",un),gt.forEach(ct=>me.delete(ct.key));let Jn=ad(Xn);if(Jn)return await fn(Z,Jn.result,!0,{replace:De}),{shortCircuited:!0};if(Jn=ad(Ht),Jn)return le.add(Jn.key),await fn(Z,Jn.result,!0,{replace:De}),{shortCircuited:!0};let{loaderData:ss,errors:ei}=Dw(N,ie,Xn,qe,gt,Ht);Be&&N.errors&&(ei={...N.errors,...ei});let En=ln(),vi=mr(Ae),gr=En||vi||gt.length>0;return{matches:ie,loaderData:ss,errors:ei,...gr?{fetchers:new Map(N.fetchers)}:{}}}function hn(Z){if(Z&&!Ir(Z[1]))return{[Z[0]]:Z[1].data};if(N.actionData)return Object.keys(N.actionData).length===0?null:N.actionData}function pn(Z){return Z.forEach(Q=>{let ie=N.fetchers.get(Q.key),re=ih(void 0,ie?ie.data:void 0);N.fetchers.set(Q.key,re)}),new Map(N.fetchers)}async function $i(Z,Q,ie,re){Ft(Z);let Re=(re&&re.flushSync)===!0,Me=_||p,ze=d_(N.location,N.matches,y,ie,Q,re?.relative),Ie=Aa(Me,ze,y),De=is(Ie,Me,ze);if(De.active&&De.matches&&(Ie=De.matches),!Ie){Di(Z,Q,Yr(404,{pathname:ze}),{flushSync:Re});return}let{path:Be,submission:Ve,error:qe}=Aw(!0,ze,re);if(qe){Di(Z,Q,qe,{flushSync:Re});return}let pt=t.getContext?await t.getContext():new bw,Dt=(re&&re.preventScrollReset)===!0;if(Ve&&Hi(Ve.formMethod)){await Ho(Z,Q,Be,Ie,pt,De.active,Re,Dt,Ve);return}be.set(Z,{routeId:Q,path:Be}),await ao(Z,Q,Be,Ie,pt,De.active,Re,Dt,Ve)}async function Ho(Z,Q,ie,re,Re,Me,ze,Ie,De){kr(),be.delete(Z);let Be=N.fetchers.get(Z);Cn(Z,GN(De,Be),{flushSync:ze});let Ve=new AbortController,qe=Ou(t.history,ie,Ve.signal,De);if(Me){let tt=await hi(re,new URL(qe.url).pathname,qe.signal,Z);if(tt.type==="aborted")return;if(tt.type==="error"){Di(Z,Q,tt.error,{flushSync:ze});return}else if(tt.matches)re=tt.matches;else{Di(Z,Q,Yr(404,{pathname:ie}),{flushSync:ze});return}}let pt=Td(re,ie);if(!pt.route.action&&!pt.route.lazy){let tt=Yr(405,{method:De.formMethod,pathname:ie,routeId:Q});Di(Z,Q,tt,{flushSync:ze});return}me.set(Z,Ve);let Dt=Ye,zt=ju(u,c,qe,re,pt,r,Re),nn=await Li(qe,zt,Re,Z),yt=nn[pt.route.id];if(!yt){for(let tt of zt)if(nn[tt.route.id]){yt=nn[tt.route.id];break}}if(qe.signal.aborted){me.get(Z)===Ve&&me.delete(Z);return}if(Se.has(Z)){if(Il(yt)||Ir(yt)){Cn(Z,Do(void 0));return}}else{if(Il(yt))if(me.delete(Z),Ae>Dt){Cn(Z,Do(void 0));return}else return le.add(Z),Cn(Z,ih(De)),fn(qe,yt,!1,{fetcherSubmission:De,preventScrollReset:Ie});if(Ir(yt)){Di(Z,Q,yt.error);return}}let gt=N.navigation.location||N.location,un=Ou(t.history,gt,Ve.signal),Xn=_||p,Ht=N.navigation.state!=="idle"?Aa(Xn,N.navigation.location,y):N.matches;vt(Ht,"Didn't find any matches after fetcher action");let Jn=++Ye;H.set(Z,Jn);let ss=ih(De,yt.data);N.fetchers.set(Z,ss);let{dsMatches:ei,revalidatingFetchers:En}=Rw(un,Re,u,c,t.history,N,Ht,De,gt,r,!1,te,Ee,Se,be,le,Xn,y,t.patchRoutesOnNavigation!=null,[pt.route.id,yt]);En.filter(tt=>tt.key!==Z).forEach(tt=>{let Zt=tt.key,ti=N.fetchers.get(Zt),os=ih(void 0,ti?ti.data:void 0);N.fetchers.set(Zt,os),Ft(Zt),tt.controller&&me.set(Zt,tt.controller)}),Gt({fetchers:new Map(N.fetchers)});let vi=()=>En.forEach(tt=>Ft(tt.key));Ve.signal.addEventListener("abort",vi);let{loaderResults:gr,fetcherResults:ct}=await Dr(ei,En,un,Re);if(Ve.signal.aborted)return;if(Ve.signal.removeEventListener("abort",vi),H.delete(Z),me.delete(Z),En.forEach(tt=>me.delete(tt.key)),N.fetchers.has(Z)){let tt=Do(yt.data);N.fetchers.set(Z,tt)}let rn=ad(gr);if(rn)return fn(un,rn.result,!1,{preventScrollReset:Ie});if(rn=ad(ct),rn)return le.add(rn.key),fn(un,rn.result,!1,{preventScrollReset:Ie});let{loaderData:rt,errors:ot}=Dw(N,Ht,gr,void 0,En,ct);mr(Jn),N.navigation.state==="loading"&&Jn>Ae?(vt(M,"Expected pending action"),V&&V.abort(),ci(N.navigation.location,{matches:Ht,loaderData:rt,errors:ot,fetchers:new Map(N.fetchers)})):(Gt({errors:ot,loaderData:kw(N.loaderData,rt,Ht,ot),fetchers:new Map(N.fetchers)}),te=!1)}async function ao(Z,Q,ie,re,Re,Me,ze,Ie,De){let Be=N.fetchers.get(Z);Cn(Z,ih(De,Be?Be.data:void 0),{flushSync:ze});let Ve=new AbortController,qe=Ou(t.history,ie,Ve.signal);if(Me){let gt=await hi(re,new URL(qe.url).pathname,qe.signal,Z);if(gt.type==="aborted")return;if(gt.type==="error"){Di(Z,Q,gt.error,{flushSync:ze});return}else if(gt.matches)re=gt.matches;else{Di(Z,Q,Yr(404,{pathname:ie}),{flushSync:ze});return}}let pt=Td(re,ie);me.set(Z,Ve);let Dt=Ye,zt=ju(u,c,qe,re,pt,r,Re),yt=(await Li(qe,zt,Re,Z))[pt.route.id];if(me.get(Z)===Ve&&me.delete(Z),!qe.signal.aborted){if(Se.has(Z)){Cn(Z,Do(void 0));return}if(Il(yt))if(Ae>Dt){Cn(Z,Do(void 0));return}else{le.add(Z),await fn(qe,yt,!1,{preventScrollReset:Ie});return}if(Ir(yt)){Di(Z,Q,yt.error);return}Cn(Z,Do(yt.data))}}async function fn(Z,Q,ie,{submission:re,fetcherSubmission:Re,preventScrollReset:Me,replace:ze}={}){ie||(z?.resolve(),z=null),Q.response.headers.has("X-Remix-Revalidate")&&(te=!0);let Ie=Q.response.headers.get("Location");vt(Ie,"Expected a Location header on the redirect Response"),Ie=Pw(Ie,new URL(Z.url),y);let De=xh(N.location,Ie,{_isRedirect:!0});if(n){let zt=!1;if(Q.response.headers.has("X-Remix-Reload-Document"))zt=!0;else if(dm(Ie)){const nn=dx(Ie,!0);zt=nn.origin!==e.location.origin||Xr(nn.pathname,y)==null}if(zt){ze?e.location.replace(Ie):e.location.assign(Ie);return}}V=null;let Be=ze===!0||Q.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Ve,formAction:qe,formEncType:pt}=N.navigation;!re&&!Re&&Ve&&qe&&pt&&(re=jw(N.navigation));let Dt=re||Re;if(xN.has(Q.response.status)&&Dt&&Hi(Dt.formMethod))await Yn(Be,De,{submission:{...Dt,formAction:Ie},preventScrollReset:Me||G,enableViewTransition:ie?K:void 0});else{let zt=qg(De,re);await Yn(Be,De,{overrideNavigation:zt,fetcherSubmission:Re,preventScrollReset:Me||G,enableViewTransition:ie?K:void 0})}}async function Li(Z,Q,ie,re){let Re,Me={};try{Re=await DN(E,Z,Q,re,ie,!1)}catch(ze){return Q.filter(Ie=>Ie.shouldLoad).forEach(Ie=>{Me[Ie.route.id]={type:"error",error:ze}}),Me}if(Z.signal.aborted)return Me;for(let[ze,Ie]of Object.entries(Re))if(qN(Ie)){let De=Ie.result;Me[ze]={type:"redirect",response:jN(De,Z,ze,Q,y)}}else Me[ze]=await zN(Ie);return Me}async function Dr(Z,Q,ie,re){let Re=Li(ie,Z,re,null),Me=Promise.all(Q.map(async De=>{if(De.matches&&De.match&&De.request&&De.controller){let Ve=(await Li(De.request,De.matches,re,De.key))[De.match.route.id];return{[De.key]:Ve}}else return Promise.resolve({[De.key]:{type:"error",error:Yr(404,{pathname:De.path})}})})),ze=await Re,Ie=(await Me).reduce((De,Be)=>Object.assign(De,Be),{});return{loaderResults:ze,fetcherResults:Ie}}function kr(){te=!0,be.forEach((Z,Q)=>{me.has(Q)&&Ee.add(Q),Ft(Q)})}function Cn(Z,Q,ie={}){N.fetchers.set(Z,Q),Gt({fetchers:new Map(N.fetchers)},{flushSync:(ie&&ie.flushSync)===!0})}function Di(Z,Q,ie,re={}){let Re=Ra(N.matches,Q);Ns(Z),Gt({errors:{[Re.route.id]:ie},fetchers:new Map(N.fetchers)},{flushSync:(re&&re.flushSync)===!0})}function Cs(Z){return xe.set(Z,(xe.get(Z)||0)+1),Se.has(Z)&&Se.delete(Z),N.fetchers.get(Z)||SN}function lo(Z,Q){Ft(Z,Q?.reason),Cn(Z,Do(null))}function Ns(Z){let Q=N.fetchers.get(Z);me.has(Z)&&!(Q&&Q.state==="loading"&&H.has(Z))&&Ft(Z),be.delete(Z),H.delete(Z),le.delete(Z),Se.delete(Z),Ee.delete(Z),N.fetchers.delete(Z)}function yi(Z){let Q=(xe.get(Z)||0)-1;Q<=0?(xe.delete(Z),Se.add(Z)):xe.set(Z,Q),Gt({fetchers:new Map(N.fetchers)})}function Ft(Z,Q){let ie=me.get(Z);ie&&(ie.abort(Q),me.delete(Z))}function Qn(Z){for(let Q of Z){let ie=Cs(Q),re=Do(ie.data);N.fetchers.set(Q,re)}}function ln(){let Z=[],Q=!1;for(let ie of le){let re=N.fetchers.get(ie);vt(re,`Expected fetcher: ${ie}`),re.state==="loading"&&(le.delete(ie),Z.push(ie),Q=!0)}return Qn(Z),Q}function mr(Z){let Q=[];for(let[ie,re]of H)if(re<Z){let Re=N.fetchers.get(ie);vt(Re,`Expected fetcher: ${ie}`),Re.state==="loading"&&(Ft(ie),H.delete(ie),Q.push(ie))}return Qn(Q),Q.length>0}function Os(Z,Q){let ie=N.blockers.get(Z)||nh;return Oe.get(Z)!==Q&&Oe.set(Z,Q),ie}function uo(Z){N.blockers.delete(Z),Oe.delete(Z)}function Wn(Z,Q){let ie=N.blockers.get(Z)||nh;vt(ie.state==="unblocked"&&Q.state==="blocked"||ie.state==="blocked"&&Q.state==="blocked"||ie.state==="blocked"&&Q.state==="proceeding"||ie.state==="blocked"&&Q.state==="unblocked"||ie.state==="proceeding"&&Q.state==="unblocked",`Invalid blocker state transition: ${ie.state} -> ${Q.state}`);let re=new Map(N.blockers);re.set(Z,Q),Gt({blockers:re})}function pr({currentLocation:Z,nextLocation:Q,historyAction:ie}){if(Oe.size===0)return;Oe.size>1&&An(!1,"A router only supports one blocker at a time");let re=Array.from(Oe.entries()),[Re,Me]=re[re.length-1],ze=N.blockers.get(Re);if(!(ze&&ze.state==="proceeding")&&Me({currentLocation:Z,nextLocation:Q,historyAction:ie}))return Re}function tn(Z){let Q=Yr(404,{pathname:Z}),ie=_||p,{matches:re,route:Re}=od(ie);return{notFoundMatches:re,route:Re,error:Q}}function Gi(Z,Q,ie){if(I=Z,U=Q,j=ie||null,!ne&&N.navigation===Hg){ne=!0;let re=qo(N.location,N.matches);re!=null&&Gt({restoreScrollPosition:re})}return()=>{I=null,U=null,j=null}}function ki(Z,Q){return j&&j(Z,Q.map(re=>YC(re,N.loaderData)))||Z.key}function Mi(Z,Q){if(I&&U){let ie=ki(Z,Q);I[ie]=U()}}function qo(Z,Q){if(I){let ie=ki(Z,Q),re=I[ie];if(typeof re=="number")return re}return null}function is(Z,Q,ie){if(t.patchRoutesOnNavigation)if(Z){if(Object.keys(Z[0].params).length>0)return{active:!0,matches:lh(Q,ie,y,!0)}}else return{active:!0,matches:lh(Q,ie,y,!0)||[]};return{active:!1,matches:null}}async function hi(Z,Q,ie,re){if(!t.patchRoutesOnNavigation)return{type:"success",matches:Z};let Re=Z;for(;;){let Me=_==null,ze=_||p,Ie=c;try{await t.patchRoutesOnNavigation({signal:ie,path:Q,matches:Re,fetcherKey:re,patch:(Ve,qe)=>{ie.aborted||Cw(Ve,qe,ze,Ie,u,!1)}})}catch(Ve){return{type:"error",error:Ve,partialMatches:Re}}finally{Me&&!ie.aborted&&(p=[...p])}if(ie.aborted)return{type:"aborted"};let De=Aa(ze,Q,y),Be=null;if(De){if(Object.keys(De[0].params).length===0)return{type:"success",matches:De};if(Be=lh(ze,Q,y,!0),!(Be&&Re.length<Be.length&&Ki(Re,Be.slice(0,Re.length))))return{type:"success",matches:De}}if(Be||(Be=lh(ze,Q,y,!0)),!Be||Ki(Re,Be))return{type:"success",matches:null};Re=Be}}function Ki(Z,Q){return Z.length===Q.length&&Z.every((ie,re)=>ie.route.id===Q[re].route.id)}function Wa(Z){c={},_=Sh(Z,u,void 0,c)}function rs(Z,Q,ie=!1){let re=_==null;Cw(Z,Q,_||p,c,u,ie),re&&(p=[...p],Gt({}))}return ke={get basename(){return y},get future(){return x},get state(){return N},get routes(){return p},get window(){return e},initialize:$t,subscribe:Pr,enableScrollRestoration:Gi,navigate:Pi,fetch:$i,revalidate:Rs,createHref:Z=>t.history.createHref(Z),encodeLocation:Z=>t.history.encodeLocation(Z),getFetcher:Cs,resetFetcher:lo,deleteFetcher:yi,dispose:dr,getBlocker:Os,deleteBlocker:uo,patchRoutes:rs,_internalFetchControllers:me,_internalSetRoutes:Wa,_internalSetStateDoNotUseOrYouWillBreakYourApp(Z){Gt(Z)}},t.unstable_instrumentations&&(ke=pN(ke,t.unstable_instrumentations.map(Z=>Z.router).filter(Boolean))),ke}function CN(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function d_(t,e,n,r,o,u){let c,p;if(o){c=[];for(let y of e)if(c.push(y),y.route.id===o){p=y;break}}else c=e,p=e[e.length-1];let _=pm(r||".",mm(c),Xr(t.pathname,n)||t.pathname,u==="path");if(r==null&&(_.search=t.search,_.hash=t.hash),(r==null||r===""||r===".")&&p){let y=ay(_.search);if(p.route.index&&!y)_.search=_.search?_.search.replace(/^\?/,"?index&"):"?index";else if(!p.route.index&&y){let E=new URLSearchParams(_.search),x=E.getAll("index");E.delete("index"),x.filter(D=>D).forEach(D=>E.append("index",D));let C=E.toString();_.search=C?`?${C}`:""}}return n!=="/"&&(_.pathname=lN({basename:n,pathname:_.pathname})),no(_)}function Aw(t,e,n){if(!n||!CN(n))return{path:e};if(n.formMethod&&!ZN(n.formMethod))return{path:e,error:Yr(405,{method:n.formMethod})};let r=()=>({path:e,error:Yr(400,{type:"invalid-body"})}),u=(n.formMethod||"get").toUpperCase(),c=Ax(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Hi(u))return r();let x=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((C,[D,I])=>`${C}${D}=${I}
`,""):String(n.body);return{path:e,submission:{formMethod:u,formAction:c,formEncType:n.formEncType,formData:void 0,json:void 0,text:x}}}else if(n.formEncType==="application/json"){if(!Hi(u))return r();try{let x=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:u,formAction:c,formEncType:n.formEncType,formData:void 0,json:x,text:void 0}}}catch{return r()}}}vt(typeof FormData=="function","FormData is not available in this environment");let p,_;if(n.formData)p=g_(n.formData),_=n.formData;else if(n.body instanceof FormData)p=g_(n.body),_=n.body;else if(n.body instanceof URLSearchParams)p=n.body,_=Lw(p);else if(n.body==null)p=new URLSearchParams,_=new FormData;else try{p=new URLSearchParams(n.body),_=Lw(p)}catch{return r()}let y={formMethod:u,formAction:c,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:_,json:void 0,text:void 0};if(Hi(y.formMethod))return{path:e,submission:y};let E=Ka(e);return t&&E.search&&ay(E.search)&&p.append("index",""),E.search=`?${p}`,{path:no(E),submission:y}}function Rw(t,e,n,r,o,u,c,p,_,y,E,x,C,D,I,j,U,ne,ee,ae){let Te=ae?Ir(ae[1])?ae[1].error:ae[1].data:void 0,Ce=o.createURL(u.location),ke=o.createURL(_),N;if(E&&u.errors){let Ue=Object.keys(u.errors)[0];N=c.findIndex(it=>it.route.id===Ue)}else if(ae&&Ir(ae[1])){let Ue=ae[0];N=c.findIndex(it=>it.route.id===Ue)-1}let M=ae?ae[1].statusCode:void 0,z=M&&M>=400,G={currentUrl:Ce,currentParams:u.matches[0]?.params||{},nextUrl:ke,nextParams:c[0].params,...p,actionResult:Te,actionStatus:M},V=Mh(c),K=c.map((Ue,it)=>{let{route:te}=Ue,Ee=null;if(N!=null&&it>N?Ee=!1:te.lazy?Ee=!0:oy(te)?E?Ee=m_(te,u.loaderData,u.errors):NN(u.loaderData,u.matches[it],Ue)&&(Ee=!0):Ee=!1,Ee!==null)return p_(n,r,t,V,Ue,y,e,Ee);let me=z?!1:x||Ce.pathname+Ce.search===ke.pathname+ke.search||Ce.search!==ke.search||ON(u.matches[it],Ue),Ye={...G,defaultShouldRevalidate:me},Ae=Zd(Ue,Ye);return p_(n,r,t,V,Ue,y,e,Ae,Ye)}),B=[];return I.forEach((Ue,it)=>{if(E||!c.some(be=>be.route.id===Ue.routeId)||D.has(it))return;let te=u.fetchers.get(it),Ee=te&&te.state!=="idle"&&te.data===void 0,me=Aa(U,Ue.path,ne);if(!me){if(ee&&Ee)return;B.push({key:it,routeId:Ue.routeId,path:Ue.path,matches:null,match:null,request:null,controller:null});return}if(j.has(it))return;let Ye=Td(me,Ue.path),Ae=new AbortController,H=Ou(o,Ue.path,Ae.signal),le=null;if(C.has(it))C.delete(it),le=ju(n,r,H,me,Ye,y,e);else if(Ee)x&&(le=ju(n,r,H,me,Ye,y,e));else{let be={...G,defaultShouldRevalidate:z?!1:x};Zd(Ye,be)&&(le=ju(n,r,H,me,Ye,y,e,be))}le&&B.push({key:it,routeId:Ue.routeId,path:Ue.path,matches:le,match:Ye,request:H,controller:Ae})}),{dsMatches:K,revalidatingFetchers:B}}function oy(t){return t.loader!=null||t.middleware!=null&&t.middleware.length>0}function m_(t,e,n){if(t.lazy)return!0;if(!oy(t))return!1;let r=e!=null&&t.id in e,o=n!=null&&n[t.id]!==void 0;return!r&&o?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!o}function NN(t,e,n){let r=!e||n.route.id!==e.route.id,o=!t.hasOwnProperty(n.route.id);return r||o}function ON(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Zd(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function Cw(t,e,n,r,o,u){let c;if(t){let y=r[t];vt(y,`No route found to patch children into: routeId = ${t}`),y.children||(y.children=[]),c=y.children}else c=n;let p=[],_=[];if(e.forEach(y=>{let E=c.find(x=>wx(y,x));E?_.push({existingRoute:E,newRoute:y}):p.push(y)}),p.length>0){let y=Sh(p,o,[t||"_","patch",String(c?.length||"0")],r);c.push(...y)}if(u&&_.length>0)for(let y=0;y<_.length;y++){let{existingRoute:E,newRoute:x}=_[y],C=E,[D]=Sh([x],o,[],{},!0);Object.assign(C,{element:D.element?D.element:C.element,errorElement:D.errorElement?D.errorElement:C.errorElement,hydrateFallbackElement:D.hydrateFallbackElement?D.hydrateFallbackElement:C.hydrateFallbackElement})}}function wx(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>e.children?.some(o=>wx(n,o))):!1}var Nw=new WeakMap,Ex=({key:t,route:e,manifest:n,mapRouteProperties:r})=>{let o=n[e.id];if(vt(o,"No route found in manifest"),!o.lazy||typeof o.lazy!="object")return;let u=o.lazy[t];if(!u)return;let c=Nw.get(o);c||(c={},Nw.set(o,c));let p=c[t];if(p)return p;let _=(async()=>{let y=ZC(t),x=o[t]!==void 0&&t!=="hasErrorBoundary";if(y)An(!y,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),c[t]=Promise.resolve();else if(x)An(!1,`Route "${o.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let C=await u();C!=null&&(Object.assign(o,{[t]:C}),Object.assign(o,r(o)))}typeof o.lazy=="object"&&(o.lazy[t]=void 0,Object.values(o.lazy).every(C=>C===void 0)&&(o.lazy=void 0))})();return c[t]=_,_},Ow=new WeakMap;function IN(t,e,n,r,o){let u=n[t.id];if(vt(u,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let E=Ow.get(u);if(E)return{lazyRoutePromise:E,lazyHandlerPromise:E};let x=(async()=>{vt(typeof t.lazy=="function","No lazy route function found");let C=await t.lazy(),D={};for(let I in C){let j=C[I];if(j===void 0)continue;let U=GC(I),ee=u[I]!==void 0&&I!=="hasErrorBoundary";U?An(!U,"Route property "+I+" is not a supported property to be returned from a lazy route function. This property will be ignored."):ee?An(!ee,`Route "${u.id}" has a static property "${I}" defined but its lazy function is also returning a value for this property. The lazy route property "${I}" will be ignored.`):D[I]=j}Object.assign(u,D),Object.assign(u,{...r(u),lazy:void 0})})();return Ow.set(u,x),x.catch(()=>{}),{lazyRoutePromise:x,lazyHandlerPromise:x}}let c=Object.keys(t.lazy),p=[],_;for(let E of c){if(o&&o.includes(E))continue;let x=Ex({key:E,route:t,manifest:n,mapRouteProperties:r});x&&(p.push(x),E===e&&(_=x))}let y=p.length>0?Promise.all(p).then(()=>{}):void 0;return y?.catch(()=>{}),_?.catch(()=>{}),{lazyRoutePromise:y,lazyHandlerPromise:_}}async function Iw(t){let e=t.matches.filter(o=>o.shouldLoad),n={};return(await Promise.all(e.map(o=>o.resolve()))).forEach((o,u)=>{n[e[u].route.id]=o}),n}async function PN(t){return t.matches.some(e=>e.route.middleware)?Tx(t,()=>Iw(t)):Iw(t)}function Tx(t,e){return LN(t,e,r=>r,FN,n);function n(r,o,u){if(u)return Promise.resolve(Object.assign(u.value,{[o]:{type:"error",result:r}}));{let{matches:c}=t,p=Math.min(Math.max(c.findIndex(y=>y.route.id===o),0),Math.max(c.findIndex(y=>y.shouldCallHandler()),0)),_=Ra(c,c[p].route.id).route.id;return Promise.resolve({[_]:{type:"error",result:r}})}}}async function LN(t,e,n,r,o){let{matches:u,request:c,params:p,context:_,unstable_pattern:y}=t,E=u.flatMap(C=>C.route.middleware?C.route.middleware.map(D=>[C.route.id,D]):[]);return await xx({request:c,params:p,context:_,unstable_pattern:y},E,e,n,r,o)}async function xx(t,e,n,r,o,u,c=0){let{request:p}=t;if(p.signal.aborted)throw p.signal.reason??new Error(`Request aborted: ${p.method} ${p.url}`);let _=e[c];if(!_)return await n();let[y,E]=_,x,C=async()=>{if(x)throw new Error("You may only call `next()` once per middleware");try{return x={value:await xx(t,e,n,r,o,u,c+1)},x.value}catch(D){return x={value:await u(D,y,x)},x.value}};try{let D=await E(t,C),I=D!=null?r(D):void 0;return o(I)?I:x?I??x.value:(x={value:await C()},x.value)}catch(D){return await u(D,y,x)}}function Sx(t,e,n,r,o){let u=Ex({key:"middleware",route:r.route,manifest:e,mapRouteProperties:t}),c=IN(r.route,Hi(n.method)?"action":"loader",e,t,o);return{middleware:u,route:c.lazyRoutePromise,handler:c.lazyHandlerPromise}}function p_(t,e,n,r,o,u,c,p,_=null){let y=!1,E=Sx(t,e,n,o,u);return{...o,_lazyPromises:E,shouldLoad:p,shouldRevalidateArgs:_,shouldCallHandler(x){return y=!0,_?typeof x=="boolean"?Zd(o,{..._,defaultShouldRevalidate:x}):Zd(o,_):p},resolve(x){let{lazy:C,loader:D,middleware:I}=o.route,j=y||p||x&&!Hi(n.method)&&(C||D),U=I&&I.length>0&&!D&&!C;return j&&(Hi(n.method)||!U)?kN({request:n,unstable_pattern:r,match:o,lazyHandlerPromise:E?.handler,lazyRoutePromise:E?.route,handlerOverride:x,scopedContext:c}):Promise.resolve({type:"data",result:void 0})}}}function ju(t,e,n,r,o,u,c,p=null){return r.map(_=>_.route.id!==o.route.id?{..._,shouldLoad:!1,shouldRevalidateArgs:p,shouldCallHandler:()=>!1,_lazyPromises:Sx(t,e,n,_,u),resolve:()=>Promise.resolve({type:"data",result:void 0})}:p_(t,e,n,Mh(r),_,u,c,!0,p))}async function DN(t,e,n,r,o,u){n.some(y=>y._lazyPromises?.middleware)&&await Promise.all(n.map(y=>y._lazyPromises?.middleware));let c={request:e,unstable_pattern:Mh(n),params:n[0].params,context:o,matches:n},_=await t({...c,fetcherKey:r,runClientMiddleware:y=>{let E=c;return Tx(E,()=>y({...E,fetcherKey:r,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(n.flatMap(y=>[y._lazyPromises?.handler,y._lazyPromises?.route]))}catch{}return _}async function kN({request:t,unstable_pattern:e,match:n,lazyHandlerPromise:r,lazyRoutePromise:o,handlerOverride:u,scopedContext:c}){let p,_,y=Hi(t.method),E=y?"action":"loader",x=C=>{let D,I=new Promise((ne,ee)=>D=ee);_=()=>D(),t.signal.addEventListener("abort",_);let j=ne=>typeof C!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${E}" [routeId: ${n.route.id}]`)):C({request:t,unstable_pattern:e,params:n.params,context:c},...ne!==void 0?[ne]:[]),U=(async()=>{try{return{type:"data",result:await(u?u(ee=>j(ee)):j())}}catch(ne){return{type:"error",result:ne}}})();return Promise.race([U,I])};try{let C=y?n.route.action:n.route.loader;if(r||o)if(C){let D,[I]=await Promise.all([x(C).catch(j=>{D=j}),r,o]);if(D!==void 0)throw D;p=I}else{await r;let D=y?n.route.action:n.route.loader;if(D)[p]=await Promise.all([x(D),o]);else if(E==="action"){let I=new URL(t.url),j=I.pathname+I.search;throw Yr(405,{method:t.method,pathname:j,routeId:n.route.id})}else return{type:"data",result:void 0}}else if(C)p=await x(C);else{let D=new URL(t.url),I=D.pathname+D.search;throw Yr(404,{pathname:I})}}catch(C){return{type:"error",result:C}}finally{_&&t.signal.removeEventListener("abort",_)}return p}async function MN(t){let e=t.headers.get("Content-Type");return e&&/\bapplication\/json\b/.test(e)?t.body==null?null:t.json():t.text()}async function zN(t){let{result:e,type:n}=t;if(Rx(e)){let r;try{r=await MN(e)}catch(o){return{type:"error",error:o}}return n==="error"?{type:"error",error:new gm(e.status,e.statusText,r),statusCode:e.status,headers:e.headers}:{type:"data",data:r,statusCode:e.status,headers:e.headers}}return n==="error"?zw(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:BN(e),statusCode:Ah(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Ah(e)?e.status:void 0}:zw(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function jN(t,e,n,r,o){let u=t.headers.get("Location");if(vt(u,"Redirects returned/thrown from loaders/actions must have a Location header"),!dm(u)){let c=r.slice(0,r.findIndex(p=>p.route.id===n)+1);u=d_(new URL(e.url),c,o,u),t.headers.set("Location",u)}return t}function Pw(t,e,n){if(dm(t)){let r=t,o=r.startsWith("//")?new URL(e.protocol+r):new URL(r),u=Xr(o.pathname,n)!=null;if(o.origin===e.origin&&u)return o.pathname+o.search+o.hash}return t}function Ou(t,e,n,r){let o=t.createURL(Ax(e)).toString(),u={signal:n};if(r&&Hi(r.formMethod)){let{formMethod:c,formEncType:p}=r;u.method=c.toUpperCase(),p==="application/json"?(u.headers=new Headers({"Content-Type":p}),u.body=JSON.stringify(r.json)):p==="text/plain"?u.body=r.text:p==="application/x-www-form-urlencoded"&&r.formData?u.body=g_(r.formData):u.body=r.formData}return new Request(o,u)}function g_(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function Lw(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function UN(t,e,n,r=!1,o=!1){let u={},c=null,p,_=!1,y={},E=n&&Ir(n[1])?n[1].error:void 0;return t.forEach(x=>{if(!(x.route.id in e))return;let C=x.route.id,D=e[C];if(vt(!Il(D),"Cannot handle redirect results in processLoaderData"),Ir(D)){let I=D.error;if(E!==void 0&&(I=E,E=void 0),c=c||{},o)c[C]=I;else{let j=Ra(t,C);c[j.route.id]==null&&(c[j.route.id]=I)}r||(u[C]=bx),_||(_=!0,p=Ah(D.error)?D.error.status:500),D.headers&&(y[C]=D.headers)}else u[C]=D.data,D.statusCode&&D.statusCode!==200&&!_&&(p=D.statusCode),D.headers&&(y[C]=D.headers)}),E!==void 0&&n&&(c={[n[0]]:E},n[2]&&(u[n[2]]=void 0)),{loaderData:u,errors:c,statusCode:p||200,loaderHeaders:y}}function Dw(t,e,n,r,o,u){let{loaderData:c,errors:p}=UN(e,n,r);return o.filter(_=>!_.matches||_.matches.some(y=>y.shouldLoad)).forEach(_=>{let{key:y,match:E,controller:x}=_;if(x&&x.signal.aborted)return;let C=u[y];if(vt(C,"Did not find corresponding fetcher result"),Ir(C)){let D=Ra(t.matches,E?.route.id);p&&p[D.route.id]||(p={...p,[D.route.id]:C.error}),t.fetchers.delete(y)}else if(Il(C))vt(!1,"Unhandled fetcher revalidation redirect");else{let D=Do(C.data);t.fetchers.set(y,D)}}),{loaderData:c,errors:p}}function kw(t,e,n,r){let o=Object.entries(e).filter(([,u])=>u!==bx).reduce((u,[c,p])=>(u[c]=p,u),{});for(let u of n){let c=u.route.id;if(!e.hasOwnProperty(c)&&t.hasOwnProperty(c)&&u.route.loader&&(o[c]=t[c]),r&&r.hasOwnProperty(c))break}return o}function Mw(t){return t?Ir(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Ra(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function od(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Yr(t,{pathname:e,routeId:n,method:r,type:o,message:u}={}){let c="Unknown Server Error",p="Unknown @remix-run/router error";return t===400?(c="Bad Request",r&&e&&n?p=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:o==="invalid-body"&&(p="Unable to encode submission body")):t===403?(c="Forbidden",p=`Route "${n}" does not match URL "${e}"`):t===404?(c="Not Found",p=`No route matches URL "${e}"`):t===405&&(c="Method Not Allowed",r&&e&&n?p=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(p=`Invalid request method "${r.toUpperCase()}"`)),new gm(t||500,c,new Error(p),!0)}function ad(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,o]=e[n];if(Il(o))return{key:r,result:o}}}function Ax(t){let e=typeof t=="string"?Ka(t):t;return no({...e,hash:""})}function VN(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function BN(t){return new gm(t.init?.status??500,t.init?.statusText??"Internal Server Error",t.data)}function FN(t){return t!=null&&typeof t=="object"&&Object.entries(t).every(([e,n])=>typeof e=="string"&&HN(n))}function HN(t){return t!=null&&typeof t=="object"&&"type"in t&&"result"in t&&(t.type==="data"||t.type==="error")}function qN(t){return Rx(t.result)&&TN.has(t.result.status)}function Ir(t){return t.type==="error"}function Il(t){return(t&&t.type)==="redirect"}function zw(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function Rx(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function ZN(t){return EN.has(t.toUpperCase())}function Hi(t){return bN.has(t.toUpperCase())}function ay(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Td(t,e){let n=typeof e=="string"?Ka(e).search:e.search;if(t[t.length-1].route.index&&ay(n||""))return t[t.length-1];let r=gx(t);return r[r.length-1]}function jw(t){let{formMethod:e,formAction:n,formEncType:r,text:o,formData:u,json:c}=t;if(!(!e||!n||!r)){if(o!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:o};if(u!=null)return{formMethod:e,formAction:n,formEncType:r,formData:u,json:void 0,text:void 0};if(c!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:c,text:void 0}}}function qg(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function $N(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function ih(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function GN(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Do(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function KN(t,e){try{let n=t.sessionStorage.getItem(vx);if(n){let r=JSON.parse(n);for(let[o,u]of Object.entries(r||{}))u&&Array.isArray(u)&&e.set(o,new Set(u||[]))}}catch{}}function YN(t,e){if(e.size>0){let n={};for(let[r,o]of e)n[r]=[...o];try{t.sessionStorage.setItem(vx,JSON.stringify(n))}catch(r){An(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function Uw(){let t,e,n=new Promise((r,o)=>{t=async u=>{r(u);try{await n}catch{}},e=async u=>{o(u);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}var Zl=F.createContext(null);Zl.displayName="DataRouter";var zh=F.createContext(null);zh.displayName="DataRouterState";F.createContext(!1);var ly=F.createContext({isTransitioning:!1});ly.displayName="ViewTransition";var Cx=F.createContext(new Map);Cx.displayName="Fetchers";var QN=F.createContext(null);QN.displayName="Await";var Jr=F.createContext(null);Jr.displayName="Navigation";var _m=F.createContext(null);_m.displayName="Location";var Ts=F.createContext({outlet:null,matches:[],isDataRoute:!1});Ts.displayName="Route";var uy=F.createContext(null);uy.displayName="RouteError";function WN(t,{relative:e}={}){vt(sc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=F.useContext(Jr),{hash:o,pathname:u,search:c}=jh(t,{relative:e}),p=u;return n!=="/"&&(p=u==="/"?n:Xs([n,u])),r.createHref({pathname:p,search:c,hash:o})}function sc(){return F.useContext(_m)!=null}function xs(){return vt(sc(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(_m).location}var Nx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ox(t){F.useContext(Jr).static||F.useLayoutEffect(t)}function oc(){let{isDataRoute:t}=F.useContext(Ts);return t?fO():XN()}function XN(){vt(sc(),"useNavigate() may be used only in the context of a <Router> component.");let t=F.useContext(Zl),{basename:e,navigator:n}=F.useContext(Jr),{matches:r}=F.useContext(Ts),{pathname:o}=xs(),u=JSON.stringify(mm(r)),c=F.useRef(!1);return Ox(()=>{c.current=!0}),F.useCallback((_,y={})=>{if(An(c.current,Nx),!c.current)return;if(typeof _=="number"){n.go(_);return}let E=pm(_,JSON.parse(u),o,y.relative==="path");t==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Xs([e,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[e,n,u,o,t])}var JN=F.createContext(null);function eO(t){let e=F.useContext(Ts).outlet;return F.useMemo(()=>e&&F.createElement(JN.Provider,{value:t},e),[e,t])}function jh(t,{relative:e}={}){let{matches:n}=F.useContext(Ts),{pathname:r}=xs(),o=JSON.stringify(mm(n));return F.useMemo(()=>pm(t,JSON.parse(o),r,e==="path"),[t,o,r,e])}function tO(t,e,n,r,o){vt(sc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=F.useContext(Jr),{matches:c}=F.useContext(Ts),p=c[c.length-1],_=p?p.params:{},y=p?p.pathname:"/",E=p?p.pathnameBase:"/",x=p&&p.route;{let ee=x&&x.path||"";Px(y,!x||ee.endsWith("*")||ee.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${ee}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ee}"> to <Route path="${ee==="/"?"*":`${ee}/*`}">.`)}let C=xs(),D;D=C;let I=D.pathname||"/",j=I;if(E!=="/"){let ee=E.replace(/^\//,"").split("/");j="/"+I.replace(/^\//,"").split("/").slice(ee.length).join("/")}let U=Aa(t,{pathname:j});return An(x||U!=null,`No routes matched location "${D.pathname}${D.search}${D.hash}" `),An(U==null||U[U.length-1].route.element!==void 0||U[U.length-1].route.Component!==void 0||U[U.length-1].route.lazy!==void 0,`Matched leaf route at location "${D.pathname}${D.search}${D.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),oO(U&&U.map(ee=>Object.assign({},ee,{params:Object.assign({},_,ee.params),pathname:Xs([E,u.encodeLocation?u.encodeLocation(ee.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ee.pathname]),pathnameBase:ee.pathnameBase==="/"?E:Xs([E,u.encodeLocation?u.encodeLocation(ee.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ee.pathnameBase])})),c,n,r,o)}function nO(){let t=hO(),e=Ah(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},u={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=F.createElement(F.Fragment,null,F.createElement("p",null," Hey developer "),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:u},"ErrorBoundary")," or"," ",F.createElement("code",{style:u},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),n?F.createElement("pre",{style:o},n):null,c)}var iO=F.createElement(nO,null),rO=class extends F.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?F.createElement(Ts.Provider,{value:this.props.routeContext},F.createElement(uy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function sO({routeContext:t,match:e,children:n}){let r=F.useContext(Zl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),F.createElement(Ts.Provider,{value:t},n)}function oO(t,e=[],n=null,r=null,o=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let u=t,c=n?.errors;if(c!=null){let E=u.findIndex(x=>x.route.id&&c?.[x.route.id]!==void 0);vt(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let p=!1,_=-1;if(n)for(let E=0;E<u.length;E++){let x=u[E];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(_=E),x.route.id){let{loaderData:C,errors:D}=n,I=x.route.loader&&!C.hasOwnProperty(x.route.id)&&(!D||D[x.route.id]===void 0);if(x.route.lazy||I){p=!0,_>=0?u=u.slice(0,_+1):u=[u[0]];break}}}let y=n&&r?(E,x)=>{r(E,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:Mh(n.matches),errorInfo:x})}:void 0;return u.reduceRight((E,x,C)=>{let D,I=!1,j=null,U=null;n&&(D=c&&x.route.id?c[x.route.id]:void 0,j=x.route.errorElement||iO,p&&(_<0&&C===0?(Px("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,U=null):_===C&&(I=!0,U=x.route.hydrateFallbackElement||null)));let ne=e.concat(u.slice(0,C+1)),ee=()=>{let ae;return D?ae=j:I?ae=U:x.route.Component?ae=F.createElement(x.route.Component,null):x.route.element?ae=x.route.element:ae=E,F.createElement(sO,{match:x,routeContext:{outlet:E,matches:ne,isDataRoute:n!=null},children:ae})};return n&&(x.route.ErrorBoundary||x.route.errorElement||C===0)?F.createElement(rO,{location:n.location,revalidation:n.revalidation,component:j,error:D,children:ee(),routeContext:{outlet:null,matches:ne,isDataRoute:!0},onError:y}):ee()},null)}function cy(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function aO(t){let e=F.useContext(Zl);return vt(e,cy(t)),e}function Ix(t){let e=F.useContext(zh);return vt(e,cy(t)),e}function lO(t){let e=F.useContext(Ts);return vt(e,cy(t)),e}function ym(t){let e=lO(t),n=e.matches[e.matches.length-1];return vt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function uO(){return ym("useRouteId")}function cO(){let t=Ix("useLoaderData"),e=ym("useLoaderData");return t.loaderData[e]}function hO(){let t=F.useContext(uy),e=Ix("useRouteError"),n=ym("useRouteError");return t!==void 0?t:e.errors?.[n]}function fO(){let{router:t}=aO("useNavigate"),e=ym("useNavigate"),n=F.useRef(!1);return Ox(()=>{n.current=!0}),F.useCallback(async(o,u={})=>{An(n.current,Nx),n.current&&(typeof o=="number"?await t.navigate(o):await t.navigate(o,{fromRouteId:e,...u}))},[t,e])}var Vw={};function Px(t,e,n){!e&&!Vw[t]&&(Vw[t]=!0,An(!1,n))}var Bw={};function Fw(t,e){!t&&!Bw[e]&&(Bw[e]=!0,console.warn(e))}var dO="useOptimistic",Hw=IC[dO],mO=()=>{};function pO(t){return Hw?Hw(t):[t,mO]}function gO(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&An(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:F.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&An(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:F.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&An(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:F.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var _O=["HydrateFallback","hydrateFallbackElement"],yO=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function vO({router:t,flushSync:e,unstable_onError:n,unstable_useTransitions:r}){let[o,u]=F.useState(t.state),[c,p]=pO(o),[_,y]=F.useState(),[E,x]=F.useState({isTransitioning:!1}),[C,D]=F.useState(),[I,j]=F.useState(),[U,ne]=F.useState(),ee=F.useRef(new Map),ae=F.useCallback((N,{deletedFetchers:M,newErrors:z,flushSync:G,viewTransitionOpts:V})=>{z&&n&&Object.values(z).forEach(B=>n(B,{location:N.location,params:N.matches[0]?.params??{},unstable_pattern:Mh(N.matches)})),N.fetchers.forEach((B,Ue)=>{B.data!==void 0&&ee.current.set(Ue,B.data)}),M.forEach(B=>ee.current.delete(B)),Fw(G===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let K=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(Fw(V==null||K,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!V||!K){e&&G?e(()=>u(N)):r===!1?u(N):F.startTransition(()=>{r===!0&&p(B=>qw(B,N)),u(N)});return}if(e&&G){e(()=>{I&&(C?.resolve(),I.skipTransition()),x({isTransitioning:!0,flushSync:!0,currentLocation:V.currentLocation,nextLocation:V.nextLocation})});let B=t.window.document.startViewTransition(()=>{e(()=>u(N))});B.finished.finally(()=>{e(()=>{D(void 0),j(void 0),y(void 0),x({isTransitioning:!1})})}),e(()=>j(B));return}I?(C?.resolve(),I.skipTransition(),ne({state:N,currentLocation:V.currentLocation,nextLocation:V.nextLocation})):(y(N),x({isTransitioning:!0,flushSync:!1,currentLocation:V.currentLocation,nextLocation:V.nextLocation}))},[t.window,e,I,C,r,p,n]);F.useLayoutEffect(()=>t.subscribe(ae),[t,ae]),F.useEffect(()=>{E.isTransitioning&&!E.flushSync&&D(new yO)},[E]),F.useEffect(()=>{if(C&&_&&t.window){let N=_,M=C.promise,z=t.window.document.startViewTransition(async()=>{r===!1?u(N):F.startTransition(()=>{r===!0&&p(G=>qw(G,N)),u(N)}),await M});z.finished.finally(()=>{D(void 0),j(void 0),y(void 0),x({isTransitioning:!1})}),j(z)}},[_,C,t.window,r,p]),F.useEffect(()=>{C&&_&&c.location.key===_.location.key&&C.resolve()},[C,I,c.location,_]),F.useEffect(()=>{!E.isTransitioning&&U&&(y(U.state),x({isTransitioning:!0,flushSync:!1,currentLocation:U.currentLocation,nextLocation:U.nextLocation}),ne(void 0))},[E.isTransitioning,U]);let Te=F.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:N=>t.navigate(N),push:(N,M,z)=>t.navigate(N,{state:M,preventScrollReset:z?.preventScrollReset}),replace:(N,M,z)=>t.navigate(N,{replace:!0,state:M,preventScrollReset:z?.preventScrollReset})}),[t]),Ce=t.basename||"/",ke=F.useMemo(()=>({router:t,navigator:Te,static:!1,basename:Ce,unstable_onError:n}),[t,Te,Ce,n]);return F.createElement(F.Fragment,null,F.createElement(Zl.Provider,{value:ke},F.createElement(zh.Provider,{value:c},F.createElement(Cx.Provider,{value:ee.current},F.createElement(ly.Provider,{value:E},F.createElement(EO,{basename:Ce,location:c.location,navigationType:c.historyAction,navigator:Te,unstable_useTransitions:r===!0},F.createElement(bO,{routes:t.routes,future:t.future,state:c,unstable_onError:n})))))),null)}function qw(t,e){return{...t,navigation:e.navigation.state!=="idle"?e.navigation:t.navigation,revalidation:e.revalidation!=="idle"?e.revalidation:t.revalidation,actionData:e.navigation.state!=="submitting"?e.actionData:t.actionData,fetchers:e.fetchers}}var bO=F.memo(wO);function wO({routes:t,future:e,state:n,unstable_onError:r}){return tO(t,void 0,n,r,e)}function Ku({to:t,replace:e,state:n,relative:r}){vt(sc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=F.useContext(Jr);An(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=F.useContext(Ts),{pathname:c}=xs(),p=oc(),_=pm(t,mm(u),c,r==="path"),y=JSON.stringify(_);return F.useEffect(()=>{p(JSON.parse(y),{replace:e,state:n,relative:r})},[p,y,r,e,n]),null}function Lx(t){return eO(t.context)}function EO({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:o,static:u=!1,unstable_useTransitions:c}){vt(!sc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let p=t.replace(/^\/*/,"/"),_=F.useMemo(()=>({basename:p,navigator:o,static:u,unstable_useTransitions:c,future:{}}),[p,o,u,c]);typeof n=="string"&&(n=Ka(n));let{pathname:y="/",search:E="",hash:x="",state:C=null,key:D="default"}=n,I=F.useMemo(()=>{let j=Xr(y,p);return j==null?null:{location:{pathname:j,search:E,hash:x,state:C,key:D},navigationType:r}},[p,y,E,x,C,D,r]);return An(I!=null,`<Router basename="${p}"> is not able to match the URL "${y}${E}${x}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:F.createElement(Jr.Provider,{value:_},F.createElement(_m.Provider,{children:e,value:I}))}var xd="get",Sd="application/x-www-form-urlencoded";function vm(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function TO(t){return vm(t)&&t.tagName.toLowerCase()==="button"}function xO(t){return vm(t)&&t.tagName.toLowerCase()==="form"}function SO(t){return vm(t)&&t.tagName.toLowerCase()==="input"}function AO(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function RO(t,e){return t.button===0&&(!e||e==="_self")&&!AO(t)}var ld=null;function CO(){if(ld===null)try{new FormData(document.createElement("form"),0),ld=!1}catch{ld=!0}return ld}var NO=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Zg(t){return t!=null&&!NO.has(t)?(An(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Sd}"`),null):t}function OO(t,e){let n,r,o,u,c;if(xO(t)){let p=t.getAttribute("action");r=p?Xr(p,e):null,n=t.getAttribute("method")||xd,o=Zg(t.getAttribute("enctype"))||Sd,u=new FormData(t)}else if(TO(t)||SO(t)&&(t.type==="submit"||t.type==="image")){let p=t.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let _=t.getAttribute("formaction")||p.getAttribute("action");if(r=_?Xr(_,e):null,n=t.getAttribute("formmethod")||p.getAttribute("method")||xd,o=Zg(t.getAttribute("formenctype"))||Zg(p.getAttribute("enctype"))||Sd,u=new FormData(p,t),!CO()){let{name:y,type:E,value:x}=t;if(E==="image"){let C=y?`${y}.`:"";u.append(`${C}x`,"0"),u.append(`${C}y`,"0")}else y&&u.append(y,x)}}else{if(vm(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=xd,r=null,o=Sd,c=t}return u&&o==="text/plain"&&(c=u,u=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:u,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function hy(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function IO(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Xr(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function PO(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function LO(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function DO(t,e,n){let r=await Promise.all(t.map(async o=>{let u=e.routes[o.route.id];if(u){let c=await PO(u,n);return c.links?c.links():[]}return[]}));return jO(r.flat(1).filter(LO).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Zw(t,e,n,r,o,u){let c=(_,y)=>n[y]?_.route.id!==n[y].route.id:!0,p=(_,y)=>n[y].pathname!==_.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==_.params["*"];return u==="assets"?e.filter((_,y)=>c(_,y)||p(_,y)):u==="data"?e.filter((_,y)=>{let E=r.routes[_.route.id];if(!E||!E.hasLoader)return!1;if(c(_,y)||p(_,y))return!0;if(_.route.shouldRevalidate){let x=_.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:_.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function kO(t,e,{includeHydrateFallback:n}={}){return MO(t.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function MO(t){return[...new Set(t)]}function zO(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function jO(t,e){let n=new Set;return new Set(e),t.reduce((r,o)=>{let u=JSON.stringify(zO(o));return n.has(u)||(n.add(u),r.push({key:u,link:o})),r},[])}function Dx(){let t=F.useContext(Zl);return hy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function UO(){let t=F.useContext(zh);return hy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var fy=F.createContext(void 0);fy.displayName="FrameworkContext";function kx(){let t=F.useContext(fy);return hy(t,"You must render this element inside a <HydratedRouter> element"),t}function VO(t,e){let n=F.useContext(fy),[r,o]=F.useState(!1),[u,c]=F.useState(!1),{onFocus:p,onBlur:_,onMouseEnter:y,onMouseLeave:E,onTouchStart:x}=e,C=F.useRef(null);F.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let j=ne=>{ne.forEach(ee=>{c(ee.isIntersecting)})},U=new IntersectionObserver(j,{threshold:.5});return C.current&&U.observe(C.current),()=>{U.disconnect()}}},[t]),F.useEffect(()=>{if(r){let j=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(j)}}},[r]);let D=()=>{o(!0)},I=()=>{o(!1),c(!1)};return n?t!=="intent"?[u,C,{}]:[u,C,{onFocus:rh(p,D),onBlur:rh(_,I),onMouseEnter:rh(y,D),onMouseLeave:rh(E,I),onTouchStart:rh(x,D)}]:[!1,C,{}]}function rh(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function BO({page:t,...e}){let{router:n}=Dx(),r=F.useMemo(()=>Aa(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?F.createElement(HO,{page:t,matches:r,...e}):null}function FO(t){let{manifest:e,routeModules:n}=kx(),[r,o]=F.useState([]);return F.useEffect(()=>{let u=!1;return DO(t,e,n).then(c=>{u||o(c)}),()=>{u=!0}},[t,e,n]),r}function HO({page:t,matches:e,...n}){let r=xs(),{manifest:o,routeModules:u}=kx(),{basename:c}=Dx(),{loaderData:p,matches:_}=UO(),y=F.useMemo(()=>Zw(t,e,_,o,r,"data"),[t,e,_,o,r]),E=F.useMemo(()=>Zw(t,e,_,o,r,"assets"),[t,e,_,o,r]),x=F.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let I=new Set,j=!1;if(e.forEach(ne=>{let ee=o.routes[ne.route.id];!ee||!ee.hasLoader||(!y.some(ae=>ae.route.id===ne.route.id)&&ne.route.id in p&&u[ne.route.id]?.shouldRevalidate||ee.hasClientLoader?j=!0:I.add(ne.route.id))}),I.size===0)return[];let U=IO(t,c,"data");return j&&I.size>0&&U.searchParams.set("_routes",e.filter(ne=>I.has(ne.route.id)).map(ne=>ne.route.id).join(",")),[U.pathname+U.search]},[c,p,r,o,y,e,t,u]),C=F.useMemo(()=>kO(E,o),[E,o]),D=FO(E);return F.createElement(F.Fragment,null,x.map(I=>F.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...n})),C.map(I=>F.createElement("link",{key:I,rel:"modulepreload",href:I,...n})),D.map(({key:I,link:j})=>F.createElement("link",{key:I,nonce:n.nonce,...j})))}function qO(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Mx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Mx&&(window.__reactRouterVersion="7.10.1")}catch{}function ZO(t,e){return RN({basename:e?.basename,getContext:e?.getContext,future:e?.future,history:BC({window:e?.window}),hydrationData:$O(),routes:t,mapRouteProperties:gO,hydrationRouteProperties:_O,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window,unstable_instrumentations:e?.unstable_instrumentations}).initialize()}function $O(){let t=window?.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:GO(t.errors)}),t}function GO(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,o]of e)if(o&&o.__type==="RouteErrorResponse")n[r]=new gm(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let u=window[o.__subType];if(typeof u=="function")try{let c=new u(o.message);c.stack="",n[r]=c}catch{}}if(n[r]==null){let u=new Error(o.message);u.stack="",n[r]=u}}else n[r]=o;return n}var zx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pn=F.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:o,reloadDocument:u,replace:c,state:p,target:_,to:y,preventScrollReset:E,viewTransition:x,...C},D){let{basename:I,unstable_useTransitions:j}=F.useContext(Jr),U=typeof y=="string"&&zx.test(y),ne,ee=!1;if(typeof y=="string"&&U&&(ne=y,Mx))try{let G=new URL(window.location.href),V=y.startsWith("//")?new URL(G.protocol+y):new URL(y),K=Xr(V.pathname,I);V.origin===G.origin&&K!=null?y=K+V.search+V.hash:ee=!0}catch{An(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ae=WN(y,{relative:o}),[Te,Ce,ke]=VO(r,C),N=WO(y,{replace:c,state:p,target:_,preventScrollReset:E,relative:o,viewTransition:x,unstable_useTransitions:j});function M(G){e&&e(G),G.defaultPrevented||N(G)}let z=F.createElement("a",{...C,...ke,href:ne||ae,onClick:ee||u?e:M,ref:qO(D,Ce),target:_,"data-discover":!U&&n==="render"?"true":void 0});return Te&&!U?F.createElement(F.Fragment,null,z,F.createElement(BO,{page:ae})):z});Pn.displayName="Link";var KO=F.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:o=!1,style:u,to:c,viewTransition:p,children:_,...y},E){let x=jh(c,{relative:y.relative}),C=xs(),D=F.useContext(zh),{navigator:I,basename:j}=F.useContext(Jr),U=D!=null&&nI(x)&&p===!0,ne=I.encodeLocation?I.encodeLocation(x).pathname:x.pathname,ee=C.pathname,ae=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;n||(ee=ee.toLowerCase(),ae=ae?ae.toLowerCase():null,ne=ne.toLowerCase()),ae&&j&&(ae=Xr(ae,j)||ae);const Te=ne!=="/"&&ne.endsWith("/")?ne.length-1:ne.length;let Ce=ee===ne||!o&&ee.startsWith(ne)&&ee.charAt(Te)==="/",ke=ae!=null&&(ae===ne||!o&&ae.startsWith(ne)&&ae.charAt(ne.length)==="/"),N={isActive:Ce,isPending:ke,isTransitioning:U},M=Ce?e:void 0,z;typeof r=="function"?z=r(N):z=[r,Ce?"active":null,ke?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let G=typeof u=="function"?u(N):u;return F.createElement(Pn,{...y,"aria-current":M,className:z,ref:E,style:G,to:c,viewTransition:p},typeof _=="function"?_(N):_)});KO.displayName="NavLink";var YO=F.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:o,state:u,method:c=xd,action:p,onSubmit:_,relative:y,preventScrollReset:E,viewTransition:x,...C},D)=>{let{unstable_useTransitions:I}=F.useContext(Jr),j=eI(),U=tI(p,{relative:y}),ne=c.toLowerCase()==="get"?"get":"post",ee=typeof p=="string"&&zx.test(p),ae=Te=>{if(_&&_(Te),Te.defaultPrevented)return;Te.preventDefault();let Ce=Te.nativeEvent.submitter,ke=Ce?.getAttribute("formmethod")||c,N=()=>j(Ce||Te.currentTarget,{fetcherKey:e,method:ke,navigate:n,replace:o,state:u,relative:y,preventScrollReset:E,viewTransition:x});I&&n!==!1?F.startTransition(()=>N()):N()};return F.createElement("form",{ref:D,method:ne,action:U,onSubmit:r?_:ae,...C,"data-discover":!ee&&t==="render"?"true":void 0})});YO.displayName="Form";function QO(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jx(t){let e=F.useContext(Zl);return vt(e,QO(t)),e}function WO(t,{target:e,replace:n,state:r,preventScrollReset:o,relative:u,viewTransition:c,unstable_useTransitions:p}={}){let _=oc(),y=xs(),E=jh(t,{relative:u});return F.useCallback(x=>{if(RO(x,e)){x.preventDefault();let C=n!==void 0?n:no(y)===no(E),D=()=>_(t,{replace:C,state:r,preventScrollReset:o,relative:u,viewTransition:c});p?F.startTransition(()=>D()):D()}},[y,_,E,n,r,e,t,o,u,c,p])}var XO=0,JO=()=>`__${String(++XO)}__`;function eI(){let{router:t}=jx("useSubmit"),{basename:e}=F.useContext(Jr),n=uO(),r=t.fetch,o=t.navigate;return F.useCallback(async(u,c={})=>{let{action:p,method:_,encType:y,formData:E,body:x}=OO(u,e);if(c.navigate===!1){let C=c.fetcherKey||JO();await r(C,n,c.action||p,{preventScrollReset:c.preventScrollReset,formData:E,body:x,formMethod:c.method||_,formEncType:c.encType||y,flushSync:c.flushSync})}else await o(c.action||p,{preventScrollReset:c.preventScrollReset,formData:E,body:x,formMethod:c.method||_,formEncType:c.encType||y,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[r,o,e,n])}function tI(t,{relative:e}={}){let{basename:n}=F.useContext(Jr),r=F.useContext(Ts);vt(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),u={...jh(t||".",{relative:e})},c=xs();if(t==null){u.search=c.search;let p=new URLSearchParams(u.search),_=p.getAll("index");if(_.some(E=>E==="")){p.delete("index"),_.filter(x=>x).forEach(x=>p.append("index",x));let E=p.toString();u.search=E?`?${E}`:""}}return(!t||t===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Xs([n,u.pathname])),no(u)}function nI(t,{relative:e}={}){let n=F.useContext(ly);vt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=jx("useViewTransitionState"),o=jh(t,{relative:e});if(!n.isTransitioning)return!1;let u=Xr(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=Xr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return qd(o.pathname,c)!=null||qd(o.pathname,u)!=null}var Ux=hx();function iI(t){return F.createElement(vO,{flushSync:Ux.flushSync,...t})}const rI=()=>{};var $w={};const Vx=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},sI=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const o=t[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=t[n++];e[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=t[n++],c=t[n++],p=t[n++],_=((o&7)<<18|(u&63)<<12|(c&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(_>>10)),e[r++]=String.fromCharCode(56320+(_&1023))}else{const u=t[n++],c=t[n++];e[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return e.join("")},Bx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<t.length;o+=3){const u=t[o],c=o+1<t.length,p=c?t[o+1]:0,_=o+2<t.length,y=_?t[o+2]:0,E=u>>2,x=(u&3)<<4|p>>4;let C=(p&15)<<2|y>>6,D=y&63;_||(D=64,c||(C=64)),r.push(n[E],n[x],n[C],n[D])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Vx(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):sI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<t.length;){const u=n[t.charAt(o++)],p=o<t.length?n[t.charAt(o)]:0;++o;const y=o<t.length?n[t.charAt(o)]:64;++o;const x=o<t.length?n[t.charAt(o)]:64;if(++o,u==null||p==null||y==null||x==null)throw new oI;const C=u<<2|p>>4;if(r.push(C),y!==64){const D=p<<4&240|y>>2;if(r.push(D),x!==64){const I=y<<6&192|x;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class oI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const aI=function(t){const e=Vx(t);return Bx.encodeByteArray(e,!0)},$d=function(t){return aI(t).replace(/\./g,"")},Fx=function(t){try{return Bx.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function lI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const uI=()=>lI().__FIREBASE_DEFAULTS__,cI=()=>{if(typeof process>"u"||typeof $w>"u")return;const t=$w.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},hI=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Fx(t[1]);return e&&JSON.parse(e)},bm=()=>{try{return rI()||uI()||cI()||hI()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Hx=t=>bm()?.emulatorHosts?.[t],fI=t=>{const e=Hx(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},qx=()=>bm()?.config,Zx=t=>bm()?.[`_${t}`];class dI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function ac(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function $x(t){return(await fetch(t,{credentials:"include"})).ok}function mI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=t.iat||0,u=t.sub||t.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...t};return[$d(JSON.stringify(n)),$d(JSON.stringify(c)),""].join(".")}const yh={};function pI(){const t={prod:[],emulator:[]};for(const e of Object.keys(yh))yh[e]?t.emulator.push(e):t.prod.push(e);return t}function gI(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Gw=!1;function Gx(t,e){if(typeof window>"u"||typeof document>"u"||!ac(window.location.host)||yh[t]===e||yh[t]||Gw)return;yh[t]=e;function n(C){return`__firebase__banner__${C}`}const r="__firebase__banner",u=pI().prod.length>0;function c(){const C=document.getElementById(r);C&&C.remove()}function p(C){C.style.display="flex",C.style.background="#7faaf0",C.style.position="fixed",C.style.bottom="5px",C.style.left="5px",C.style.padding=".5em",C.style.borderRadius="5px",C.style.alignItems="center"}function _(C,D){C.setAttribute("width","24"),C.setAttribute("id",D),C.setAttribute("height","24"),C.setAttribute("viewBox","0 0 24 24"),C.setAttribute("fill","none"),C.style.marginLeft="-6px"}function y(){const C=document.createElement("span");return C.style.cursor="pointer",C.style.marginLeft="16px",C.style.fontSize="24px",C.innerHTML=" &times;",C.onclick=()=>{Gw=!0,c()},C}function E(C,D){C.setAttribute("id",D),C.innerText="Learn more",C.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",C.setAttribute("target","__blank"),C.style.paddingLeft="5px",C.style.textDecoration="underline"}function x(){const C=gI(r),D=n("text"),I=document.getElementById(D)||document.createElement("span"),j=n("learnmore"),U=document.getElementById(j)||document.createElement("a"),ne=n("preprendIcon"),ee=document.getElementById(ne)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(C.created){const ae=C.element;p(ae),E(U,j);const Te=y();_(ee,ne),ae.append(ee,I,U,Te),document.body.appendChild(ae)}u?(I.innerText="Preview backend disconnected.",ee.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ee.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",D)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}function Ii(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _I(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ii())}function yI(){const t=bm()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function vI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function bI(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function wI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function EI(){const t=Ii();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function TI(){return!yI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xI(){try{return typeof indexedDB=="object"}catch{return!1}}function SI(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const AI="FirebaseError";class Bo extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=AI,Object.setPrototypeOf(this,Bo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Uh.prototype.create)}}class Uh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],c=u?RI(u,r):"Error",p=`${this.serviceName}: ${c} (${o}).`;return new Bo(o,p,r)}}function RI(t,e){return t.replace(CI,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const CI=/\{\$([^}]+)}/g;function NI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function zl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const u=t[o],c=e[o];if(Kw(u)&&Kw(c)){if(!zl(u,c))return!1}else if(u!==c)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function Kw(t){return t!==null&&typeof t=="object"}function Vh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function uh(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,u]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function ch(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function OI(t,e){const n=new II(t,e);return n.subscribe.bind(n)}class II{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");PI(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=$g),o.error===void 0&&(o.error=$g),o.complete===void 0&&(o.complete=$g);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function PI(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function $g(){}function es(t){return t&&t._delegate?t._delegate:t}class jl{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Nl="[DEFAULT]";class LI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new dI;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(kI(e))try{this.getOrInitializeService({instanceIdentifier:Nl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(e=Nl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Nl){return this.instances.has(e)}getOptions(e=Nl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[u,c]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);r===p&&c.resolve(o)}return o}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&e(u,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:DI(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Nl){return this.component?this.component.multipleInstances?e:Nl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function DI(t){return t===Nl?void 0:t}function kI(t){return t.instantiationMode==="EAGER"}class MI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new LI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var At;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(At||(At={}));const zI={debug:At.DEBUG,verbose:At.VERBOSE,info:At.INFO,warn:At.WARN,error:At.ERROR,silent:At.SILENT},jI=At.INFO,UI={[At.DEBUG]:"log",[At.VERBOSE]:"log",[At.INFO]:"info",[At.WARN]:"warn",[At.ERROR]:"error"},VI=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),o=UI[e];if(o)console[o](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class dy{constructor(e){this.name=e,this._logLevel=jI,this._logHandler=VI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in At))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?zI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,At.DEBUG,...e),this._logHandler(this,At.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,At.VERBOSE,...e),this._logHandler(this,At.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,At.INFO,...e),this._logHandler(this,At.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,At.WARN,...e),this._logHandler(this,At.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,At.ERROR,...e),this._logHandler(this,At.ERROR,...e)}}const BI=(t,e)=>e.some(n=>t instanceof n);let Yw,Qw;function FI(){return Yw||(Yw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function HI(){return Qw||(Qw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Kx=new WeakMap,__=new WeakMap,Yx=new WeakMap,Gg=new WeakMap,my=new WeakMap;function qI(t){const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("success",u),t.removeEventListener("error",c)},u=()=>{n(ka(t.result)),o()},c=()=>{r(t.error),o()};t.addEventListener("success",u),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&Kx.set(n,t)}).catch(()=>{}),my.set(e,t),e}function ZI(t){if(__.has(t))return;const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("complete",u),t.removeEventListener("error",c),t.removeEventListener("abort",c)},u=()=>{n(),o()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",u),t.addEventListener("error",c),t.addEventListener("abort",c)});__.set(t,e)}let y_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return __.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Yx.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ka(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function $I(t){y_=t(y_)}function GI(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Kg(this),e,...n);return Yx.set(r,e.sort?e.sort():[e]),ka(r)}:HI().includes(t)?function(...e){return t.apply(Kg(this),e),ka(Kx.get(this))}:function(...e){return ka(t.apply(Kg(this),e))}}function KI(t){return typeof t=="function"?GI(t):(t instanceof IDBTransaction&&ZI(t),BI(t,FI())?new Proxy(t,y_):t)}function ka(t){if(t instanceof IDBRequest)return qI(t);if(Gg.has(t))return Gg.get(t);const e=KI(t);return e!==t&&(Gg.set(t,e),my.set(e,t)),e}const Kg=t=>my.get(t);function YI(t,e,{blocked:n,upgrade:r,blocking:o,terminated:u}={}){const c=indexedDB.open(t,e),p=ka(c);return r&&c.addEventListener("upgradeneeded",_=>{r(ka(c.result),_.oldVersion,_.newVersion,ka(c.transaction),_)}),n&&c.addEventListener("blocked",_=>n(_.oldVersion,_.newVersion,_)),p.then(_=>{u&&_.addEventListener("close",()=>u()),o&&_.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const QI=["get","getKey","getAll","getAllKeys","count"],WI=["put","add","delete","clear"],Yg=new Map;function Ww(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Yg.get(e))return Yg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=WI.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||QI.includes(n)))return;const u=async function(c,...p){const _=this.transaction(c,o?"readwrite":"readonly");let y=_.store;return r&&(y=y.index(p.shift())),(await Promise.all([y[n](...p),o&&_.done]))[0]};return Yg.set(e,u),u}$I(t=>({...t,get:(e,n,r)=>Ww(e,n)||t.get(e,n,r),has:(e,n)=>!!Ww(e,n)||t.has(e,n)}));class XI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(JI(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function JI(t){return t.getComponent()?.type==="VERSION"}const v_="@firebase/app",Xw="0.14.6";const jo=new dy("@firebase/app"),e2="@firebase/app-compat",t2="@firebase/analytics-compat",n2="@firebase/analytics",i2="@firebase/app-check-compat",r2="@firebase/app-check",s2="@firebase/auth",o2="@firebase/auth-compat",a2="@firebase/database",l2="@firebase/data-connect",u2="@firebase/database-compat",c2="@firebase/functions",h2="@firebase/functions-compat",f2="@firebase/installations",d2="@firebase/installations-compat",m2="@firebase/messaging",p2="@firebase/messaging-compat",g2="@firebase/performance",_2="@firebase/performance-compat",y2="@firebase/remote-config",v2="@firebase/remote-config-compat",b2="@firebase/storage",w2="@firebase/storage-compat",E2="@firebase/firestore",T2="@firebase/ai",x2="@firebase/firestore-compat",S2="firebase",A2="12.6.0";const b_="[DEFAULT]",R2={[v_]:"fire-core",[e2]:"fire-core-compat",[n2]:"fire-analytics",[t2]:"fire-analytics-compat",[r2]:"fire-app-check",[i2]:"fire-app-check-compat",[s2]:"fire-auth",[o2]:"fire-auth-compat",[a2]:"fire-rtdb",[l2]:"fire-data-connect",[u2]:"fire-rtdb-compat",[c2]:"fire-fn",[h2]:"fire-fn-compat",[f2]:"fire-iid",[d2]:"fire-iid-compat",[m2]:"fire-fcm",[p2]:"fire-fcm-compat",[g2]:"fire-perf",[_2]:"fire-perf-compat",[y2]:"fire-rc",[v2]:"fire-rc-compat",[b2]:"fire-gcs",[w2]:"fire-gcs-compat",[E2]:"fire-fst",[x2]:"fire-fst-compat",[T2]:"fire-vertex","fire-js":"fire-js",[S2]:"fire-js-all"};const Gd=new Map,C2=new Map,w_=new Map;function Jw(t,e){try{t.container.addComponent(e)}catch(n){jo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Yu(t){const e=t.name;if(w_.has(e))return jo.debug(`There were multiple attempts to register component ${e}.`),!1;w_.set(e,t);for(const n of Gd.values())Jw(n,t);for(const n of C2.values())Jw(n,t);return!0}function py(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Wr(t){return t==null?!1:t.settings!==void 0}const N2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ma=new Uh("app","Firebase",N2);class O2{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new jl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ma.create("app-deleted",{appName:this._name})}}const lc=A2;function Qx(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:b_,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw Ma.create("bad-app-name",{appName:String(o)});if(n||(n=qx()),!n)throw Ma.create("no-options");const u=Gd.get(o);if(u){if(zl(n,u.options)&&zl(r,u.config))return u;throw Ma.create("duplicate-app",{appName:o})}const c=new MI(o);for(const _ of w_.values())c.addComponent(_);const p=new O2(n,r,c);return Gd.set(o,p),p}function Wx(t=b_){const e=Gd.get(t);if(!e&&t===b_&&qx())return Qx();if(!e)throw Ma.create("no-app",{appName:t});return e}function za(t,e,n){let r=R2[t]??t;n&&(r+=`-${n}`);const o=r.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const c=[`Unable to register library "${r}" with version "${e}":`];o&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&c.push("and"),u&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),jo.warn(c.join(" "));return}Yu(new jl(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const I2="firebase-heartbeat-database",P2=1,Rh="firebase-heartbeat-store";let Qg=null;function Xx(){return Qg||(Qg=YI(I2,P2,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Rh)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ma.create("idb-open",{originalErrorMessage:t.message})})),Qg}async function L2(t){try{const n=(await Xx()).transaction(Rh),r=await n.objectStore(Rh).get(Jx(t));return await n.done,r}catch(e){if(e instanceof Bo)jo.warn(e.message);else{const n=Ma.create("idb-get",{originalErrorMessage:e?.message});jo.warn(n.message)}}}async function eE(t,e){try{const r=(await Xx()).transaction(Rh,"readwrite");await r.objectStore(Rh).put(e,Jx(t)),await r.done}catch(n){if(n instanceof Bo)jo.warn(n.message);else{const r=Ma.create("idb-set",{originalErrorMessage:n?.message});jo.warn(r.message)}}}function Jx(t){return`${t.name}!${t.options.appId}`}const D2=1024,k2=30;class M2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new j2(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=tE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>k2){const o=U2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){jo.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=tE(),{heartbeatsToSend:n,unsentEntries:r}=z2(this._heartbeatsCache.heartbeats),o=$d(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return jo.warn(e),""}}}function tE(){return new Date().toISOString().substring(0,10)}function z2(t,e=D2){const n=[];let r=t.slice();for(const o of t){const u=n.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),nE(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),nE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class j2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return xI()?SI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await L2(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return eE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return eE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function nE(t){return $d(JSON.stringify({version:2,heartbeats:t})).length}function U2(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function V2(t){Yu(new jl("platform-logger",e=>new XI(e),"PRIVATE")),Yu(new jl("heartbeat",e=>new M2(e),"PRIVATE")),za(v_,Xw,t),za(v_,Xw,"esm2020"),za("fire-js","")}V2("");var B2="firebase",F2="12.7.0";za(B2,F2,"app");function eS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const H2=eS,tS=new Uh("auth","Firebase",eS());const Kd=new dy("@firebase/auth");function q2(t,...e){Kd.logLevel<=At.WARN&&Kd.warn(`Auth (${lc}): ${t}`,...e)}function Ad(t,...e){Kd.logLevel<=At.ERROR&&Kd.error(`Auth (${lc}): ${t}`,...e)}function Es(t,...e){throw gy(t,...e)}function Js(t,...e){return gy(t,...e)}function nS(t,e,n){const r={...H2(),[e]:n};return new Uh("auth","Firebase",r).create(e,{appName:t.name})}function zo(t){return nS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function gy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return tS.create(t,...e)}function et(t,e,...n){if(!t)throw gy(e,...n)}function ko(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ad(e),new Error(e)}function Uo(t,e){t||ko(e)}function E_(){return typeof self<"u"&&self.location?.href||""}function Z2(){return iE()==="http:"||iE()==="https:"}function iE(){return typeof self<"u"&&self.location?.protocol||null}function $2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Z2()||bI()||"connection"in navigator)?navigator.onLine:!0}function G2(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Bh{constructor(e,n){this.shortDelay=e,this.longDelay=n,Uo(n>e,"Short delay should be less than long delay!"),this.isMobile=_I()||wI()}get(){return $2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function _y(t,e){Uo(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class iS{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ko("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ko("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ko("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const K2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Y2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Q2=new Bh(3e4,6e4);function Ya(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Fo(t,e,n,r,o={}){return rS(t,o,async()=>{let u={},c={};r&&(e==="GET"?c=r:u={body:JSON.stringify(r)});const p=Vh({key:t.config.apiKey,...c}).slice(1),_=await t._getAdditionalHeaders();_["Content-Type"]="application/json",t.languageCode&&(_["X-Firebase-Locale"]=t.languageCode);const y={method:e,headers:_,...u};return vI()||(y.referrerPolicy="no-referrer"),t.emulatorConfig&&ac(t.emulatorConfig.host)&&(y.credentials="include"),iS.fetch()(await sS(t,t.config.apiHost,n,p),y)})}async function rS(t,e,n){t._canInitEmulator=!1;const r={...K2,...e};try{const o=new X2(t),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const c=await u.json();if("needConfirmation"in c)throw ud(t,"account-exists-with-different-credential",c);if(u.ok&&!("errorMessage"in c))return c;{const p=u.ok?c.errorMessage:c.error.message,[_,y]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw ud(t,"credential-already-in-use",c);if(_==="EMAIL_EXISTS")throw ud(t,"email-already-in-use",c);if(_==="USER_DISABLED")throw ud(t,"user-disabled",c);const E=r[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw nS(t,E,y);Es(t,E)}}catch(o){if(o instanceof Bo)throw o;Es(t,"network-request-failed",{message:String(o)})}}async function Fh(t,e,n,r,o={}){const u=await Fo(t,e,n,r,o);return"mfaPendingCredential"in u&&Es(t,"multi-factor-auth-required",{_serverResponse:u}),u}async function sS(t,e,n,r){const o=`${e}${n}?${r}`,u=t,c=u.config.emulator?_y(t.config,o):`${t.config.apiScheme}://${o}`;return Y2.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(c).toString():c}function W2(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class X2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Js(this.auth,"network-request-failed")),Q2.get())})}}function ud(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=Js(t,e,r);return o.customData._tokenResponse=n,o}function rE(t){return t!==void 0&&t.enterprise!==void 0}class J2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return W2(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function eP(t,e){return Fo(t,"GET","/v2/recaptchaConfig",Ya(t,e))}async function tP(t,e){return Fo(t,"POST","/v1/accounts:delete",e)}async function Yd(t,e){return Fo(t,"POST","/v1/accounts:lookup",e)}function vh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function nP(t,e=!1){const n=es(t),r=await n.getIdToken(e),o=yy(r);et(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,c=u?.sign_in_provider;return{claims:o,token:r,authTime:vh(Wg(o.auth_time)),issuedAtTime:vh(Wg(o.iat)),expirationTime:vh(Wg(o.exp)),signInProvider:c||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Wg(t){return Number(t)*1e3}function yy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ad("JWT malformed, contained fewer than 3 sections"),null;try{const o=Fx(n);return o?JSON.parse(o):(Ad("Failed to decode base64 JWT payload"),null)}catch(o){return Ad("Caught error parsing JWT payload as JSON",o?.toString()),null}}function sE(t){const e=yy(t);return et(e,"internal-error"),et(typeof e.exp<"u","internal-error"),et(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Qu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Bo&&iP(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function iP({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class rP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class T_{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=vh(this.lastLoginAt),this.creationTime=vh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Qd(t){const e=t.auth,n=await t.getIdToken(),r=await Qu(t,Yd(e,{idToken:n}));et(r?.users.length,e,"internal-error");const o=r.users[0];t._notifyReloadListener(o);const u=o.providerUserInfo?.length?oS(o.providerUserInfo):[],c=oP(t.providerData,u),p=t.isAnonymous,_=!(t.email&&o.passwordHash)&&!c?.length,y=p?_:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new T_(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(t,E)}async function sP(t){const e=es(t);await Qd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function oP(t,e){return[...t.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function oS(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function aP(t,e){const n=await rS(t,{},async()=>{const r=Vh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=t.config,c=await sS(t,o,"/v1/token",`key=${u}`),p=await t._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:p,body:r};return t.emulatorConfig&&ac(t.emulatorConfig.host)&&(_.credentials="include"),iS.fetch()(c,_)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function lP(t,e){return Fo(t,"POST","/v2/accounts:revokeToken",Ya(t,e))}class Uu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){et(e.idToken,"internal-error"),et(typeof e.idToken<"u","internal-error"),et(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):sE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){et(e.length!==0,"internal-error");const n=sE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(et(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:u}=await aP(e,n);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:u}=n,c=new Uu;return r&&(et(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),o&&(et(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),u&&(et(typeof u=="number","internal-error",{appName:e}),c.expirationTime=u),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Uu,this.toJSON())}_performRefresh(){return ko("not implemented")}}function Sa(t,e){et(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ws{constructor({uid:e,auth:n,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new rP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new T_(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Qu(this,this.stsTokenManager.getToken(this.auth,e));return et(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return nP(this,e)}reload(){return sP(this)}_assign(e){this!==e&&(et(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ws({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Qd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Wr(this.auth.app))return Promise.reject(zo(this.auth));const e=await this.getIdToken();return await Qu(this,tP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,c=n.photoURL??void 0,p=n.tenantId??void 0,_=n._redirectEventId??void 0,y=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:x,emailVerified:C,isAnonymous:D,providerData:I,stsTokenManager:j}=n;et(x&&j,e,"internal-error");const U=Uu.fromJSON(this.name,j);et(typeof x=="string",e,"internal-error"),Sa(r,e.name),Sa(o,e.name),et(typeof C=="boolean",e,"internal-error"),et(typeof D=="boolean",e,"internal-error"),Sa(u,e.name),Sa(c,e.name),Sa(p,e.name),Sa(_,e.name),Sa(y,e.name),Sa(E,e.name);const ne=new ws({uid:x,auth:e,email:o,emailVerified:C,displayName:r,isAnonymous:D,photoURL:c,phoneNumber:u,tenantId:p,stsTokenManager:U,createdAt:y,lastLoginAt:E});return I&&Array.isArray(I)&&(ne.providerData=I.map(ee=>({...ee}))),_&&(ne._redirectEventId=_),ne}static async _fromIdTokenResponse(e,n,r=!1){const o=new Uu;o.updateFromServerResponse(n);const u=new ws({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await Qd(u),u}static async _fromGetAccountInfoResponse(e,n,r){const o=n.users[0];et(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?oS(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!u?.length,p=new Uu;p.updateFromIdToken(r);const _=new ws({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:c}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new T_(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(_,y),_}}const oE=new Map;function Mo(t){Uo(t instanceof Function,"Expected a class definition");let e=oE.get(t);return e?(Uo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,oE.set(t,e),e)}class aS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}aS.type="NONE";const aE=aS;function Rd(t,e,n){return`firebase:${t}:${e}:${n}`}class Vu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=Rd(this.userKey,o.apiKey,u),this.fullPersistenceKey=Rd("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Yd(this.auth,{idToken:e}).catch(()=>{});return n?ws._fromGetAccountInfoResponse(this.auth,n,e):null}return ws._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Vu(Mo(aE),e,r);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||Mo(aE);const c=Rd(r,e.config.apiKey,e.name);let p=null;for(const y of n)try{const E=await y._get(c);if(E){let x;if(typeof E=="string"){const C=await Yd(e,{idToken:E}).catch(()=>{});if(!C)break;x=await ws._fromGetAccountInfoResponse(e,C,E)}else x=ws._fromJSON(e,E);y!==u&&(p=x),u=y;break}}catch{}const _=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!_.length?new Vu(u,e,r):(u=_[0],p&&await u._set(c,p.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(c)}catch{}})),new Vu(u,e,r))}}function lE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(hS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(lS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(dS(e))return"Blackberry";if(mS(e))return"Webos";if(uS(e))return"Safari";if((e.includes("chrome/")||cS(e))&&!e.includes("edge/"))return"Chrome";if(fS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function lS(t=Ii()){return/firefox\//i.test(t)}function uS(t=Ii()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function cS(t=Ii()){return/crios\//i.test(t)}function hS(t=Ii()){return/iemobile/i.test(t)}function fS(t=Ii()){return/android/i.test(t)}function dS(t=Ii()){return/blackberry/i.test(t)}function mS(t=Ii()){return/webos/i.test(t)}function vy(t=Ii()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function uP(t=Ii()){return vy(t)&&!!window.navigator?.standalone}function cP(){return EI()&&document.documentMode===10}function pS(t=Ii()){return vy(t)||fS(t)||mS(t)||dS(t)||/windows phone/i.test(t)||hS(t)}function gS(t,e=[]){let n;switch(t){case"Browser":n=lE(Ii());break;case"Worker":n=`${lE(Ii())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${lc}/${r}`}class hP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=u=>new Promise((c,p)=>{try{const _=e(u);c(_)}catch(_){p(_)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function fP(t,e={}){return Fo(t,"GET","/v2/passwordPolicy",Ya(t,e))}const dP=6;class mP{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??dP,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class pP{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new uE(this),this.idTokenSubscription=new uE(this),this.beforeStateQueue=new hP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Mo(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Vu.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Yd(this,{idToken:e}),r=await ws._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Wr(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,c=r?._redirectEventId,p=await this.tryRedirectSignIn(e);(!u||u===c)&&p?.user&&(r=p.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Qd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=G2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Wr(this.app))return Promise.reject(zo(this));const n=e?es(e):null;return n&&et(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&et(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Wr(this.app)?Promise.reject(zo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Wr(this.app)?Promise.reject(zo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Mo(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await fP(this),n=new mP(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Uh("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await lP(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Mo(e)||this._popupRedirectResolver;et(n,this,"argument-error"),this.redirectPersistenceManager=await Vu.create(this,[Mo(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let c=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(et(p,this,"internal-error"),p.then(()=>{c||u(this.currentUser)}),typeof n=="function"){const _=e.addObserver(n,r,o);return()=>{c=!0,_()}}else{const _=e.addObserver(n);return()=>{c=!0,_()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=gS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Wr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&q2(`Error while retrieving App Check token: ${e.error}`),e?.token}}function $l(t){return es(t)}class uE{constructor(e){this.auth=e,this.observer=null,this.addObserver=OI(n=>this.observer=n)}get next(){return et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let wm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function gP(t){wm=t}function _S(t){return wm.loadJS(t)}function _P(){return wm.recaptchaEnterpriseScript}function yP(){return wm.gapiScript}function vP(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class bP{constructor(){this.enterprise=new wP}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class wP{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const EP="recaptcha-enterprise",yS="NO_RECAPTCHA";class TP{constructor(e){this.type=EP,this.auth=$l(e)}async verify(e="verify",n=!1){async function r(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(c,p)=>{eP(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(_=>{if(_.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new J2(_);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,c(y.siteKey)}}).catch(_=>{p(_)})})}function o(u,c,p){const _=window.grecaptcha;rE(_)?_.enterprise.ready(()=>{_.enterprise.execute(u,{action:e}).then(y=>{c(y)}).catch(()=>{c(yS)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new bP().execute("siteKey",{action:"verify"}):new Promise((u,c)=>{r(this.auth).then(p=>{if(!n&&rE(window.grecaptcha))o(p,u,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let _=_P();_.length!==0&&(_+=p),_S(_).then(()=>{o(p,u,c)}).catch(y=>{c(y)})}}).catch(p=>{c(p)})})}}async function cE(t,e,n,r=!1,o=!1){const u=new TP(t);let c;if(o)c=yS;else try{c=await u.verify(n)}catch{c=await u.verify(n,!0)}const p={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const _=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:_,recaptchaToken:y,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const _=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:_,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return r?Object.assign(p,{captchaResp:c}):Object.assign(p,{captchaResponse:c}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function x_(t,e,n,r,o){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await cE(t,e,n,n==="getOobCode");return r(t,u)}else return r(t,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await cE(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(u)})}function xP(t,e){const n=py(t,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(zl(u,e??{}))return o;Es(o,"already-initialized")}return n.initialize({options:e})}function SP(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Mo);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function AP(t,e,n){const r=$l(t);et(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,u=vS(e),{host:c,port:p}=RP(e),_=p===null?"":`:${p}`,y={url:`${u}//${c}${_}/`},E=Object.freeze({host:c,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){et(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),et(zl(y,r.config.emulator)&&zl(E,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=E,r.settings.appVerificationDisabledForTesting=!0,ac(c)?($x(`${u}//${c}${_}`),Gx("Auth",!0)):CP()}function vS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function RP(t){const e=vS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:hE(r.substr(u.length+1))}}else{const[u,c]=r.split(":");return{host:u,port:hE(c)}}}function hE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function CP(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class by{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ko("not implemented")}_getIdTokenResponse(e){return ko("not implemented")}_linkToIdToken(e,n){return ko("not implemented")}_getReauthenticationResolver(e){return ko("not implemented")}}async function NP(t,e){return Fo(t,"POST","/v1/accounts:signUp",e)}async function OP(t,e){return Fh(t,"POST","/v1/accounts:signInWithPassword",Ya(t,e))}async function IP(t,e){return Fh(t,"POST","/v1/accounts:signInWithEmailLink",Ya(t,e))}async function PP(t,e){return Fh(t,"POST","/v1/accounts:signInWithEmailLink",Ya(t,e))}class Ch extends by{constructor(e,n,r,o=null){super("password",r),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Ch(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ch(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return x_(e,n,"signInWithPassword",OP);case"emailLink":return IP(e,{email:this._email,oobCode:this._password});default:Es(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return x_(e,r,"signUpPassword",NP);case"emailLink":return PP(e,{idToken:n,email:this._email,oobCode:this._password});default:Es(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Bu(t,e){return Fh(t,"POST","/v1/accounts:signInWithIdp",Ya(t,e))}const LP="http://localhost";class Ul extends by{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ul(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Es("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...u}=n;if(!r||!o)return null;const c=new Ul(r,o);return c.idToken=u.idToken||void 0,c.accessToken=u.accessToken||void 0,c.secret=u.secret,c.nonce=u.nonce,c.pendingToken=u.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Bu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Bu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Bu(e,n)}buildRequest(){const e={requestUri:LP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Vh(n)}return e}}function DP(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function kP(t){const e=uh(ch(t)).link,n=e?uh(ch(e)).deep_link_id:null,r=uh(ch(t)).deep_link_id;return(r?uh(ch(r)).link:null)||r||n||e||t}class wy{constructor(e){const n=uh(ch(e)),r=n.apiKey??null,o=n.oobCode??null,u=DP(n.mode??null);et(r&&o&&u,"argument-error"),this.apiKey=r,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=kP(e);try{return new wy(n)}catch{return null}}}class uc{constructor(){this.providerId=uc.PROVIDER_ID}static credential(e,n){return Ch._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=wy.parseLink(n);return et(r,"argument-error"),Ch._fromEmailAndCode(e,r.code,r.tenantId)}}uc.PROVIDER_ID="password";uc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";uc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class bS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Hh extends bS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ca extends Hh{constructor(){super("facebook.com")}static credential(e){return Ul._fromParams({providerId:Ca.PROVIDER_ID,signInMethod:Ca.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ca.credentialFromTaggedObject(e)}static credentialFromError(e){return Ca.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ca.credential(e.oauthAccessToken)}catch{return null}}}Ca.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ca.PROVIDER_ID="facebook.com";class Na extends Hh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ul._fromParams({providerId:Na.PROVIDER_ID,signInMethod:Na.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Na.credentialFromTaggedObject(e)}static credentialFromError(e){return Na.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Na.credential(n,r)}catch{return null}}}Na.GOOGLE_SIGN_IN_METHOD="google.com";Na.PROVIDER_ID="google.com";class Oa extends Hh{constructor(){super("github.com")}static credential(e){return Ul._fromParams({providerId:Oa.PROVIDER_ID,signInMethod:Oa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Oa.credentialFromTaggedObject(e)}static credentialFromError(e){return Oa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Oa.credential(e.oauthAccessToken)}catch{return null}}}Oa.GITHUB_SIGN_IN_METHOD="github.com";Oa.PROVIDER_ID="github.com";class Ia extends Hh{constructor(){super("twitter.com")}static credential(e,n){return Ul._fromParams({providerId:Ia.PROVIDER_ID,signInMethod:Ia.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ia.credentialFromTaggedObject(e)}static credentialFromError(e){return Ia.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ia.credential(n,r)}catch{return null}}}Ia.TWITTER_SIGN_IN_METHOD="twitter.com";Ia.PROVIDER_ID="twitter.com";async function MP(t,e){return Fh(t,"POST","/v1/accounts:signUp",Ya(t,e))}class Vl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const u=await ws._fromIdTokenResponse(e,r,o),c=fE(r);return new Vl({user:u,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=fE(r);return new Vl({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function fE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Wd extends Bo{constructor(e,n,r,o){super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Wd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new Wd(e,n,r,o)}}function wS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Wd._fromErrorAndOperation(t,u,e,r):u})}async function zP(t,e,n=!1){const r=await Qu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Vl._forOperation(t,"link",r)}async function jP(t,e,n=!1){const{auth:r}=t;if(Wr(r.app))return Promise.reject(zo(r));const o="reauthenticate";try{const u=await Qu(t,wS(r,o,e,t),n);et(u.idToken,r,"internal-error");const c=yy(u.idToken);et(c,r,"internal-error");const{sub:p}=c;return et(t.uid===p,r,"user-mismatch"),Vl._forOperation(t,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Es(r,"user-mismatch"),u}}async function ES(t,e,n=!1){if(Wr(t.app))return Promise.reject(zo(t));const r="signIn",o=await wS(t,r,e),u=await Vl._fromIdTokenResponse(t,r,o);return n||await t._updateCurrentUser(u.user),u}async function UP(t,e){return ES($l(t),e)}async function TS(t){const e=$l(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function VP(t,e,n){if(Wr(t.app))return Promise.reject(zo(t));const r=$l(t),c=await x_(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",MP).catch(_=>{throw _.code==="auth/password-does-not-meet-requirements"&&TS(t),_}),p=await Vl._fromIdTokenResponse(r,"signIn",c);return await r._updateCurrentUser(p.user),p}function BP(t,e,n){return Wr(t.app)?Promise.reject(zo(t)):UP(es(t),uc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&TS(t),r})}async function FP(t,e){return Fo(t,"POST","/v1/accounts:update",e)}async function HP(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=es(t),u={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},c=await Qu(r,FP(r.auth,u));r.displayName=c.displayName||null,r.photoURL=c.photoUrl||null;const p=r.providerData.find(({providerId:_})=>_==="password");p&&(p.displayName=r.displayName,p.photoURL=r.photoURL),await r._updateTokensIfNecessary(c)}function qP(t,e,n,r){return es(t).onIdTokenChanged(e,n,r)}function ZP(t,e,n){return es(t).beforeAuthStateChanged(e,n)}function $P(t,e,n,r){return es(t).onAuthStateChanged(e,n,r)}function GP(t){return es(t).signOut()}const Xd="__sak";class xS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Xd,"1"),this.storage.removeItem(Xd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const KP=1e3,YP=10;class SS extends xS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=pS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,p,_)=>{this.notifyListeners(c,_)});return}const r=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},u=this.storage.getItem(r);cP()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,YP):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},KP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}SS.type="LOCAL";const QP=SS;class AS extends xS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}AS.type="SESSION";const RS=AS;function WP(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Em{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new Em(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:u}=n.data,c=this.handlersMap[o];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const p=Array.from(c).map(async y=>y(n.origin,u)),_=await WP(p);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:_})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Em.receivers=[];function Ey(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class XP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,c;return new Promise((p,_)=>{const y=Ey("",20);o.port1.start();const E=setTimeout(()=>{_(new Error("unsupported_event"))},r);c={messageChannel:o,onMessage(x){const C=x;if(C.data.eventId===y)switch(C.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(C.data.response);break;default:clearTimeout(E),clearTimeout(u),_(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function eo(){return window}function JP(t){eo().location.href=t}function CS(){return typeof eo().WorkerGlobalScope<"u"&&typeof eo().importScripts=="function"}async function eL(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function tL(){return navigator?.serviceWorker?.controller||null}function nL(){return CS()?self:null}const NS="firebaseLocalStorageDb",iL=1,Jd="firebaseLocalStorage",OS="fbase_key";class qh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Tm(t,e){return t.transaction([Jd],e?"readwrite":"readonly").objectStore(Jd)}function rL(){const t=indexedDB.deleteDatabase(NS);return new qh(t).toPromise()}function S_(){const t=indexedDB.open(NS,iL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Jd,{keyPath:OS})}catch(o){n(o)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Jd)?e(r):(r.close(),await rL(),e(await S_()))})})}async function dE(t,e,n){const r=Tm(t,!0).put({[OS]:e,value:n});return new qh(r).toPromise()}async function sL(t,e){const n=Tm(t,!1).get(e),r=await new qh(n).toPromise();return r===void 0?null:r.value}function mE(t,e){const n=Tm(t,!0).delete(e);return new qh(n).toPromise()}const oL=800,aL=3;class IS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await S_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>aL)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return CS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Em._getInstance(nL()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await eL(),!this.activeServiceWorker)return;this.sender=new XP(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||tL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await S_();return await dE(e,Xd,"1"),await mE(e,Xd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>dE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>sL(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>mE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Tm(o,!1).getAll();return new qh(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),oL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}IS.type="LOCAL";const lL=IS;new Bh(3e4,6e4);function uL(t,e){return e?Mo(e):(et(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class Ty extends by{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Bu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Bu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Bu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function cL(t){return ES(t.auth,new Ty(t),t.bypassAuthState)}function hL(t){const{auth:e,user:n}=t;return et(n,e,"internal-error"),jP(n,new Ty(t),t.bypassAuthState)}async function fL(t){const{auth:e,user:n}=t;return et(n,e,"internal-error"),zP(n,new Ty(t),t.bypassAuthState)}class PS{constructor(e,n,r,o,u=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:u,error:c,type:p}=e;if(c){this.reject(c);return}const _={auth:this.auth,requestUri:n,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(_))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return cL;case"linkViaPopup":case"linkViaRedirect":return fL;case"reauthViaPopup":case"reauthViaRedirect":return hL;default:Es(this.auth,"internal-error")}}resolve(e){Uo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Uo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const dL=new Bh(2e3,1e4);class Mu extends PS{constructor(e,n,r,o,u){super(e,n,o,u),this.provider=r,this.authWindow=null,this.pollId=null,Mu.currentPopupAction&&Mu.currentPopupAction.cancel(),Mu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return et(e,this.auth,"internal-error"),e}async onExecution(){Uo(this.filter.length===1,"Popup operations only handle one event");const e=Ey();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Js(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Js(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Mu.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Js(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,dL.get())};e()}}Mu.currentPopupAction=null;const mL="pendingRedirect",Cd=new Map;class pL extends PS{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Cd.get(this.auth._key());if(!e){try{const r=await gL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Cd.set(this.auth._key(),e)}return this.bypassAuthState||Cd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function gL(t,e){const n=vL(e),r=yL(t);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function _L(t,e){Cd.set(t._key(),e)}function yL(t){return Mo(t._redirectPersistence)}function vL(t){return Rd(mL,t.config.apiKey,t.name)}async function bL(t,e,n=!1){if(Wr(t.app))return Promise.reject(zo(t));const r=$l(t),o=uL(r,e),c=await new pL(r,o,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}const wL=600*1e3;class EL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!TL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!LS(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Js(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=wL&&this.cachedEventUids.clear(),this.cachedEventUids.has(pE(e))}saveEventToCache(e){this.cachedEventUids.add(pE(e)),this.lastProcessedEventTime=Date.now()}}function pE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function LS({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function TL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return LS(t);default:return!1}}async function xL(t,e={}){return Fo(t,"GET","/v1/projects",e)}const SL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,AL=/^https?/;async function RL(t){if(t.config.emulator)return;const{authorizedDomains:e}=await xL(t);for(const n of e)try{if(CL(n))return}catch{}Es(t,"unauthorized-domain")}function CL(t){const e=E_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!AL.test(n))return!1;if(SL.test(t))return r===t;const o=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const NL=new Bh(3e4,6e4);function gE(){const t=eo().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function OL(t){return new Promise((e,n)=>{function r(){gE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{gE(),n(Js(t,"network-request-failed"))},timeout:NL.get()})}if(eo().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(eo().gapi?.load)r();else{const o=vP("iframefcb");return eo()[o]=()=>{gapi.load?r():n(Js(t,"network-request-failed"))},_S(`${yP()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw Nd=null,e})}let Nd=null;function IL(t){return Nd=Nd||OL(t),Nd}const PL=new Bh(5e3,15e3),LL="__/auth/iframe",DL="emulator/auth/iframe",kL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ML=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zL(t){const e=t.config;et(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?_y(e,DL):`https://${t.config.authDomain}/${LL}`,r={apiKey:e.apiKey,appName:t.name,v:lc},o=ML.get(t.config.apiHost);o&&(r.eid=o);const u=t._getFrameworks();return u.length&&(r.fw=u.join(",")),`${n}?${Vh(r).slice(1)}`}async function jL(t){const e=await IL(t),n=eo().gapi;return et(n,t,"internal-error"),e.open({where:document.body,url:zL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kL,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const c=Js(t,"network-request-failed"),p=eo().setTimeout(()=>{u(c)},PL.get());function _(){eo().clearTimeout(p),o(r)}r.ping(_).then(_,()=>{u(c)})}))}const UL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},VL=500,BL=600,FL="_blank",HL="http://localhost";class _E{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function qL(t,e,n,r=VL,o=BL){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const _={...UL,width:r.toString(),height:o.toString(),top:u,left:c},y=Ii().toLowerCase();n&&(p=cS(y)?FL:n),lS(y)&&(e=e||HL,_.scrollbars="yes");const E=Object.entries(_).reduce((C,[D,I])=>`${C}${D}=${I},`,"");if(uP(y)&&p!=="_self")return ZL(e||"",p),new _E(null);const x=window.open(e||"",p,E);et(x,t,"popup-blocked");try{x.focus()}catch{}return new _E(x)}function ZL(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const $L="__/auth/handler",GL="emulator/auth/handler",KL=encodeURIComponent("fac");async function yE(t,e,n,r,o,u){et(t.config.authDomain,t,"auth-domain-config-required"),et(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:lc,eventId:o};if(e instanceof bS){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",NI(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,x]of Object.entries({}))c[E]=x}if(e instanceof Hh){const E=e.getScopes().filter(x=>x!=="");E.length>0&&(c.scopes=E.join(","))}t.tenantId&&(c.tid=t.tenantId);const p=c;for(const E of Object.keys(p))p[E]===void 0&&delete p[E];const _=await t._getAppCheckToken(),y=_?`#${KL}=${encodeURIComponent(_)}`:"";return`${YL(t)}?${Vh(p).slice(1)}${y}`}function YL({config:t}){return t.emulator?_y(t,GL):`https://${t.authDomain}/${$L}`}const Xg="webStorageSupport";class QL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=RS,this._completeRedirectFn=bL,this._overrideRedirectResult=_L}async _openPopup(e,n,r,o){Uo(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await yE(e,n,r,E_(),o);return qL(e,u,Ey())}async _openRedirect(e,n,r,o){await this._originValidation(e);const u=await yE(e,n,r,E_(),o);return JP(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Uo(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await jL(e),r=new EL(e);return n.register("authEvent",o=>(et(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Xg,{type:Xg},o=>{const u=o?.[0]?.[Xg];u!==void 0&&n(!!u),Es(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=RL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return pS()||uS()||vy()}}const WL=QL;var vE="@firebase/auth",bE="1.12.0";class XL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function JL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function eD(t){Yu(new jl("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:c,authDomain:p}=r.options;et(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const _={apiKey:c,authDomain:p,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gS(t)},y=new pP(r,o,u,_);return SP(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Yu(new jl("auth-internal",e=>{const n=$l(e.getProvider("auth").getImmediate());return(r=>new XL(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),za(vE,bE,JL(t)),za(vE,bE,"esm2020")}const tD=300,nD=Zx("authIdTokenMaxAge")||tD;let wE=null;const iD=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>nD)return;const o=n?.token;wE!==o&&(wE=o,await fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function rD(t=Wx()){const e=py(t,"auth");if(e.isInitialized())return e.getImmediate();const n=xP(t,{popupRedirectResolver:WL,persistence:[lL,QP,RS]}),r=Zx("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const c=iD(u.toString());ZP(n,c,()=>c(n.currentUser)),qP(n,p=>c(p))}}const o=Hx("auth");return o&&AP(n,`http://${o}`),n}function sD(){return document.getElementsByTagName("head")?.[0]??document}gP({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=o=>{const u=Js("internal-error");u.customData=o,n(u)},r.type="text/javascript",r.charset="UTF-8",sD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});eD("Browser");var EE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ja,DS;(function(){var t;function e(N,M){function z(){}z.prototype=M.prototype,N.F=M.prototype,N.prototype=new z,N.prototype.constructor=N,N.D=function(G,V,K){for(var B=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)B[Ue-2]=arguments[Ue];return M.prototype[V].apply(G,B)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,M,z){z||(z=0);const G=Array(16);if(typeof M=="string")for(var V=0;V<16;++V)G[V]=M.charCodeAt(z++)|M.charCodeAt(z++)<<8|M.charCodeAt(z++)<<16|M.charCodeAt(z++)<<24;else for(V=0;V<16;++V)G[V]=M[z++]|M[z++]<<8|M[z++]<<16|M[z++]<<24;M=N.g[0],z=N.g[1],V=N.g[2];let K=N.g[3],B;B=M+(K^z&(V^K))+G[0]+3614090360&4294967295,M=z+(B<<7&4294967295|B>>>25),B=K+(V^M&(z^V))+G[1]+3905402710&4294967295,K=M+(B<<12&4294967295|B>>>20),B=V+(z^K&(M^z))+G[2]+606105819&4294967295,V=K+(B<<17&4294967295|B>>>15),B=z+(M^V&(K^M))+G[3]+3250441966&4294967295,z=V+(B<<22&4294967295|B>>>10),B=M+(K^z&(V^K))+G[4]+4118548399&4294967295,M=z+(B<<7&4294967295|B>>>25),B=K+(V^M&(z^V))+G[5]+1200080426&4294967295,K=M+(B<<12&4294967295|B>>>20),B=V+(z^K&(M^z))+G[6]+2821735955&4294967295,V=K+(B<<17&4294967295|B>>>15),B=z+(M^V&(K^M))+G[7]+4249261313&4294967295,z=V+(B<<22&4294967295|B>>>10),B=M+(K^z&(V^K))+G[8]+1770035416&4294967295,M=z+(B<<7&4294967295|B>>>25),B=K+(V^M&(z^V))+G[9]+2336552879&4294967295,K=M+(B<<12&4294967295|B>>>20),B=V+(z^K&(M^z))+G[10]+4294925233&4294967295,V=K+(B<<17&4294967295|B>>>15),B=z+(M^V&(K^M))+G[11]+2304563134&4294967295,z=V+(B<<22&4294967295|B>>>10),B=M+(K^z&(V^K))+G[12]+1804603682&4294967295,M=z+(B<<7&4294967295|B>>>25),B=K+(V^M&(z^V))+G[13]+4254626195&4294967295,K=M+(B<<12&4294967295|B>>>20),B=V+(z^K&(M^z))+G[14]+2792965006&4294967295,V=K+(B<<17&4294967295|B>>>15),B=z+(M^V&(K^M))+G[15]+1236535329&4294967295,z=V+(B<<22&4294967295|B>>>10),B=M+(V^K&(z^V))+G[1]+4129170786&4294967295,M=z+(B<<5&4294967295|B>>>27),B=K+(z^V&(M^z))+G[6]+3225465664&4294967295,K=M+(B<<9&4294967295|B>>>23),B=V+(M^z&(K^M))+G[11]+643717713&4294967295,V=K+(B<<14&4294967295|B>>>18),B=z+(K^M&(V^K))+G[0]+3921069994&4294967295,z=V+(B<<20&4294967295|B>>>12),B=M+(V^K&(z^V))+G[5]+3593408605&4294967295,M=z+(B<<5&4294967295|B>>>27),B=K+(z^V&(M^z))+G[10]+38016083&4294967295,K=M+(B<<9&4294967295|B>>>23),B=V+(M^z&(K^M))+G[15]+3634488961&4294967295,V=K+(B<<14&4294967295|B>>>18),B=z+(K^M&(V^K))+G[4]+3889429448&4294967295,z=V+(B<<20&4294967295|B>>>12),B=M+(V^K&(z^V))+G[9]+568446438&4294967295,M=z+(B<<5&4294967295|B>>>27),B=K+(z^V&(M^z))+G[14]+3275163606&4294967295,K=M+(B<<9&4294967295|B>>>23),B=V+(M^z&(K^M))+G[3]+4107603335&4294967295,V=K+(B<<14&4294967295|B>>>18),B=z+(K^M&(V^K))+G[8]+1163531501&4294967295,z=V+(B<<20&4294967295|B>>>12),B=M+(V^K&(z^V))+G[13]+2850285829&4294967295,M=z+(B<<5&4294967295|B>>>27),B=K+(z^V&(M^z))+G[2]+4243563512&4294967295,K=M+(B<<9&4294967295|B>>>23),B=V+(M^z&(K^M))+G[7]+1735328473&4294967295,V=K+(B<<14&4294967295|B>>>18),B=z+(K^M&(V^K))+G[12]+2368359562&4294967295,z=V+(B<<20&4294967295|B>>>12),B=M+(z^V^K)+G[5]+4294588738&4294967295,M=z+(B<<4&4294967295|B>>>28),B=K+(M^z^V)+G[8]+2272392833&4294967295,K=M+(B<<11&4294967295|B>>>21),B=V+(K^M^z)+G[11]+1839030562&4294967295,V=K+(B<<16&4294967295|B>>>16),B=z+(V^K^M)+G[14]+4259657740&4294967295,z=V+(B<<23&4294967295|B>>>9),B=M+(z^V^K)+G[1]+2763975236&4294967295,M=z+(B<<4&4294967295|B>>>28),B=K+(M^z^V)+G[4]+1272893353&4294967295,K=M+(B<<11&4294967295|B>>>21),B=V+(K^M^z)+G[7]+4139469664&4294967295,V=K+(B<<16&4294967295|B>>>16),B=z+(V^K^M)+G[10]+3200236656&4294967295,z=V+(B<<23&4294967295|B>>>9),B=M+(z^V^K)+G[13]+681279174&4294967295,M=z+(B<<4&4294967295|B>>>28),B=K+(M^z^V)+G[0]+3936430074&4294967295,K=M+(B<<11&4294967295|B>>>21),B=V+(K^M^z)+G[3]+3572445317&4294967295,V=K+(B<<16&4294967295|B>>>16),B=z+(V^K^M)+G[6]+76029189&4294967295,z=V+(B<<23&4294967295|B>>>9),B=M+(z^V^K)+G[9]+3654602809&4294967295,M=z+(B<<4&4294967295|B>>>28),B=K+(M^z^V)+G[12]+3873151461&4294967295,K=M+(B<<11&4294967295|B>>>21),B=V+(K^M^z)+G[15]+530742520&4294967295,V=K+(B<<16&4294967295|B>>>16),B=z+(V^K^M)+G[2]+3299628645&4294967295,z=V+(B<<23&4294967295|B>>>9),B=M+(V^(z|~K))+G[0]+4096336452&4294967295,M=z+(B<<6&4294967295|B>>>26),B=K+(z^(M|~V))+G[7]+1126891415&4294967295,K=M+(B<<10&4294967295|B>>>22),B=V+(M^(K|~z))+G[14]+2878612391&4294967295,V=K+(B<<15&4294967295|B>>>17),B=z+(K^(V|~M))+G[5]+4237533241&4294967295,z=V+(B<<21&4294967295|B>>>11),B=M+(V^(z|~K))+G[12]+1700485571&4294967295,M=z+(B<<6&4294967295|B>>>26),B=K+(z^(M|~V))+G[3]+2399980690&4294967295,K=M+(B<<10&4294967295|B>>>22),B=V+(M^(K|~z))+G[10]+4293915773&4294967295,V=K+(B<<15&4294967295|B>>>17),B=z+(K^(V|~M))+G[1]+2240044497&4294967295,z=V+(B<<21&4294967295|B>>>11),B=M+(V^(z|~K))+G[8]+1873313359&4294967295,M=z+(B<<6&4294967295|B>>>26),B=K+(z^(M|~V))+G[15]+4264355552&4294967295,K=M+(B<<10&4294967295|B>>>22),B=V+(M^(K|~z))+G[6]+2734768916&4294967295,V=K+(B<<15&4294967295|B>>>17),B=z+(K^(V|~M))+G[13]+1309151649&4294967295,z=V+(B<<21&4294967295|B>>>11),B=M+(V^(z|~K))+G[4]+4149444226&4294967295,M=z+(B<<6&4294967295|B>>>26),B=K+(z^(M|~V))+G[11]+3174756917&4294967295,K=M+(B<<10&4294967295|B>>>22),B=V+(M^(K|~z))+G[2]+718787259&4294967295,V=K+(B<<15&4294967295|B>>>17),B=z+(K^(V|~M))+G[9]+3951481745&4294967295,N.g[0]=N.g[0]+M&4294967295,N.g[1]=N.g[1]+(V+(B<<21&4294967295|B>>>11))&4294967295,N.g[2]=N.g[2]+V&4294967295,N.g[3]=N.g[3]+K&4294967295}r.prototype.v=function(N,M){M===void 0&&(M=N.length);const z=M-this.blockSize,G=this.C;let V=this.h,K=0;for(;K<M;){if(V==0)for(;K<=z;)o(this,N,K),K+=this.blockSize;if(typeof N=="string"){for(;K<M;)if(G[V++]=N.charCodeAt(K++),V==this.blockSize){o(this,G),V=0;break}}else for(;K<M;)if(G[V++]=N[K++],V==this.blockSize){o(this,G),V=0;break}}this.h=V,this.o+=M},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var M=1;M<N.length-8;++M)N[M]=0;M=this.o*8;for(var z=N.length-8;z<N.length;++z)N[z]=M&255,M/=256;for(this.v(N),N=Array(16),M=0,z=0;z<4;++z)for(let G=0;G<32;G+=8)N[M++]=this.g[z]>>>G&255;return N};function u(N,M){var z=p;return Object.prototype.hasOwnProperty.call(z,N)?z[N]:z[N]=M(N)}function c(N,M){this.h=M;const z=[];let G=!0;for(let V=N.length-1;V>=0;V--){const K=N[V]|0;G&&K==M||(z[V]=K,G=!1)}this.g=z}var p={};function _(N){return-128<=N&&N<128?u(N,function(M){return new c([M|0],M<0?-1:0)}):new c([N|0],N<0?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return x;if(N<0)return U(y(-N));const M=[];let z=1;for(let G=0;N>=z;G++)M[G]=N/z|0,z*=4294967296;return new c(M,0)}function E(N,M){if(N.length==0)throw Error("number format error: empty string");if(M=M||10,M<2||36<M)throw Error("radix out of range: "+M);if(N.charAt(0)=="-")return U(E(N.substring(1),M));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const z=y(Math.pow(M,8));let G=x;for(let K=0;K<N.length;K+=8){var V=Math.min(8,N.length-K);const B=parseInt(N.substring(K,K+V),M);V<8?(V=y(Math.pow(M,V)),G=G.j(V).add(y(B))):(G=G.j(z),G=G.add(y(B)))}return G}var x=_(0),C=_(1),D=_(16777216);t=c.prototype,t.m=function(){if(j(this))return-U(this).m();let N=0,M=1;for(let z=0;z<this.g.length;z++){const G=this.i(z);N+=(G>=0?G:4294967296+G)*M,M*=4294967296}return N},t.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(I(this))return"0";if(j(this))return"-"+U(this).toString(N);const M=y(Math.pow(N,6));var z=this;let G="";for(;;){const V=Te(z,M).g;z=ne(z,V.j(M));let K=((z.g.length>0?z.g[0]:z.h)>>>0).toString(N);if(z=V,I(z))return K+G;for(;K.length<6;)K="0"+K;G=K+G}},t.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function I(N){if(N.h!=0)return!1;for(let M=0;M<N.g.length;M++)if(N.g[M]!=0)return!1;return!0}function j(N){return N.h==-1}t.l=function(N){return N=ne(this,N),j(N)?-1:I(N)?0:1};function U(N){const M=N.g.length,z=[];for(let G=0;G<M;G++)z[G]=~N.g[G];return new c(z,~N.h).add(C)}t.abs=function(){return j(this)?U(this):this},t.add=function(N){const M=Math.max(this.g.length,N.g.length),z=[];let G=0;for(let V=0;V<=M;V++){let K=G+(this.i(V)&65535)+(N.i(V)&65535),B=(K>>>16)+(this.i(V)>>>16)+(N.i(V)>>>16);G=B>>>16,K&=65535,B&=65535,z[V]=B<<16|K}return new c(z,z[z.length-1]&-2147483648?-1:0)};function ne(N,M){return N.add(U(M))}t.j=function(N){if(I(this)||I(N))return x;if(j(this))return j(N)?U(this).j(U(N)):U(U(this).j(N));if(j(N))return U(this.j(U(N)));if(this.l(D)<0&&N.l(D)<0)return y(this.m()*N.m());const M=this.g.length+N.g.length,z=[];for(var G=0;G<2*M;G++)z[G]=0;for(G=0;G<this.g.length;G++)for(let V=0;V<N.g.length;V++){const K=this.i(G)>>>16,B=this.i(G)&65535,Ue=N.i(V)>>>16,it=N.i(V)&65535;z[2*G+2*V]+=B*it,ee(z,2*G+2*V),z[2*G+2*V+1]+=K*it,ee(z,2*G+2*V+1),z[2*G+2*V+1]+=B*Ue,ee(z,2*G+2*V+1),z[2*G+2*V+2]+=K*Ue,ee(z,2*G+2*V+2)}for(N=0;N<M;N++)z[N]=z[2*N+1]<<16|z[2*N];for(N=M;N<2*M;N++)z[N]=0;return new c(z,0)};function ee(N,M){for(;(N[M]&65535)!=N[M];)N[M+1]+=N[M]>>>16,N[M]&=65535,M++}function ae(N,M){this.g=N,this.h=M}function Te(N,M){if(I(M))throw Error("division by zero");if(I(N))return new ae(x,x);if(j(N))return M=Te(U(N),M),new ae(U(M.g),U(M.h));if(j(M))return M=Te(N,U(M)),new ae(U(M.g),M.h);if(N.g.length>30){if(j(N)||j(M))throw Error("slowDivide_ only works with positive integers.");for(var z=C,G=M;G.l(N)<=0;)z=Ce(z),G=Ce(G);var V=ke(z,1),K=ke(G,1);for(G=ke(G,2),z=ke(z,2);!I(G);){var B=K.add(G);B.l(N)<=0&&(V=V.add(z),K=B),G=ke(G,1),z=ke(z,1)}return M=ne(N,V.j(M)),new ae(V,M)}for(V=x;N.l(M)>=0;){for(z=Math.max(1,Math.floor(N.m()/M.m())),G=Math.ceil(Math.log(z)/Math.LN2),G=G<=48?1:Math.pow(2,G-48),K=y(z),B=K.j(M);j(B)||B.l(N)>0;)z-=G,K=y(z),B=K.j(M);I(K)&&(K=C),V=V.add(K),N=ne(N,B)}return new ae(V,N)}t.B=function(N){return Te(this,N).h},t.and=function(N){const M=Math.max(this.g.length,N.g.length),z=[];for(let G=0;G<M;G++)z[G]=this.i(G)&N.i(G);return new c(z,this.h&N.h)},t.or=function(N){const M=Math.max(this.g.length,N.g.length),z=[];for(let G=0;G<M;G++)z[G]=this.i(G)|N.i(G);return new c(z,this.h|N.h)},t.xor=function(N){const M=Math.max(this.g.length,N.g.length),z=[];for(let G=0;G<M;G++)z[G]=this.i(G)^N.i(G);return new c(z,this.h^N.h)};function Ce(N){const M=N.g.length+1,z=[];for(let G=0;G<M;G++)z[G]=N.i(G)<<1|N.i(G-1)>>>31;return new c(z,N.h)}function ke(N,M){const z=M>>5;M%=32;const G=N.g.length-z,V=[];for(let K=0;K<G;K++)V[K]=M>0?N.i(K+z)>>>M|N.i(K+z+1)<<32-M:N.i(K+z);return new c(V,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,DS=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=y,c.fromString=E,ja=c}).apply(typeof EE<"u"?EE:typeof self<"u"?self:typeof window<"u"?window:{});var cd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var kS,hh,MS,Od,A_,zS,jS,US;(function(){var t,e=Object.defineProperty;function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof cd=="object"&&cd];for(var T=0;T<d.length;++T){var R=d[T];if(R&&R.Math==Math)return R}throw Error("Cannot find global object")}var r=n(this);function o(d,T){if(T)e:{var R=r;d=d.split(".");for(var k=0;k<d.length-1;k++){var J=d[k];if(!(J in R))break e;R=R[J]}d=d[d.length-1],k=R[d],T=T(k),T!=k&&T!=null&&e(R,d,{configurable:!0,writable:!0,value:T})}}o("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(d){return d||function(T){var R=[],k;for(k in T)Object.prototype.hasOwnProperty.call(T,k)&&R.push([k,T[k]]);return R}});var u=u||{},c=this||self;function p(d){var T=typeof d;return T=="object"&&d!=null||T=="function"}function _(d,T,R){return d.call.apply(d.bind,arguments)}function y(d,T,R){return y=_,y.apply(null,arguments)}function E(d,T){var R=Array.prototype.slice.call(arguments,1);return function(){var k=R.slice();return k.push.apply(k,arguments),d.apply(this,k)}}function x(d,T){function R(){}R.prototype=T.prototype,d.Z=T.prototype,d.prototype=new R,d.prototype.constructor=d,d.Ob=function(k,J,he){for(var Ne=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)Ne[nt-2]=arguments[nt];return T.prototype[J].apply(k,Ne)}}var C=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function D(d){const T=d.length;if(T>0){const R=Array(T);for(let k=0;k<T;k++)R[k]=d[k];return R}return[]}function I(d,T){for(let k=1;k<arguments.length;k++){const J=arguments[k];var R=typeof J;if(R=R!="object"?R:J?Array.isArray(J)?"array":R:"null",R=="array"||R=="object"&&typeof J.length=="number"){R=d.length||0;const he=J.length||0;d.length=R+he;for(let Ne=0;Ne<he;Ne++)d[R+Ne]=J[Ne]}else d.push(J)}}class j{constructor(T,R){this.i=T,this.j=R,this.h=0,this.g=null}get(){let T;return this.h>0?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function U(d){c.setTimeout(()=>{throw d},0)}function ne(){var d=N;let T=null;return d.g&&(T=d.g,d.g=d.g.next,d.g||(d.h=null),T.next=null),T}class ee{constructor(){this.h=this.g=null}add(T,R){const k=ae.get();k.set(T,R),this.h?this.h.next=k:this.g=k,this.h=k}}var ae=new j(()=>new Te,d=>d.reset());class Te{constructor(){this.next=this.g=this.h=null}set(T,R){this.h=T,this.g=R,this.next=null}reset(){this.next=this.g=this.h=null}}let Ce,ke=!1,N=new ee,M=()=>{const d=Promise.resolve(void 0);Ce=()=>{d.then(z)}};function z(){for(var d;d=ne();){try{d.h.call(d.g)}catch(R){U(R)}var T=ae;T.j(d),T.h<100&&(T.h++,d.next=T.g,T.g=d)}ke=!1}function G(){this.u=this.u,this.C=this.C}G.prototype.u=!1,G.prototype.dispose=function(){this.u||(this.u=!0,this.N())},G.prototype[Symbol.dispose]=function(){this.dispose()},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(d,T){this.type=d,this.g=this.target=T,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var K=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var d=!1,T=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const R=()=>{};c.addEventListener("test",R,T),c.removeEventListener("test",R,T)}catch{}return d})();function B(d){return/^[\s\xa0]*$/.test(d)}function Ue(d,T){V.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,T)}x(Ue,V),Ue.prototype.init=function(d,T){const R=this.type=d.type,k=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=T,T=d.relatedTarget,T||(R=="mouseover"?T=d.fromElement:R=="mouseout"&&(T=d.toElement)),this.relatedTarget=T,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&Ue.Z.h.call(this)},Ue.prototype.h=function(){Ue.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var it="closure_listenable_"+(Math.random()*1e6|0),te=0;function Ee(d,T,R,k,J){this.listener=d,this.proxy=null,this.src=T,this.type=R,this.capture=!!k,this.ha=J,this.key=++te,this.da=this.fa=!1}function me(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Ye(d,T,R){for(const k in d)T.call(R,d[k],k,d)}function Ae(d,T){for(const R in d)T.call(void 0,d[R],R,d)}function H(d){const T={};for(const R in d)T[R]=d[R];return T}const le="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function be(d,T){let R,k;for(let J=1;J<arguments.length;J++){k=arguments[J];for(R in k)d[R]=k[R];for(let he=0;he<le.length;he++)R=le[he],Object.prototype.hasOwnProperty.call(k,R)&&(d[R]=k[R])}}function xe(d){this.src=d,this.g={},this.h=0}xe.prototype.add=function(d,T,R,k,J){const he=d.toString();d=this.g[he],d||(d=this.g[he]=[],this.h++);const Ne=Oe(d,T,k,J);return Ne>-1?(T=d[Ne],R||(T.fa=!1)):(T=new Ee(T,this.src,he,!!k,J),T.fa=R,d.push(T)),T};function Se(d,T){const R=T.type;if(R in d.g){var k=d.g[R],J=Array.prototype.indexOf.call(k,T,void 0),he;(he=J>=0)&&Array.prototype.splice.call(k,J,1),he&&(me(T),d.g[R].length==0&&(delete d.g[R],d.h--))}}function Oe(d,T,R,k){for(let J=0;J<d.length;++J){const he=d[J];if(!he.da&&he.listener==T&&he.capture==!!R&&he.ha==k)return J}return-1}var Je="closure_lm_"+(Math.random()*1e6|0),Nt={};function $t(d,T,R,k,J){if(Array.isArray(T)){for(let he=0;he<T.length;he++)$t(d,T[he],R,k,J);return null}return R=Lr(R),d&&d[it]?d.J(T,R,p(k)?!!k.capture:!1,J):dr(d,T,R,!1,k,J)}function dr(d,T,R,k,J,he){if(!T)throw Error("Invalid event type");const Ne=p(J)?!!J.capture:!!J;let nt=Yn(d);if(nt||(d[Je]=nt=new xe(d)),R=nt.add(T,R,k,Ne,he),R.proxy)return R;if(k=Pr(),R.proxy=k,k.src=d,k.listener=R,d.addEventListener)K||(J=Ne),J===void 0&&(J=!1),d.addEventListener(T.toString(),k,J);else if(d.attachEvent)d.attachEvent(Pi(T.toString()),k);else if(d.addListener&&d.removeListener)d.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return R}function Pr(){function d(R){return T.call(d.src,d.listener,R)}const T=Rs;return d}function Gt(d,T,R,k,J){if(Array.isArray(T))for(var he=0;he<T.length;he++)Gt(d,T[he],R,k,J);else k=p(k)?!!k.capture:!!k,R=Lr(R),d&&d[it]?(d=d.i,he=String(T).toString(),he in d.g&&(T=d.g[he],R=Oe(T,R,k,J),R>-1&&(me(T[R]),Array.prototype.splice.call(T,R,1),T.length==0&&(delete d.g[he],d.h--)))):d&&(d=Yn(d))&&(T=d.g[T.toString()],d=-1,T&&(d=Oe(T,R,k,J)),(R=d>-1?T[d]:null)&&ci(R))}function ci(d){if(typeof d!="number"&&d&&!d.da){var T=d.src;if(T&&T[it])Se(T.i,d);else{var R=d.type,k=d.proxy;T.removeEventListener?T.removeEventListener(R,k,d.capture):T.detachEvent?T.detachEvent(Pi(R),k):T.addListener&&T.removeListener&&T.removeListener(k),(R=Yn(T))?(Se(R,d),R.h==0&&(R.src=null,T[Je]=null)):me(d)}}}function Pi(d){return d in Nt?Nt[d]:Nt[d]="on"+d}function Rs(d,T){if(d.da)d=!0;else{T=new Ue(T,this);const R=d.listener,k=d.ha||d.src;d.fa&&ci(d),d=R.call(k,T)}return d}function Yn(d){return d=d[Je],d instanceof xe?d:null}var ns="__closure_events_fn_"+(Math.random()*1e9>>>0);function Lr(d){return typeof d=="function"?d:(d[ns]||(d[ns]=function(T){return d.handleEvent(T)}),d[ns])}function hn(){G.call(this),this.i=new xe(this),this.M=this,this.G=null}x(hn,G),hn.prototype[it]=!0,hn.prototype.removeEventListener=function(d,T,R,k){Gt(this,d,T,R,k)};function pn(d,T){var R,k=d.G;if(k)for(R=[];k;k=k.G)R.push(k);if(d=d.M,k=T.type||T,typeof T=="string")T=new V(T,d);else if(T instanceof V)T.target=T.target||d;else{var J=T;T=new V(k,d),be(T,J)}J=!0;let he,Ne;if(R)for(Ne=R.length-1;Ne>=0;Ne--)he=T.g=R[Ne],J=$i(he,k,!0,T)&&J;if(he=T.g=d,J=$i(he,k,!0,T)&&J,J=$i(he,k,!1,T)&&J,R)for(Ne=0;Ne<R.length;Ne++)he=T.g=R[Ne],J=$i(he,k,!1,T)&&J}hn.prototype.N=function(){if(hn.Z.N.call(this),this.i){var d=this.i;for(const T in d.g){const R=d.g[T];for(let k=0;k<R.length;k++)me(R[k]);delete d.g[T],d.h--}}this.G=null},hn.prototype.J=function(d,T,R,k){return this.i.add(String(d),T,!1,R,k)},hn.prototype.K=function(d,T,R,k){return this.i.add(String(d),T,!0,R,k)};function $i(d,T,R,k){if(T=d.i.g[String(T)],!T)return!0;T=T.concat();let J=!0;for(let he=0;he<T.length;++he){const Ne=T[he];if(Ne&&!Ne.da&&Ne.capture==R){const nt=Ne.listener,Ot=Ne.ha||Ne.src;Ne.fa&&Se(d.i,Ne),J=nt.call(Ot,k)!==!1&&J}}return J&&!k.defaultPrevented}function Ho(d,T){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=y(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(T)>2147483647?-1:c.setTimeout(d,T||0)}function ao(d){d.g=Ho(()=>{d.g=null,d.i&&(d.i=!1,ao(d))},d.l);const T=d.h;d.h=null,d.m.apply(null,T)}class fn extends G{constructor(T,R){super(),this.m=T,this.l=R,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:ao(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Li(d){G.call(this),this.h=d,this.g={}}x(Li,G);var Dr=[];function kr(d){Ye(d.g,function(T,R){this.g.hasOwnProperty(R)&&ci(T)},d),d.g={}}Li.prototype.N=function(){Li.Z.N.call(this),kr(this)},Li.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Cn=c.JSON.stringify,Di=c.JSON.parse,Cs=class{stringify(d){return c.JSON.stringify(d,void 0)}parse(d){return c.JSON.parse(d,void 0)}};function lo(){}function Ns(){}var yi={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ft(){V.call(this,"d")}x(Ft,V);function Qn(){V.call(this,"c")}x(Qn,V);var ln={},mr=null;function Os(){return mr=mr||new hn}ln.Ia="serverreachability";function uo(d){V.call(this,ln.Ia,d)}x(uo,V);function Wn(d){const T=Os();pn(T,new uo(T))}ln.STAT_EVENT="statevent";function pr(d,T){V.call(this,ln.STAT_EVENT,d),this.stat=T}x(pr,V);function tn(d){const T=Os();pn(T,new pr(T,d))}ln.Ja="timingevent";function Gi(d,T){V.call(this,ln.Ja,d),this.size=T}x(Gi,V);function ki(d,T){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){d()},T)}function Mi(){this.g=!0}Mi.prototype.ua=function(){this.g=!1};function qo(d,T,R,k,J,he){d.info(function(){if(d.g)if(he){var Ne="",nt=he.split("&");for(let It=0;It<nt.length;It++){var Ot=nt[It].split("=");if(Ot.length>1){const on=Ot[0];Ot=Ot[1];const Xi=on.split("_");Ne=Xi.length>=2&&Xi[1]=="type"?Ne+(on+"="+Ot+"&"):Ne+(on+"=redacted&")}}}else Ne=null;else Ne=he;return"XMLHTTP REQ ("+k+") [attempt "+J+"]: "+T+`
`+R+`
`+Ne})}function is(d,T,R,k,J,he,Ne){d.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+J+"]: "+T+`
`+R+`
`+he+" "+Ne})}function hi(d,T,R,k){d.info(function(){return"XMLHTTP TEXT ("+T+"): "+Wa(d,R)+(k?" "+k:"")})}function Ki(d,T){d.info(function(){return"TIMEOUT: "+T})}Mi.prototype.info=function(){};function Wa(d,T){if(!d.g)return T;if(!T)return null;try{const he=JSON.parse(T);if(he){for(d=0;d<he.length;d++)if(Array.isArray(he[d])){var R=he[d];if(!(R.length<2)){var k=R[1];if(Array.isArray(k)&&!(k.length<1)){var J=k[0];if(J!="noop"&&J!="stop"&&J!="close")for(let Ne=1;Ne<k.length;Ne++)k[Ne]=""}}}}return Cn(he)}catch{return T}}var rs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Z={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Q;function ie(){}x(ie,lo),ie.prototype.g=function(){return new XMLHttpRequest},Q=new ie;function re(d){return encodeURIComponent(String(d))}function Re(d){var T=1;d=d.split(":");const R=[];for(;T>0&&d.length;)R.push(d.shift()),T--;return d.length&&R.push(d.join(":")),R}function Me(d,T,R,k){this.j=d,this.i=T,this.l=R,this.S=k||1,this.V=new Li(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ze}function ze(){this.i=null,this.g="",this.h=!1}var Ie={},De={};function Be(d,T,R){d.M=1,d.A=Kt(tt(T)),d.u=R,d.R=!0,Ve(d,null)}function Ve(d,T){d.F=Date.now(),zt(d),d.B=tt(d.A);var R=d.B,k=d.S;Array.isArray(k)||(k=[String(k)]),Is(R.i,"t",k),d.C=0,R=d.j.L,d.h=new ze,d.g=nl(d.j,R?T:null,!d.u),d.P>0&&(d.O=new fn(y(d.Y,d,d.g),d.P)),T=d.V,R=d.g,k=d.ba;var J="readystatechange";Array.isArray(J)||(J&&(Dr[0]=J.toString()),J=Dr);for(let he=0;he<J.length;he++){const Ne=$t(R,J[he],k||T.handleEvent,!1,T.h||T);if(!Ne)break;T.g[Ne.key]=Ne}T=d.J?H(d.J):{},d.u?(d.v||(d.v="POST"),T["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,T)):(d.v="GET",d.g.ea(d.B,d.v,null,T)),Wn(),qo(d.i,d.v,d.B,d.l,d.S,d.u)}Me.prototype.ba=function(d){d=d.target;const T=this.O;T&&vr(d)==3?T.j():this.Y(d)},Me.prototype.Y=function(d){try{if(d==this.g)e:{const nt=vr(this.g),Ot=this.g.ya(),It=this.g.ca();if(!(nt<3)&&(nt!=3||this.g&&(this.h.h||this.g.la()||kn(this.g)))){this.K||nt!=4||Ot==7||(Ot==8||It<=0?Wn(3):Wn(2)),yt(this);var T=this.g.ca();this.X=T;var R=qe(this);if(this.o=T==200,is(this.i,this.v,this.B,this.l,this.S,nt,T),this.o){if(this.U&&!this.L){t:{if(this.g){var k,J=this.g;if((k=J.g?J.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(k)){var he=k;break t}}he=null}if(d=he)hi(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Xn(this,d);else{this.o=!1,this.m=3,tn(12),un(this),gt(this);break e}}if(this.R){d=!0;let on;for(;!this.K&&this.C<R.length;)if(on=Dt(this,R),on==De){nt==4&&(this.m=4,tn(14),d=!1),hi(this.i,this.l,null,"[Incomplete Response]");break}else if(on==Ie){this.m=4,tn(15),hi(this.i,this.l,R,"[Invalid Chunk]"),d=!1;break}else hi(this.i,this.l,on,null),Xn(this,on);if(pt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),nt!=4||R.length!=0||this.h.h||(this.m=1,tn(16),d=!1),this.o=this.o&&d,!d)hi(this.i,this.l,R,"[Invalid Chunked Response]"),un(this),gt(this);else if(R.length>0&&!this.W){this.W=!0;var Ne=this.j;Ne.g==this&&Ne.aa&&!Ne.P&&(Ne.j.info("Great, no buffering proxy detected. Bytes received: "+R.length),el(Ne),Ne.P=!0,tn(11))}}else hi(this.i,this.l,R,null),Xn(this,R);nt==4&&un(this),this.o&&!this.K&&(nt==4?ji(this.j,this):(this.o=!1,zt(this)))}else br(this.g),T==400&&R.indexOf("Unknown SID")>0?(this.m=3,tn(12)):(this.m=0,tn(13)),un(this),gt(this)}}}catch{}finally{}};function qe(d){if(!pt(d))return d.g.la();const T=kn(d.g);if(T==="")return"";let R="";const k=T.length,J=vr(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return un(d),gt(d),"";d.h.i=new c.TextDecoder}for(let he=0;he<k;he++)d.h.h=!0,R+=d.h.i.decode(T[he],{stream:!(J&&he==k-1)});return T.length=0,d.h.g+=R,d.C=0,d.h.g}function pt(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function Dt(d,T){var R=d.C,k=T.indexOf(`
`,R);return k==-1?De:(R=Number(T.substring(R,k)),isNaN(R)?Ie:(k+=1,k+R>T.length?De:(T=T.slice(k,k+R),d.C=k+R,T)))}Me.prototype.cancel=function(){this.K=!0,un(this)};function zt(d){d.T=Date.now()+d.H,nn(d,d.H)}function nn(d,T){if(d.D!=null)throw Error("WatchDog timer not null");d.D=ki(y(d.aa,d),T)}function yt(d){d.D&&(c.clearTimeout(d.D),d.D=null)}Me.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(Ki(this.i,this.B),this.M!=2&&(Wn(),tn(17)),un(this),this.m=2,gt(this)):nn(this,this.T-d)};function gt(d){d.j.I==0||d.K||ji(d.j,d)}function un(d){yt(d);var T=d.O;T&&typeof T.dispose=="function"&&T.dispose(),d.O=null,kr(d.V),d.g&&(T=d.g,d.g=null,T.abort(),T.dispose())}function Xn(d,T){try{var R=d.j;if(R.I!=0&&(R.g==d||En(R.h,d))){if(!d.L&&En(R.h,d)&&R.I==3){try{var k=R.Ba.g.parse(T)}catch{k=null}if(Array.isArray(k)&&k.length==3){var J=k;if(J[0]==0){e:if(!R.v){if(R.g)if(R.g.F+3e3<d.F)Yo(R),ks(R);else break e;po(R),tn(18)}}else R.xa=J[1],0<R.xa-R.K&&J[2]<37500&&R.F&&R.A==0&&!R.C&&(R.C=ki(y(R.Va,R),6e3));ei(R.h)<=1&&R.ta&&(R.ta=void 0)}else wr(R,11)}else if((d.L||R.g==d)&&Yo(R),!B(T))for(J=R.Ba.g.parse(T),T=0;T<J.length;T++){let It=J[T];const on=It[0];if(!(on<=R.K))if(R.K=on,It=It[1],R.I==2)if(It[0]=="c"){R.M=It[1],R.ba=It[2];const Xi=It[3];Xi!=null&&(R.ka=Xi,R.j.info("VER="+R.ka));const Ji=It[4];Ji!=null&&(R.za=Ji,R.j.info("SVER="+R.za));const Ui=It[5];Ui!=null&&typeof Ui=="number"&&Ui>0&&(k=1.5*Ui,R.O=k,R.j.info("backChannelRequestTimeoutMs_="+k)),k=R;const Tr=d.g;if(Tr){const go=Tr.g?Tr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(go){var he=k.h;he.g||go.indexOf("spdy")==-1&&go.indexOf("quic")==-1&&go.indexOf("h2")==-1||(he.j=he.l,he.g=new Set,he.h&&(vi(he,he.h),he.h=null))}if(k.G){const _o=Tr.g?Tr.g.getResponseHeader("X-HTTP-Session-Id"):null;_o&&(k.wa=_o,je(k.J,k.G,_o))}}R.I=3,R.l&&R.l.ra(),R.aa&&(R.T=Date.now()-d.F,R.j.info("Handshake RTT: "+R.T+"ms")),k=R;var Ne=d;if(k.na=tl(k,k.L?k.ba:null,k.W),Ne.L){gr(k.h,Ne);var nt=Ne,Ot=k.O;Ot&&(nt.H=Ot),nt.D&&(yt(nt),zt(nt)),k.g=Ne}else Ja(k);R.i.length>0&&Ti(R)}else It[0]!="stop"&&It[0]!="close"||wr(R,7);else R.I==3&&(It[0]=="stop"||It[0]=="close"?It[0]=="stop"?wr(R,7):_t(R):It[0]!="noop"&&R.l&&R.l.qa(It),R.A=0)}}Wn(4)}catch{}}var Ht=class{constructor(d,T){this.g=d,this.map=T}};function Jn(d){this.l=d||10,c.PerformanceNavigationTiming?(d=c.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ss(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function ei(d){return d.h?1:d.g?d.g.size:0}function En(d,T){return d.h?d.h==T:d.g?d.g.has(T):!1}function vi(d,T){d.g?d.g.add(T):d.h=T}function gr(d,T){d.h&&d.h==T?d.h=null:d.g&&d.g.has(T)&&d.g.delete(T)}Jn.prototype.cancel=function(){if(this.i=ct(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function ct(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let T=d.i;for(const R of d.g.values())T=T.concat(R.G);return T}return D(d.i)}var rn=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rt(d,T){if(d){d=d.split("&");for(let R=0;R<d.length;R++){const k=d[R].indexOf("=");let J,he=null;k>=0?(J=d[R].substring(0,k),he=d[R].substring(k+1)):J=d[R],T(J,he?decodeURIComponent(he.replace(/\+/g," ")):"")}}}function ot(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let T;d instanceof ot?(this.l=d.l,Zt(this,d.j),this.o=d.o,this.g=d.g,ti(this,d.u),this.h=d.h,os(this,fo(d.i)),this.m=d.m):d&&(T=String(d).match(rn))?(this.l=!1,Zt(this,T[1]||"",!0),this.o=Yi(T[2]||""),this.g=Yi(T[3]||"",!0),ti(this,T[4]),this.h=Yi(T[5]||"",!0),os(this,T[6]||"",!0),this.m=Yi(T[7]||"")):(this.l=!1,this.i=new Qi(null,this.l))}ot.prototype.toString=function(){const d=[];var T=this.j;T&&d.push(Mr(T,Zo,!0),":");var R=this.g;return(R||T=="file")&&(d.push("//"),(T=this.o)&&d.push(Mr(T,Zo,!0),"@"),d.push(re(R).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),R=this.u,R!=null&&d.push(":",String(R))),(R=this.h)&&(this.g&&R.charAt(0)!="/"&&d.push("/"),d.push(Mr(R,R.charAt(0)=="/"?_r:co,!0))),(R=this.i.toString())&&d.push("?",R),(R=this.m)&&d.push("#",Mr(R,zr)),d.join("")},ot.prototype.resolve=function(d){const T=tt(this);let R=!!d.j;R?Zt(T,d.j):R=!!d.o,R?T.o=d.o:R=!!d.g,R?T.g=d.g:R=d.u!=null;var k=d.h;if(R)ti(T,d.u);else if(R=!!d.h){if(k.charAt(0)!="/")if(this.g&&!this.h)k="/"+k;else{var J=T.h.lastIndexOf("/");J!=-1&&(k=T.h.slice(0,J+1)+k)}if(J=k,J==".."||J==".")k="";else if(J.indexOf("./")!=-1||J.indexOf("/.")!=-1){k=J.lastIndexOf("/",0)==0,J=J.split("/");const he=[];for(let Ne=0;Ne<J.length;){const nt=J[Ne++];nt=="."?k&&Ne==J.length&&he.push(""):nt==".."?((he.length>1||he.length==1&&he[0]!="")&&he.pop(),k&&Ne==J.length&&he.push("")):(he.push(nt),k=!0)}k=he.join("/")}else k=J}return R?T.h=k:R=d.i.toString()!=="",R?os(T,fo(d.i)):R=!!d.m,R&&(T.m=d.m),T};function tt(d){return new ot(d)}function Zt(d,T,R){d.j=R?Yi(T,!0):T,d.j&&(d.j=d.j.replace(/:$/,""))}function ti(d,T){if(T){if(T=Number(T),isNaN(T)||T<0)throw Error("Bad port number "+T);d.u=T}else d.u=null}function os(d,T,R){T instanceof Qi?(d.i=T,Ps(d.i,d.l)):(R||(T=Mr(T,Yt)),d.i=new Qi(T,d.l))}function je(d,T,R){d.i.set(T,R)}function Kt(d){return je(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function Yi(d,T){return d?T?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Mr(d,T,R){return typeof d=="string"?(d=encodeURI(d).replace(T,sn),R&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function sn(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Zo=/[#\/\?@]/g,co=/[#\?:]/g,_r=/[#\?]/g,Yt=/[#\?@]/g,zr=/#/g;function Qi(d,T){this.h=this.g=null,this.i=d||null,this.j=!!T}function Dn(d){d.g||(d.g=new Map,d.h=0,d.i&&rt(d.i,function(T,R){d.add(decodeURIComponent(T.replace(/\+/g," ")),R)}))}t=Qi.prototype,t.add=function(d,T){Dn(this),this.i=null,d=jr(this,d);let R=this.g.get(d);return R||this.g.set(d,R=[]),R.push(T),this.h+=1,this};function $o(d,T){Dn(d),T=jr(d,T),d.g.has(T)&&(d.i=null,d.h-=d.g.get(T).length,d.g.delete(T))}function as(d,T){return Dn(d),T=jr(d,T),d.g.has(T)}t.forEach=function(d,T){Dn(this),this.g.forEach(function(R,k){R.forEach(function(J){d.call(T,J,k,this)},this)},this)};function ho(d,T){Dn(d);let R=[];if(typeof T=="string")as(d,T)&&(R=R.concat(d.g.get(jr(d,T))));else for(d=Array.from(d.g.values()),T=0;T<d.length;T++)R=R.concat(d[T]);return R}t.set=function(d,T){return Dn(this),this.i=null,d=jr(this,d),as(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[T]),this.h+=1,this},t.get=function(d,T){return d?(d=ho(this,d),d.length>0?String(d[0]):T):T};function Is(d,T,R){$o(d,T),R.length>0&&(d.i=null,d.g.set(jr(d,T),D(R)),d.h+=R.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],T=Array.from(this.g.keys());for(let k=0;k<T.length;k++){var R=T[k];const J=re(R);R=ho(this,R);for(let he=0;he<R.length;he++){let Ne=J;R[he]!==""&&(Ne+="="+re(R[he])),d.push(Ne)}}return this.i=d.join("&")};function fo(d){const T=new Qi;return T.i=d.i,d.g&&(T.g=new Map(d.g),T.h=d.h),T}function jr(d,T){return T=String(T),d.j&&(T=T.toLowerCase()),T}function Ps(d,T){T&&!d.j&&(Dn(d),d.i=null,d.g.forEach(function(R,k){const J=k.toLowerCase();k!=J&&($o(this,k),Is(this,J,R))},d)),d.j=T}function bi(d,T){const R=new Mi;if(c.Image){const k=new Image;k.onload=E(wi,R,"TestLoadImage: loaded",!0,T,k),k.onerror=E(wi,R,"TestLoadImage: error",!1,T,k),k.onabort=E(wi,R,"TestLoadImage: abort",!1,T,k),k.ontimeout=E(wi,R,"TestLoadImage: timeout",!1,T,k),c.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=d}else T(!1)}function Go(d,T){const R=new Mi,k=new AbortController,J=setTimeout(()=>{k.abort(),wi(R,"TestPingServer: timeout",!1,T)},1e4);fetch(d,{signal:k.signal}).then(he=>{clearTimeout(J),he.ok?wi(R,"TestPingServer: ok",!0,T):wi(R,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(J),wi(R,"TestPingServer: error",!1,T)})}function wi(d,T,R,k,J){try{J&&(J.onload=null,J.onerror=null,J.onabort=null,J.ontimeout=null),k(R)}catch{}}function Ls(){this.g=new Cs}function Qe(d){this.i=d.Sb||null,this.h=d.ab||!1}x(Qe,lo),Qe.prototype.g=function(){return new ni(this.i,this.h)};function ni(d,T){hn.call(this),this.H=d,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}x(ni,hn),t=ni.prototype,t.open=function(d,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=T,this.readyState=1,zi(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const T={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(T.body=d),(this.H||c).fetch(new Request(this.D,T)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ls(this)),this.readyState=0},t.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,zi(this)),this.g&&(this.readyState=3,zi(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;kt(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function kt(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}t.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var T=d.value?d.value:new Uint8Array(0);(T=this.B.decode(T,{stream:!d.done}))&&(this.response=this.responseText+=T)}d.done?ls(this):zi(this),this.readyState==3&&kt(this)}},t.Oa=function(d){this.g&&(this.response=this.responseText=d,ls(this))},t.Na=function(d){this.g&&(this.response=d,ls(this))},t.ga=function(){this.g&&ls(this)};function ls(d){d.readyState=4,d.l=null,d.j=null,d.B=null,zi(d)}t.setRequestHeader=function(d,T){this.A.append(d,T)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],T=this.h.entries();for(var R=T.next();!R.done;)R=R.value,d.push(R[0]+": "+R[1]),R=T.next();return d.join(`\r
`)};function zi(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(ni.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Ei(d){let T="";return Ye(d,function(R,k){T+=k,T+=":",T+=R,T+=`\r
`}),T}function us(d,T,R){e:{for(k in R){var k=!1;break e}k=!0}k||(R=Ei(R),typeof d=="string"?R!=null&&re(R):je(d,T,R))}function Tt(d){hn.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}x(Tt,hn);var Wi=/^https?$/i,cs=["POST","PUT"];t=Tt.prototype,t.Fa=function(d){this.H=d},t.ea=function(d,T,R,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);T=T?T.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Q.g(),this.g.onreadystatechange=C(y(this.Ca,this));try{this.B=!0,this.g.open(T,String(d),!0),this.B=!1}catch(he){dn(this,he);return}if(d=R||"",R=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var J in k)R.set(J,k[J]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const he of k.keys())R.set(he,k.get(he));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(R.keys()).find(he=>he.toLowerCase()=="content-type"),J=c.FormData&&d instanceof c.FormData,!(Array.prototype.indexOf.call(cs,T,void 0)>=0)||k||J||R.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[he,Ne]of R)this.g.setRequestHeader(he,Ne);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(he){dn(this,he)}};function dn(d,T){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=T,d.o=5,yr(d),Ur(d)}function yr(d){d.A||(d.A=!0,pn(d,"complete"),pn(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,pn(this,"complete"),pn(this,"abort"),Ur(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ur(this,!0)),Tt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Ds(this):this.Xa())},t.Xa=function(){Ds(this)};function Ds(d){if(d.h&&typeof u<"u"){if(d.v&&vr(d)==4)setTimeout(d.Ca.bind(d),0);else if(pn(d,"readystatechange"),vr(d)==4){d.h=!1;try{const he=d.ca();e:switch(he){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var R;if(!(R=T)){var k;if(k=he===0){let Ne=String(d.D).match(rn)[1]||null;!Ne&&c.self&&c.self.location&&(Ne=c.self.location.protocol.slice(0,-1)),k=!Wi.test(Ne?Ne.toLowerCase():"")}R=k}if(R)pn(d,"complete"),pn(d,"success");else{d.o=6;try{var J=vr(d)>2?d.g.statusText:""}catch{J=""}d.l=J+" ["+d.ca()+"]",yr(d)}}finally{Ur(d)}}}}function Ur(d,T){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const R=d.g;d.g=null,T||pn(d,"ready");try{R.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function vr(d){return d.g?d.g.readyState:0}t.ca=function(){try{return vr(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(d){if(this.g){var T=this.g.responseText;return d&&T.indexOf(d)==0&&(T=T.substring(d.length)),Di(T)}};function kn(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function br(d){const T={};d=(d.g&&vr(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<d.length;k++){if(B(d[k]))continue;var R=Re(d[k]);const J=R[0];if(R=R[1],typeof R!="string")continue;R=R.trim();const he=T[J]||[];T[J]=he,he.push(R)}Ae(T,function(k){return k.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Vr(d,T,R){return R&&R.internalChannelParams&&R.internalChannelParams[d]||T}function hs(d){this.za=0,this.i=[],this.j=new Mi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Vr("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Vr("baseRetryDelayMs",5e3,d),this.Za=Vr("retryDelaySeedMs",1e4,d),this.Ta=Vr("forwardChannelMaxRetries",2,d),this.va=Vr("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new Jn(d&&d.concurrentRequestLimit),this.Ba=new Ls,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=hs.prototype,t.ka=8,t.I=1,t.connect=function(d,T,R,k){tn(0),this.W=d,this.H=T||{},R&&k!==void 0&&(this.H.OSID=R,this.H.OAID=k),this.F=this.X,this.J=tl(this,null,this.W),Ti(this)};function _t(d){if(ii(d),d.I==3){var T=d.V++,R=tt(d.J);if(je(R,"SID",d.M),je(R,"RID",T),je(R,"TYPE","terminate"),fs(d,R),T=new Me(d,d.j,T),T.M=2,T.A=Kt(tt(R)),R=!1,c.navigator&&c.navigator.sendBeacon)try{R=c.navigator.sendBeacon(T.A.toString(),"")}catch{}!R&&c.Image&&(new Image().src=T.A,R=!0),R||(T.g=nl(T.j,null),T.g.ea(T.A)),T.F=Date.now(),zt(T)}Er(d)}function ks(d){d.g&&(el(d),d.g.cancel(),d.g=null)}function ii(d){ks(d),d.v&&(c.clearTimeout(d.v),d.v=null),Yo(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&c.clearTimeout(d.m),d.m=null)}function Ti(d){if(!ss(d.h)&&!d.m){d.m=!0;var T=d.Ea;Ce||M(),ke||(Ce(),ke=!0),N.add(T,d),d.D=0}}function mo(d,T){return ei(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=T.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=ki(y(d.Ea,d,T),Wl(d,d.D)),d.D++,!0)}t.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const J=new Me(this,this.j,d);let he=this.o;if(this.U&&(he?(he=H(he),be(he,this.U)):he=this.U),this.u!==null||this.R||(J.J=he,he=null),this.S)e:{for(var T=0,R=0;R<this.i.length;R++){t:{var k=this.i[R];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(T+=k,T>4096){T=R;break e}if(T===4096||R===this.i.length-1){T=R+1;break e}}T=1e3}else T=1e3;T=Ql(this,J,T),R=tt(this.J),je(R,"RID",d),je(R,"CVER",22),this.G&&je(R,"X-HTTP-Session-Id",this.G),fs(this,R),he&&(this.R?T="headers="+re(Ei(he))+"&"+T:this.u&&us(R,this.u,he)),vi(this.h,J),this.Ra&&je(R,"TYPE","init"),this.S?(je(R,"$req",T),je(R,"SID","null"),J.U=!0,Be(J,R,null)):Be(J,R,T),this.I=2}}else this.I==3&&(d?Xa(this,d):this.i.length==0||ss(this.h)||Xa(this))};function Xa(d,T){var R;T?R=T.l:R=d.V++;const k=tt(d.J);je(k,"SID",d.M),je(k,"RID",R),je(k,"AID",d.K),fs(d,k),d.u&&d.o&&us(k,d.u,d.o),R=new Me(d,d.j,R,d.D+1),d.u===null&&(R.J=d.o),T&&(d.i=T.G.concat(d.i)),T=Ql(d,R,1e3),R.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),vi(d.h,R),Be(R,k,T)}function fs(d,T){d.H&&Ye(d.H,function(R,k){je(T,k,R)}),d.l&&Ye({},function(R,k){je(T,k,R)})}function Ql(d,T,R){R=Math.min(d.i.length,R);const k=d.l?y(d.l.Ka,d.l,d):null;e:{var J=d.i;let nt=-1;for(;;){const Ot=["count="+R];nt==-1?R>0?(nt=J[0].g,Ot.push("ofs="+nt)):nt=0:Ot.push("ofs="+nt);let It=!0;for(let on=0;on<R;on++){var he=J[on].g;const Xi=J[on].map;if(he-=nt,he<0)nt=Math.max(0,J[on].g-100),It=!1;else try{he="req"+he+"_"||"";try{var Ne=Xi instanceof Map?Xi:Object.entries(Xi);for(const[Ji,Ui]of Ne){let Tr=Ui;p(Ui)&&(Tr=Cn(Ui)),Ot.push(he+Ji+"="+encodeURIComponent(Tr))}}catch(Ji){throw Ot.push(he+"type="+encodeURIComponent("_badmap")),Ji}}catch{k&&k(Xi)}}if(It){Ne=Ot.join("&");break e}}Ne=void 0}return d=d.i.splice(0,R),T.G=d,Ne}function Ja(d){if(!d.g&&!d.v){d.Y=1;var T=d.Da;Ce||M(),ke||(Ce(),ke=!0),N.add(T,d),d.A=0}}function po(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=ki(y(d.Da,d),Wl(d,d.A)),d.A++,!0)}t.Da=function(){if(this.v=null,Ko(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=ki(y(this.Wa,this),d)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,tn(10),ks(this),Ko(this))};function el(d){d.B!=null&&(c.clearTimeout(d.B),d.B=null)}function Ko(d){d.g=new Me(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var T=tt(d.na);je(T,"RID","rpc"),je(T,"SID",d.M),je(T,"AID",d.K),je(T,"CI",d.F?"0":"1"),!d.F&&d.ia&&je(T,"TO",d.ia),je(T,"TYPE","xmlhttp"),fs(d,T),d.u&&d.o&&us(T,d.u,d.o),d.O&&(d.g.H=d.O);var R=d.g;d=d.ba,R.M=1,R.A=Kt(tt(T)),R.u=null,R.R=!0,Ve(R,d)}t.Va=function(){this.C!=null&&(this.C=null,ks(this),po(this),tn(19))};function Yo(d){d.C!=null&&(c.clearTimeout(d.C),d.C=null)}function ji(d,T){var R=null;if(d.g==T){Yo(d),el(d),d.g=null;var k=2}else if(En(d.h,T))R=T.G,gr(d.h,T),k=1;else return;if(d.I!=0){if(T.o)if(k==1){R=T.u?T.u.length:0,T=Date.now()-T.F;var J=d.D;k=Os(),pn(k,new Gi(k,R)),Ti(d)}else Ja(d);else if(J=T.m,J==3||J==0&&T.X>0||!(k==1&&mo(d,T)||k==2&&po(d)))switch(R&&R.length>0&&(T=d.h,T.i=T.i.concat(R)),J){case 1:wr(d,5);break;case 4:wr(d,10);break;case 3:wr(d,6);break;default:wr(d,2)}}}function Wl(d,T){let R=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(R*=2),R*T}function wr(d,T){if(d.j.info("Error code "+T),T==2){var R=y(d.bb,d),k=d.Ua;const J=!k;k=new ot(k||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Zt(k,"https"),Kt(k),J?bi(k.toString(),R):Go(k.toString(),R)}else tn(2);d.I=0,d.l&&d.l.pa(T),Er(d),ii(d)}t.bb=function(d){d?(this.j.info("Successfully pinged google.com"),tn(2)):(this.j.info("Failed to ping google.com"),tn(1))};function Er(d){if(d.I=0,d.ja=[],d.l){const T=ct(d.h);(T.length!=0||d.i.length!=0)&&(I(d.ja,T),I(d.ja,d.i),d.h.i.length=0,D(d.i),d.i.length=0),d.l.oa()}}function tl(d,T,R){var k=R instanceof ot?tt(R):new ot(R);if(k.g!="")T&&(k.g=T+"."+k.g),ti(k,k.u);else{var J=c.location;k=J.protocol,T=T?T+"."+J.hostname:J.hostname,J=+J.port;const he=new ot(null);k&&Zt(he,k),T&&(he.g=T),J&&ti(he,J),R&&(he.h=R),k=he}return R=d.G,T=d.wa,R&&T&&je(k,R,T),je(k,"VER",d.ka),fs(d,k),k}function nl(d,T,R){if(T&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return T=d.Aa&&!d.ma?new Tt(new Qe({ab:R})):new Tt(d.ma),T.Fa(d.L),T}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Qo(){}t=Qo.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Ms(){}Ms.prototype.g=function(d,T){return new ri(d,T)};function ri(d,T){hn.call(this),this.g=new hs(T),this.l=d,this.h=T&&T.messageUrlParams||null,d=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(d?d["X-WebChannel-Content-Type"]=T.messageContentType:d={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.sa&&(d?d["X-WebChannel-Client-Profile"]=T.sa:d={"X-WebChannel-Client-Profile":T.sa}),this.g.U=d,(d=T&&T.Qb)&&!B(d)&&(this.g.u=d),this.A=T&&T.supportsCrossDomainXhr||!1,this.v=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!B(T)&&(this.g.G=T,d=this.h,d!==null&&T in d&&(d=this.h,T in d&&delete d[T])),this.j=new ds(this)}x(ri,hn),ri.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ri.prototype.close=function(){_t(this.g)},ri.prototype.o=function(d){var T=this.g;if(typeof d=="string"){var R={};R.__data__=d,d=R}else this.v&&(R={},R.__data__=Cn(d),d=R);T.i.push(new Ht(T.Ya++,d)),T.I==3&&Ti(T)},ri.prototype.N=function(){this.g.l=null,delete this.j,_t(this.g),delete this.g,ri.Z.N.call(this)};function il(d){Ft.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var T=d.__sm__;if(T){e:{for(const R in T){d=R;break e}d=void 0}(this.i=d)&&(d=this.i,T=T!==null&&d in T?T[d]:void 0),this.data=T}else this.data=d}x(il,Ft);function Xl(){Qn.call(this),this.status=1}x(Xl,Qn);function ds(d){this.g=d}x(ds,Qo),ds.prototype.ra=function(){pn(this.g,"a")},ds.prototype.qa=function(d){pn(this.g,new il(d))},ds.prototype.pa=function(d){pn(this.g,new Xl)},ds.prototype.oa=function(){pn(this.g,"b")},Ms.prototype.createWebChannel=Ms.prototype.g,ri.prototype.send=ri.prototype.o,ri.prototype.open=ri.prototype.m,ri.prototype.close=ri.prototype.close,US=function(){return new Ms},jS=function(){return Os()},zS=ln,A_={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},rs.NO_ERROR=0,rs.TIMEOUT=8,rs.HTTP_ERROR=6,Od=rs,Z.COMPLETE="complete",MS=Z,Ns.EventType=yi,yi.OPEN="a",yi.CLOSE="b",yi.ERROR="c",yi.MESSAGE="d",hn.prototype.listen=hn.prototype.J,hh=Ns,Tt.prototype.listenOnce=Tt.prototype.K,Tt.prototype.getLastError=Tt.prototype.Ha,Tt.prototype.getLastErrorCode=Tt.prototype.ya,Tt.prototype.getStatus=Tt.prototype.ca,Tt.prototype.getResponseJson=Tt.prototype.La,Tt.prototype.getResponseText=Tt.prototype.la,Tt.prototype.send=Tt.prototype.ea,Tt.prototype.setWithCredentials=Tt.prototype.Fa,kS=Tt}).apply(typeof cd<"u"?cd:typeof self<"u"?self:typeof window<"u"?window:{});const TE="@firebase/firestore",xE="4.9.3";class Ci{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ci.UNAUTHENTICATED=new Ci(null),Ci.GOOGLE_CREDENTIALS=new Ci("google-credentials-uid"),Ci.FIRST_PARTY=new Ci("first-party-uid"),Ci.MOCK_USER=new Ci("mock-user");let cc="12.7.0";const Bl=new dy("@firebase/firestore");function Iu(){return Bl.logLevel}function Fe(t,...e){if(Bl.logLevel<=At.DEBUG){const n=e.map(xy);Bl.debug(`Firestore (${cc}): ${t}`,...n)}}function Vo(t,...e){if(Bl.logLevel<=At.ERROR){const n=e.map(xy);Bl.error(`Firestore (${cc}): ${t}`,...n)}}function Wu(t,...e){if(Bl.logLevel<=At.WARN){const n=e.map(xy);Bl.warn(`Firestore (${cc}): ${t}`,...n)}}function xy(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function ut(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,VS(t,r,n)}function VS(t,e,n){let r=`FIRESTORE (${cc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Vo(r),new Error(r)}function bn(t,e,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,t||VS(e,o,r)}function Lt(t,e){return t}const Le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ke extends Bo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Fu{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class BS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class oD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Ci.UNAUTHENTICATED)))}shutdown(){}}class aD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class lD{constructor(e){this.t=e,this.currentUser=Ci.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){bn(this.o===void 0,42304);let r=this.i;const o=_=>this.i!==r?(r=this.i,n(_)):Promise.resolve();let u=new Fu;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Fu,e.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const _=u;e.enqueueRetryable((async()=>{await _.promise,await o(this.currentUser)}))},p=_=>{Fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(Fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Fu)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(bn(typeof r.accessToken=="string",31837,{l:r}),new BS(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return bn(e===null||typeof e=="string",2055,{h:e}),new Ci(e)}}class uD{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Ci.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class cD{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new uD(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Ci.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class SE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class hD{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Wr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){bn(this.o===void 0,3512);const r=u=>{u.error!=null&&Fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.m;return this.m=u.token,Fe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>r(u)))};const o=u=>{Fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):Fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new SE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(bn(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new SE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function fD(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class Sy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=fD(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<n&&(r+=e.charAt(o[u]%62))}return r}}function Ct(t,e){return t<e?-1:t>e?1:0}function R_(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const o=t.charAt(r),u=e.charAt(r);if(o!==u)return Jg(o)===Jg(u)?Ct(o,u):Jg(o)?1:-1}return Ct(t.length,e.length)}const dD=55296,mD=57343;function Jg(t){const e=t.charCodeAt(0);return e>=dD&&e<=mD}function Xu(t,e,n){return t.length===e.length&&t.every(((r,o)=>n(r,e[o])))}const AE="__name__";class Ys{constructor(e,n,r){n===void 0?n=0:n>e.length&&ut(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ut(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ys.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ys?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const u=Ys.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ct(e.length,n.length)}static compareSegments(e,n){const r=Ys.isNumericId(e),o=Ys.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?Ys.extractNumericId(e).compare(Ys.extractNumericId(n)):R_(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ja.fromString(e.substring(4,e.length-2))}}class vn extends Ys{construct(e,n,r){return new vn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ke(Le.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((o=>o.length>0)))}return new vn(n)}static emptyPath(){return new vn([])}}const pD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qi extends Ys{construct(e,n,r){return new qi(e,n,r)}static isValidIdentifier(e){return pD.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qi.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===AE}static keyField(){return new qi([AE])}static fromServerFormat(e){const n=[];let r="",o=0;const u=()=>{if(r.length===0)throw new Ke(Le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new Ke(Le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new Ke(Le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,o+=2}else p==="`"?(c=!c,o++):p!=="."||c?(r+=p,o++):(u(),o++)}if(u(),c)throw new Ke(Le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qi(n)}static emptyPath(){return new qi([])}}class Xe{constructor(e){this.path=e}static fromPath(e){return new Xe(vn.fromString(e))}static fromName(e){return new Xe(vn.fromString(e).popFirst(5))}static empty(){return new Xe(vn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&vn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return vn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Xe(new vn(e.slice()))}}function gD(t,e,n){if(!n)throw new Ke(Le.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function _D(t,e,n,r){if(e===!0&&r===!0)throw new Ke(Le.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function RE(t){if(!Xe.isDocumentKey(t))throw new Ke(Le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function yD(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function vD(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ut(12329,{type:typeof t})}function Id(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ke(Le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=vD(t);throw new Ke(Le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Fn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Zh(t,e){if(!yD(t))throw new Ke(Le.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const o=e[r].typeString,u="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const c=t[r];if(o&&typeof c!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&c!==u.value){n=`Expected '${r}' field to equal '${u.value}'`;break}}if(n)throw new Ke(Le.INVALID_ARGUMENT,n);return!0}const CE=-62135596800,NE=1e6;class Bn{static now(){return Bn.fromMillis(Date.now())}static fromDate(e){return Bn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*NE);return new Bn(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ke(Le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ke(Le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<CE)throw new Ke(Le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ke(Le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/NE}_compareTo(e){return this.seconds===e.seconds?Ct(this.nanoseconds,e.nanoseconds):Ct(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Bn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Zh(e,Bn._jsonSchema))return new Bn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-CE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Bn._jsonSchemaVersion="firestore/timestamp/1.0",Bn._jsonSchema={type:Fn("string",Bn._jsonSchemaVersion),seconds:Fn("number"),nanoseconds:Fn("number")};class lt{static fromTimestamp(e){return new lt(e)}static min(){return new lt(new Bn(0,0))}static max(){return new lt(new Bn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Nh=-1;function bD(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,o=lt.fromTimestamp(r===1e9?new Bn(n+1,0):new Bn(n,r));return new Fa(o,Xe.empty(),e)}function wD(t){return new Fa(t.readTime,t.key,Nh)}class Fa{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Fa(lt.min(),Xe.empty(),Nh)}static max(){return new Fa(lt.max(),Xe.empty(),Nh)}}function ED(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Xe.comparator(t.documentKey,e.documentKey),n!==0?n:Ct(t.largestBatchId,e.largestBatchId))}const TD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function xm(t){if(t.code!==Le.FAILED_PRECONDITION||t.message!==TD)throw t;Fe("LocalStore","Unexpectedly lost primary lease")}class ve{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ut(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ve(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(r,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ve?n:ve.resolve(n)}catch(n){return ve.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ve.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ve.reject(n)}static resolve(e){return new ve(((n,r)=>{n(e)}))}static reject(e){return new ve(((n,r)=>{r(e)}))}static waitFor(e){return new ve(((n,r)=>{let o=0,u=0,c=!1;e.forEach((p=>{++o,p.next((()=>{++u,c&&u===o&&n()}),(_=>r(_)))})),c=!0,u===o&&n()}))}static or(e){let n=ve.resolve(!1);for(const r of e)n=n.next((o=>o?ve.resolve(o):r()));return n}static forEach(e,n){const r=[];return e.forEach(((o,u)=>{r.push(n.call(this,o,u))})),this.waitFor(r)}static mapArray(e,n){return new ve(((r,o)=>{const u=e.length,c=new Array(u);let p=0;for(let _=0;_<u;_++){const y=_;n(e[y]).next((E=>{c[y]=E,++p,p===u&&r(c)}),(E=>o(E)))}}))}static doWhile(e,n){return new ve(((r,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):r()};u()}))}}function SD(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function hc(t){return t.name==="IndexedDbTransactionError"}class Sm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Sm.ce=-1;const AD=-1;function Am(t){return t==null}function C_(t){return t===0&&1/t==-1/0}const FS="";function RD(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=OE(e)),e=CD(t.get(n),e);return OE(e)}function CD(t,e){let n=e;const r=t.length;for(let o=0;o<r;o++){const u=t.charAt(o);switch(u){case"\0":n+="";break;case FS:n+="";break;default:n+=u}}return n}function OE(t){return t+FS+""}function IE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function $h(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ND(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Ln{constructor(e,n){this.comparator=e,this.root=n||pi.EMPTY}insert(e,n){return new Ln(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,pi.BLACK,null,null))}remove(e){return new Ln(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pi.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hd(this.root,e,this.comparator,!1)}getReverseIterator(){return new hd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hd(this.root,e,this.comparator,!0)}}class hd{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?r(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class pi{constructor(e,n,r,o,u){this.key=e,this.value=n,this.color=r??pi.RED,this.left=o??pi.EMPTY,this.right=u??pi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,u){return new pi(e??this.key,n??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const u=r(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,r),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return pi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return pi.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,pi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,pi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ut(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ut(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ut(27949);return e+(this.isRed()?0:1)}}pi.EMPTY=null,pi.RED=!0,pi.BLACK=!1;pi.EMPTY=new class{constructor(){this.size=0}get key(){throw ut(57766)}get value(){throw ut(16141)}get color(){throw ut(16727)}get left(){throw ut(29726)}get right(){throw ut(36894)}copy(e,n,r,o,u){return this}insert(e,n,r){return new pi(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Gn{constructor(e){this.comparator=e,this.data=new Ln(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new PE(this.data.getIterator())}getIteratorFrom(e){return new PE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Gn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Gn(this.comparator);return n.data=e,n}}class PE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class La{constructor(e){this.fields=e,e.sort(qi.comparator)}static empty(){return new La([])}unionWith(e){let n=new Gn(qi.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new La(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Xu(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class HS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class gi{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new HS("Invalid base64 string: "+u):u}})(e);return new gi(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u})(e);return new gi(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ct(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gi.EMPTY_BYTE_STRING=new gi("");const OD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ha(t){if(bn(!!t,39018),typeof t=="string"){let e=0;const n=OD.exec(t);if(bn(!!n,46558,{timestamp:t}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:In(t.seconds),nanos:In(t.nanos)}}function In(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function qa(t){return typeof t=="string"?gi.fromBase64String(t):gi.fromUint8Array(t)}const qS="server_timestamp",ZS="__type__",$S="__previous_value__",GS="__local_write_time__";function Ay(t){return(t?.mapValue?.fields||{})[ZS]?.stringValue===qS}function Rm(t){const e=t.mapValue.fields[$S];return Ay(e)?Rm(e):e}function Oh(t){const e=Ha(t.mapValue.fields[GS].timestampValue);return new Bn(e.seconds,e.nanos)}class ID{constructor(e,n,r,o,u,c,p,_,y,E){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=E}}const em="(default)";class Ih{constructor(e,n){this.projectId=e,this.database=n||em}static empty(){return new Ih("","")}get isDefaultDatabase(){return this.database===em}isEqual(e){return e instanceof Ih&&e.projectId===this.projectId&&e.database===this.database}}const PD="__type__",LD="__max__",fd={mapValue:{}},DD="__vector__",N_="value";function Za(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ay(t)?4:MD(t)?9007199254740991:kD(t)?10:11:ut(28295,{value:t})}function io(t,e){if(t===e)return!0;const n=Za(t);if(n!==Za(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Oh(t).isEqual(Oh(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=Ha(o.timestampValue),p=Ha(u.timestampValue);return c.seconds===p.seconds&&c.nanos===p.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(o,u){return qa(o.bytesValue).isEqual(qa(u.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(o,u){return In(o.geoPointValue.latitude)===In(u.geoPointValue.latitude)&&In(o.geoPointValue.longitude)===In(u.geoPointValue.longitude)})(t,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return In(o.integerValue)===In(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=In(o.doubleValue),p=In(u.doubleValue);return c===p?C_(c)===C_(p):isNaN(c)&&isNaN(p)}return!1})(t,e);case 9:return Xu(t.arrayValue.values||[],e.arrayValue.values||[],io);case 10:case 11:return(function(o,u){const c=o.mapValue.fields||{},p=u.mapValue.fields||{};if(IE(c)!==IE(p))return!1;for(const _ in c)if(c.hasOwnProperty(_)&&(p[_]===void 0||!io(c[_],p[_])))return!1;return!0})(t,e);default:return ut(52216,{left:t})}}function Ph(t,e){return(t.values||[]).find((n=>io(n,e)))!==void 0}function Ju(t,e){if(t===e)return 0;const n=Za(t),r=Za(e);if(n!==r)return Ct(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ct(t.booleanValue,e.booleanValue);case 2:return(function(u,c){const p=In(u.integerValue||u.doubleValue),_=In(c.integerValue||c.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(t,e);case 3:return LE(t.timestampValue,e.timestampValue);case 4:return LE(Oh(t),Oh(e));case 5:return R_(t.stringValue,e.stringValue);case 6:return(function(u,c){const p=qa(u),_=qa(c);return p.compareTo(_)})(t.bytesValue,e.bytesValue);case 7:return(function(u,c){const p=u.split("/"),_=c.split("/");for(let y=0;y<p.length&&y<_.length;y++){const E=Ct(p[y],_[y]);if(E!==0)return E}return Ct(p.length,_.length)})(t.referenceValue,e.referenceValue);case 8:return(function(u,c){const p=Ct(In(u.latitude),In(c.latitude));return p!==0?p:Ct(In(u.longitude),In(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return DE(t.arrayValue,e.arrayValue);case 10:return(function(u,c){const p=u.fields||{},_=c.fields||{},y=p[N_]?.arrayValue,E=_[N_]?.arrayValue,x=Ct(y?.values?.length||0,E?.values?.length||0);return x!==0?x:DE(y,E)})(t.mapValue,e.mapValue);case 11:return(function(u,c){if(u===fd.mapValue&&c===fd.mapValue)return 0;if(u===fd.mapValue)return 1;if(c===fd.mapValue)return-1;const p=u.fields||{},_=Object.keys(p),y=c.fields||{},E=Object.keys(y);_.sort(),E.sort();for(let x=0;x<_.length&&x<E.length;++x){const C=R_(_[x],E[x]);if(C!==0)return C;const D=Ju(p[_[x]],y[E[x]]);if(D!==0)return D}return Ct(_.length,E.length)})(t.mapValue,e.mapValue);default:throw ut(23264,{he:n})}}function LE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ct(t,e);const n=Ha(t),r=Ha(e),o=Ct(n.seconds,r.seconds);return o!==0?o:Ct(n.nanos,r.nanos)}function DE(t,e){const n=t.values||[],r=e.values||[];for(let o=0;o<n.length&&o<r.length;++o){const u=Ju(n[o],r[o]);if(u)return u}return Ct(n.length,r.length)}function ec(t){return O_(t)}function O_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Ha(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return qa(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Xe.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",o=!0;for(const u of n.values||[])o?o=!1:r+=",",r+=O_(u);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const c of r)u?u=!1:o+=",",o+=`${c}:${O_(n.fields[c])}`;return o+"}"})(t.mapValue):ut(61005,{value:t})}function Pd(t){switch(Za(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Rm(t);return e?16+Pd(e):16;case 5:return 2*t.stringValue.length;case 6:return qa(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+Pd(u)),0)})(t.arrayValue);case 10:case 11:return(function(r){let o=0;return $h(r.fields,((u,c)=>{o+=u.length+Pd(c)})),o})(t.mapValue);default:throw ut(13486,{value:t})}}function I_(t){return!!t&&"integerValue"in t}function Ry(t){return!!t&&"arrayValue"in t}function kE(t){return!!t&&"nullValue"in t}function ME(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function e_(t){return!!t&&"mapValue"in t}function kD(t){return(t?.mapValue?.fields||{})[PD]?.stringValue===DD}function bh(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return $h(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=bh(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=bh(t.arrayValue.values[n]);return e}return{...t}}function MD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===LD}class Qs{constructor(e){this.value=e}static empty(){return new Qs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!e_(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=bh(n)}setAll(e){let n=qi.emptyPath(),r={},o=[];e.forEach(((c,p)=>{if(!n.isImmediateParentOf(p)){const _=this.getFieldsMap(n);this.applyChanges(_,r,o),r={},o=[],n=p.popLast()}c?r[p.lastSegment()]=bh(c):o.push(p.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,r,o)}delete(e){const n=this.field(e.popLast());e_(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return io(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];e_(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){$h(n,((o,u)=>e[o]=u));for(const o of r)delete e[o]}clone(){return new Qs(bh(this.value))}}class Ni{constructor(e,n,r,o,u,c,p){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=u,this.data=c,this.documentState=p}static newInvalidDocument(e){return new Ni(e,0,lt.min(),lt.min(),lt.min(),Qs.empty(),0)}static newFoundDocument(e,n,r,o){return new Ni(e,1,n,lt.min(),r,o,0)}static newNoDocument(e,n){return new Ni(e,2,n,lt.min(),lt.min(),Qs.empty(),0)}static newUnknownDocument(e,n){return new Ni(e,3,n,lt.min(),lt.min(),Qs.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(lt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=lt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ni&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ni(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class tm{constructor(e,n){this.position=e,this.inclusive=n}}function zE(t,e,n){let r=0;for(let o=0;o<t.position.length;o++){const u=e[o],c=t.position[o];if(u.field.isKeyField()?r=Xe.comparator(Xe.fromName(c.referenceValue),n.key):r=Ju(c,n.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function jE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!io(t.position[n],e.position[n]))return!1;return!0}class nm{constructor(e,n="asc"){this.field=e,this.dir=n}}function zD(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class KS{}class $n extends KS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new UD(e,n,r):n==="array-contains"?new FD(e,r):n==="in"?new HD(e,r):n==="not-in"?new qD(e,r):n==="array-contains-any"?new ZD(e,r):new $n(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new VD(e,r):new BD(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ju(n,this.value)):n!==null&&Za(this.value)===Za(n)&&this.matchesComparison(Ju(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ut(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ro extends KS{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ro(e,n)}matches(e){return YS(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function YS(t){return t.op==="and"}function QS(t){return jD(t)&&YS(t)}function jD(t){for(const e of t.filters)if(e instanceof ro)return!1;return!0}function P_(t){if(t instanceof $n)return t.field.canonicalString()+t.op.toString()+ec(t.value);if(QS(t))return t.filters.map((e=>P_(e))).join(",");{const e=t.filters.map((n=>P_(n))).join(",");return`${t.op}(${e})`}}function WS(t,e){return t instanceof $n?(function(r,o){return o instanceof $n&&r.op===o.op&&r.field.isEqual(o.field)&&io(r.value,o.value)})(t,e):t instanceof ro?(function(r,o){return o instanceof ro&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,c,p)=>u&&WS(c,o.filters[p])),!0):!1})(t,e):void ut(19439)}function XS(t){return t instanceof $n?(function(n){return`${n.field.canonicalString()} ${n.op} ${ec(n.value)}`})(t):t instanceof ro?(function(n){return n.op.toString()+" {"+n.getFilters().map(XS).join(" ,")+"}"})(t):"Filter"}class UD extends $n{constructor(e,n,r){super(e,n,r),this.key=Xe.fromName(r.referenceValue)}matches(e){const n=Xe.comparator(e.key,this.key);return this.matchesComparison(n)}}class VD extends $n{constructor(e,n){super(e,"in",n),this.keys=JS("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class BD extends $n{constructor(e,n){super(e,"not-in",n),this.keys=JS("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function JS(t,e){return(e.arrayValue?.values||[]).map((n=>Xe.fromName(n.referenceValue)))}class FD extends $n{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ry(n)&&Ph(n.arrayValue,this.value)}}class HD extends $n{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ph(this.value.arrayValue,n)}}class qD extends $n{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ph(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ph(this.value.arrayValue,n)}}class ZD extends $n{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ry(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Ph(this.value.arrayValue,r)))}}class $D{constructor(e,n=null,r=[],o=[],u=null,c=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=c,this.endAt=p,this.Te=null}}function UE(t,e=null,n=[],r=[],o=null,u=null,c=null){return new $D(t,e,n,r,o,u,c)}function Cy(t){const e=Lt(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>P_(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),Am(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>ec(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>ec(r))).join(",")),e.Te=n}return e.Te}function Ny(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!zD(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!WS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!jE(t.startAt,e.startAt)&&jE(t.endAt,e.endAt)}function L_(t){return Xe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class Cm{constructor(e,n=null,r=[],o=[],u=null,c="F",p=null,_=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=c,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function GD(t,e,n,r,o,u,c,p){return new Cm(t,e,n,r,o,u,c,p)}function Oy(t){return new Cm(t)}function VE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function KD(t){return t.collectionGroup!==null}function wh(t){const e=Lt(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let p=new Gn(qi.comparator);return c.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new nm(u,r))})),n.has(qi.keyField().canonicalString())||e.Ie.push(new nm(qi.keyField(),r))}return e.Ie}function to(t){const e=Lt(t);return e.Ee||(e.Ee=YD(e,wh(t))),e.Ee}function YD(t,e){if(t.limitType==="F")return UE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new nm(o.field,u)}));const n=t.endAt?new tm(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new tm(t.startAt.position,t.startAt.inclusive):null;return UE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function D_(t,e,n){return new Cm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Nm(t,e){return Ny(to(t),to(e))&&t.limitType===e.limitType}function eA(t){return`${Cy(to(t))}|lt:${t.limitType}`}function Pu(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((o=>XS(o))).join(", ")}]`),Am(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((o=>ec(o))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((o=>ec(o))).join(",")),`Target(${r})`})(to(t))}; limitType=${t.limitType})`}function Om(t,e){return e.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):Xe.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(t,e)&&(function(r,o){for(const u of wh(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(t,e)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(t,e)&&(function(r,o){return!(r.startAt&&!(function(c,p,_){const y=zE(c,p,_);return c.inclusive?y<=0:y<0})(r.startAt,wh(r),o)||r.endAt&&!(function(c,p,_){const y=zE(c,p,_);return c.inclusive?y>=0:y>0})(r.endAt,wh(r),o))})(t,e)}function QD(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function tA(t){return(e,n)=>{let r=!1;for(const o of wh(t)){const u=WD(o,e,n);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function WD(t,e,n){const r=t.field.isKeyField()?Xe.comparator(e.key,n.key):(function(u,c,p){const _=c.data.field(u),y=p.data.field(u);return _!==null&&y!==null?Ju(_,y):ut(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ut(19790,{direction:t.dir})}}class Gl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){$h(this.inner,((n,r)=>{for(const[o,u]of r)e(o,u)}))}isEmpty(){return ND(this.inner)}size(){return this.innerSize}}const XD=new Ln(Xe.comparator);function $a(){return XD}const nA=new Ln(Xe.comparator);function fh(...t){let e=nA;for(const n of t)e=e.insert(n.key,n);return e}function JD(t){let e=nA;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Pl(){return Eh()}function iA(){return Eh()}function Eh(){return new Gl((t=>t.toString()),((t,e)=>t.isEqual(e)))}const ek=new Gn(Xe.comparator);function Mt(...t){let e=ek;for(const n of t)e=e.add(n);return e}const tk=new Gn(Ct);function nk(){return tk}function ik(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:C_(e)?"-0":e}}function rk(t){return{integerValue:""+t}}class Im{constructor(){this._=void 0}}function sk(t,e,n){return t instanceof k_?(function(o,u){const c={fields:{[ZS]:{stringValue:qS},[GS]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Ay(u)&&(u=Rm(u)),u&&(c.fields[$S]=u),{mapValue:c}})(n,e):t instanceof im?rA(t,e):t instanceof rm?sA(t,e):(function(o,u){const c=ak(o,u),p=BE(c)+BE(o.Ae);return I_(c)&&I_(o.Ae)?rk(p):ik(o.serializer,p)})(t,e)}function ok(t,e,n){return t instanceof im?rA(t,e):t instanceof rm?sA(t,e):n}function ak(t,e){return t instanceof M_?(function(r){return I_(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(e)?e:{integerValue:0}:null}class k_ extends Im{}class im extends Im{constructor(e){super(),this.elements=e}}function rA(t,e){const n=oA(e);for(const r of t.elements)n.some((o=>io(o,r)))||n.push(r);return{arrayValue:{values:n}}}class rm extends Im{constructor(e){super(),this.elements=e}}function sA(t,e){let n=oA(e);for(const r of t.elements)n=n.filter((o=>!io(o,r)));return{arrayValue:{values:n}}}class M_ extends Im{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function BE(t){return In(t.integerValue||t.doubleValue)}function oA(t){return Ry(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function lk(t,e){return t.field.isEqual(e.field)&&(function(r,o){return r instanceof im&&o instanceof im||r instanceof rm&&o instanceof rm?Xu(r.elements,o.elements,io):r instanceof M_&&o instanceof M_?io(r.Ae,o.Ae):r instanceof k_&&o instanceof k_})(t.transform,e.transform)}class Dl{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Dl}static exists(e){return new Dl(void 0,e)}static updateTime(e){return new Dl(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ld(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Iy{}function aA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ck(t.key,Dl.none()):new Py(t.key,t.data,Dl.none());{const n=t.data,r=Qs.empty();let o=new Gn(qi.comparator);for(let u of e.fields)if(!o.has(u)){let c=n.field(u);c===null&&u.length>1&&(u=u.popLast(),c=n.field(u)),c===null?r.delete(u):r.set(u,c),o=o.add(u)}return new Pm(t.key,r,new La(o.toArray()),Dl.none())}}function uk(t,e,n){t instanceof Py?(function(o,u,c){const p=o.value.clone(),_=HE(o.fieldTransforms,u,c.transformResults);p.setAll(_),u.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(t,e,n):t instanceof Pm?(function(o,u,c){if(!Ld(o.precondition,u))return void u.convertToUnknownDocument(c.version);const p=HE(o.fieldTransforms,u,c.transformResults),_=u.data;_.setAll(lA(o)),_.setAll(p),u.convertToFoundDocument(c.version,_).setHasCommittedMutations()})(t,e,n):(function(o,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function Th(t,e,n,r){return t instanceof Py?(function(u,c,p,_){if(!Ld(u.precondition,c))return p;const y=u.value.clone(),E=qE(u.fieldTransforms,_,c);return y.setAll(E),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),null})(t,e,n,r):t instanceof Pm?(function(u,c,p,_){if(!Ld(u.precondition,c))return p;const y=qE(u.fieldTransforms,_,c),E=c.data;return E.setAll(lA(u)),E.setAll(y),c.convertToFoundDocument(c.version,E).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((x=>x.field)))})(t,e,n,r):(function(u,c,p){return Ld(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):p})(t,e,n)}function FE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Xu(r,o,((u,c)=>lk(u,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Py extends Iy{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Pm extends Iy{constructor(e,n,r,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function lA(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function HE(t,e,n){const r=new Map;bn(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let o=0;o<n.length;o++){const u=t[o],c=u.transform,p=e.data.field(u.field);r.set(u.field,ok(c,p,n[o]))}return r}function qE(t,e,n){const r=new Map;for(const o of t){const u=o.transform,c=n.data.field(o.field);r.set(o.field,sk(u,c,e))}return r}class ck extends Iy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hk{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&uk(u,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Th(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Th(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=iA();return this.mutations.forEach((o=>{const u=e.get(o.key),c=u.overlayedDocument;let p=this.applyToLocalView(c,u.mutatedFields);p=n.has(o.key)?null:p;const _=aA(c,p);_!==null&&r.set(o.key,_),c.isValidDocument()||c.convertToNoDocument(lt.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Mt())}isEqual(e){return this.batchId===e.batchId&&Xu(this.mutations,e.mutations,((n,r)=>FE(n,r)))&&Xu(this.baseMutations,e.baseMutations,((n,r)=>FE(n,r)))}}class fk{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class dk{constructor(e,n){this.count=e,this.unchangedNames=n}}var Vn,Pt;function uA(t){if(t===void 0)return Vo("GRPC error has no .code"),Le.UNKNOWN;switch(t){case Vn.OK:return Le.OK;case Vn.CANCELLED:return Le.CANCELLED;case Vn.UNKNOWN:return Le.UNKNOWN;case Vn.DEADLINE_EXCEEDED:return Le.DEADLINE_EXCEEDED;case Vn.RESOURCE_EXHAUSTED:return Le.RESOURCE_EXHAUSTED;case Vn.INTERNAL:return Le.INTERNAL;case Vn.UNAVAILABLE:return Le.UNAVAILABLE;case Vn.UNAUTHENTICATED:return Le.UNAUTHENTICATED;case Vn.INVALID_ARGUMENT:return Le.INVALID_ARGUMENT;case Vn.NOT_FOUND:return Le.NOT_FOUND;case Vn.ALREADY_EXISTS:return Le.ALREADY_EXISTS;case Vn.PERMISSION_DENIED:return Le.PERMISSION_DENIED;case Vn.FAILED_PRECONDITION:return Le.FAILED_PRECONDITION;case Vn.ABORTED:return Le.ABORTED;case Vn.OUT_OF_RANGE:return Le.OUT_OF_RANGE;case Vn.UNIMPLEMENTED:return Le.UNIMPLEMENTED;case Vn.DATA_LOSS:return Le.DATA_LOSS;default:return ut(39323,{code:t})}}(Pt=Vn||(Vn={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";function mk(){return new TextEncoder}const pk=new ja([4294967295,4294967295],0);function ZE(t){const e=mk().encode(t),n=new DS;return n.update(e),new Uint8Array(n.digest())}function $E(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ja([n,r],0),new ja([o,u],0)]}class Ly{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new dh(`Invalid padding: ${n}`);if(r<0)throw new dh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new dh(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new dh(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ja.fromNumber(this.ge)}ye(e,n,r){let o=e.add(n.multiply(ja.fromNumber(r)));return o.compare(pk)===1&&(o=new ja([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=ZE(e),[r,o]=$E(n);for(let u=0;u<this.hashCount;u++){const c=this.ye(r,o,u);if(!this.we(c))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),c=new Ly(u,o,n);return r.forEach((p=>c.insert(p))),c}insert(e){if(this.ge===0)return;const n=ZE(e),[r,o]=$E(n);for(let u=0;u<this.hashCount;u++){const c=this.ye(r,o,u);this.Se(c)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class dh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Lm{constructor(e,n,r,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,Gh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Lm(lt.min(),o,new Ln(Ct),$a(),Mt())}}class Gh{constructor(e,n,r,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Gh(r,n,Mt(),Mt(),Mt())}}class Dd{constructor(e,n,r,o){this.be=e,this.removedTargetIds=n,this.key=r,this.De=o}}class cA{constructor(e,n){this.targetId=e,this.Ce=n}}class hA{constructor(e,n,r=gi.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class GE{constructor(){this.ve=0,this.Fe=KE(),this.Me=gi.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Mt(),n=Mt(),r=Mt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:ut(38017,{changeType:u})}})),new Gh(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=KE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,bn(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class gk{constructor(e){this.Ge=e,this.ze=new Map,this.je=$a(),this.Je=dd(),this.He=dd(),this.Ye=new Ln(Ct)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ut(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,r=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(L_(u))if(r===0){const c=new Xe(u.path);this.et(n,c,Ni.newNoDocument(c,lt.min()))}else bn(r===1,20013,{expectedCount:r});else{const c=this._t(n);if(c!==r){const p=this.ut(e),_=p?this.ct(p,e,c):1;if(_!==0){this.it(n);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=n;let c,p;try{c=qa(r).toUint8Array()}catch(_){if(_ instanceof HS)return Wu("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new Ly(c,o,u)}catch(_){return Wu(_ instanceof dh?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let o=0;return r.forEach((u=>{const c=this.Ge.ht(),p=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,c)=>{const p=this.ot(c);if(p){if(u.current&&L_(p.target)){const _=new Xe(p.target.path);this.It(_).has(c)||this.Et(c,_)||this.et(c,_,Ni.newNoDocument(_,e))}u.Be&&(n.set(c,u.ke()),u.qe())}}));let r=Mt();this.He.forEach(((u,c)=>{let p=!0;c.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(u))})),this.je.forEach(((u,c)=>c.setReadTime(e)));const o=new Lm(e,n,this.Ye,this.je,r);return this.je=$a(),this.Je=dd(),this.He=dd(),this.Ye=new Ln(Ct),o}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new GE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Gn(Ct),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Gn(Ct),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Fe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new GE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function dd(){return new Ln(Xe.comparator)}function KE(){return new Ln(Xe.comparator)}const _k={asc:"ASCENDING",desc:"DESCENDING"},yk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vk={and:"AND",or:"OR"};class bk{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function z_(t,e){return t.useProto3Json||Am(e)?e:{value:e}}function wk(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ek(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Hu(t){return bn(!!t,49232),lt.fromTimestamp((function(n){const r=Ha(n);return new Bn(r.seconds,r.nanos)})(t))}function Tk(t,e){return j_(t,e).canonicalString()}function j_(t,e){const n=(function(o){return new vn(["projects",o.projectId,"databases",o.database])})(t).child("documents");return e===void 0?n:n.child(e)}function fA(t){const e=vn.fromString(t);return bn(_A(e),10190,{key:e.toString()}),e}function t_(t,e){const n=fA(e);if(n.get(1)!==t.databaseId.projectId)throw new Ke(Le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ke(Le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Xe(mA(n))}function dA(t,e){return Tk(t.databaseId,e)}function xk(t){const e=fA(t);return e.length===4?vn.emptyPath():mA(e)}function YE(t){return new vn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function mA(t){return bn(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Sk(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:ut(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(y,E){return y.useProto3Json?(bn(E===void 0||typeof E=="string",58123),gi.fromBase64String(E||"")):(bn(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),gi.fromUint8Array(E||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,p=c&&(function(y){const E=y.code===void 0?Le.UNKNOWN:uA(y.code);return new Ke(E,y.message||"")})(c);n=new hA(r,o,u,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=t_(t,r.document.name),u=Hu(r.document.updateTime),c=r.document.createTime?Hu(r.document.createTime):lt.min(),p=new Qs({mapValue:{fields:r.document.fields}}),_=Ni.newFoundDocument(o,u,c,p),y=r.targetIds||[],E=r.removedTargetIds||[];n=new Dd(y,E,_.key,_)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=t_(t,r.document),u=r.readTime?Hu(r.readTime):lt.min(),c=Ni.newNoDocument(o,u),p=r.removedTargetIds||[];n=new Dd([],p,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=t_(t,r.document),u=r.removedTargetIds||[];n=new Dd([],u,o,null)}else{if(!("filter"in e))return ut(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,c=new dk(o,u),p=r.targetId;n=new cA(p,c)}}return n}function Ak(t,e){return{documents:[dA(t,e.path)]}}function Rk(t,e){const n={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=dA(t,o);const u=(function(y){if(y.length!==0)return gA(ro.create(y,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const c=(function(y){if(y.length!==0)return y.map((E=>(function(C){return{field:Lu(C.field),direction:Ok(C.dir)}})(E)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const p=z_(t,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function Ck(t){let e=xk(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){bn(r===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(x){const C=pA(x);return C instanceof ro&&QS(C)?C.getFilters():[C]})(n.where));let c=[];n.orderBy&&(c=(function(x){return x.map((C=>(function(I){return new nm(Du(I.field),(function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(I.direction))})(C)))})(n.orderBy));let p=null;n.limit&&(p=(function(x){let C;return C=typeof x=="object"?x.value:x,Am(C)?null:C})(n.limit));let _=null;n.startAt&&(_=(function(x){const C=!!x.before,D=x.values||[];return new tm(D,C)})(n.startAt));let y=null;return n.endAt&&(y=(function(x){const C=!x.before,D=x.values||[];return new tm(D,C)})(n.endAt)),GD(e,o,c,u,p,"F",_,y)}function Nk(t,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ut(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function pA(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Du(n.unaryFilter.field);return $n.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Du(n.unaryFilter.field);return $n.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Du(n.unaryFilter.field);return $n.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Du(n.unaryFilter.field);return $n.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ut(61313);default:return ut(60726)}})(t):t.fieldFilter!==void 0?(function(n){return $n.create(Du(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ut(58110);default:return ut(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return ro.create(n.compositeFilter.filters.map((r=>pA(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ut(1026)}})(n.compositeFilter.op))})(t):ut(30097,{filter:t})}function Ok(t){return _k[t]}function Ik(t){return yk[t]}function Pk(t){return vk[t]}function Lu(t){return{fieldPath:t.canonicalString()}}function Du(t){return qi.fromServerFormat(t.fieldPath)}function gA(t){return t instanceof $n?(function(n){if(n.op==="=="){if(ME(n.value))return{unaryFilter:{field:Lu(n.field),op:"IS_NAN"}};if(kE(n.value))return{unaryFilter:{field:Lu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ME(n.value))return{unaryFilter:{field:Lu(n.field),op:"IS_NOT_NAN"}};if(kE(n.value))return{unaryFilter:{field:Lu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Lu(n.field),op:Ik(n.op),value:n.value}}})(t):t instanceof ro?(function(n){const r=n.getFilters().map((o=>gA(o)));return r.length===1?r[0]:{compositeFilter:{op:Pk(n.op),filters:r}}})(t):ut(54877,{filter:t})}function _A(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class Da{constructor(e,n,r,o,u=lt.min(),c=lt.min(),p=gi.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(e){return new Da(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Da(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Da(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Da(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Lk{constructor(e){this.yt=e}}function Dk(t){const e=Ck({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?D_(e,e.limit,"L"):e}class kk{constructor(){this.Cn=new Mk}addToCollectionParentIndex(e,n){return this.Cn.add(n),ve.resolve()}getCollectionParents(e,n){return ve.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ve.resolve()}deleteFieldIndex(e,n){return ve.resolve()}deleteAllFieldIndexes(e){return ve.resolve()}createTargetIndexes(e,n){return ve.resolve()}getDocumentsMatchingTarget(e,n){return ve.resolve(null)}getIndexType(e,n){return ve.resolve(0)}getFieldIndexes(e,n){return ve.resolve([])}getNextCollectionGroupToUpdate(e){return ve.resolve(null)}getMinOffset(e,n){return ve.resolve(Fa.min())}getMinOffsetFromCollectionGroup(e,n){return ve.resolve(Fa.min())}updateCollectionGroup(e,n,r){return ve.resolve()}updateIndexEntries(e,n){return ve.resolve()}}class Mk{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new Gn(vn.comparator),u=!o.has(r);return this.index[n]=o.add(r),u}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Gn(vn.comparator)).toArray()}}const QE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},yA=41943040;class ur{static withCacheSize(e){return new ur(e,ur.DEFAULT_COLLECTION_PERCENTILE,ur.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}ur.DEFAULT_COLLECTION_PERCENTILE=10,ur.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ur.DEFAULT=new ur(yA,ur.DEFAULT_COLLECTION_PERCENTILE,ur.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ur.DISABLED=new ur(-1,0,0);class tc{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new tc(0)}static cr(){return new tc(-1)}}const WE="LruGarbageCollector",zk=1048576;function XE([t,e],[n,r]){const o=Ct(t,n);return o===0?Ct(e,r):o}class jk{constructor(e){this.Ir=e,this.buffer=new Gn(XE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();XE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Uk{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Fe(WE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){hc(n)?Fe(WE,"Ignoring IndexedDB error during garbage collection: ",n):await xm(n)}await this.Vr(3e5)}))}}class Vk{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ve.resolve(Sm.ce);const r=new jk(n);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Fe("LruGarbageCollector","Garbage collection skipped; disabled"),ve.resolve(QE)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),QE):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,o,u,c,p,_,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((x=>(x>this.params.maximumSequenceNumbersToCollect?(Fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),o=this.params.maximumSequenceNumbersToCollect):o=x,c=Date.now(),this.nthSequenceNumber(e,o)))).next((x=>(r=x,p=Date.now(),this.removeTargets(e,r,n)))).next((x=>(u=x,_=Date.now(),this.removeOrphanedDocuments(e,r)))).next((x=>(y=Date.now(),Iu()<=At.DEBUG&&Fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-E}ms
	Determined least recently used ${o} in `+(p-c)+`ms
	Removed ${u} targets in `+(_-p)+`ms
	Removed ${x} documents in `+(y-_)+`ms
Total Duration: ${y-E}ms`),ve.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:x}))))}}function Bk(t,e){return new Vk(t,e)}class Fk{constructor(){this.changes=new Gl((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ni.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ve.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Hk{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class qk{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(r!==null&&Th(r.mutation,o,La.empty(),Bn.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Mt()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Mt()){const o=Pl();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,r).next((u=>{let c=fh();return u.forEach(((p,_)=>{c=c.insert(p,_.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const r=Pl();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Mt())))}populateOverlays(e,n,r){const o=[];return r.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((c,p)=>{n.set(c,p)}))}))}computeViews(e,n,r,o){let u=$a();const c=Eh(),p=(function(){return Eh()})();return n.forEach(((_,y)=>{const E=r.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof Pm)?u=u.insert(y.key,y):E!==void 0?(c.set(y.key,E.mutation.getFieldMask()),Th(E.mutation,y,E.mutation.getFieldMask(),Bn.now())):c.set(y.key,La.empty())})),this.recalculateAndSaveOverlays(e,u).next((_=>(_.forEach(((y,E)=>c.set(y,E))),n.forEach(((y,E)=>p.set(y,new Hk(E,c.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,n){const r=Eh();let o=new Ln(((c,p)=>c-p)),u=Mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const p of c)p.keys().forEach((_=>{const y=n.get(_);if(y===null)return;let E=r.get(_)||La.empty();E=p.applyToLocalView(y,E),r.set(_,E);const x=(o.get(p.batchId)||Mt()).add(_);o=o.insert(p.batchId,x)}))})).next((()=>{const c=[],p=o.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),y=_.key,E=_.value,x=iA();E.forEach((C=>{if(!u.has(C)){const D=aA(n.get(C),r.get(C));D!==null&&x.set(C,D),u=u.add(C)}})),c.push(this.documentOverlayCache.saveOverlays(e,y,x))}return ve.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,o){return(function(c){return Xe.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):KD(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,o):this.getDocumentsMatchingCollectionQuery(e,n,r,o)}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next((u=>{const c=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-u.size):ve.resolve(Pl());let p=Nh,_=u;return c.next((y=>ve.forEach(y,((E,x)=>(p<x.largestBatchId&&(p=x.largestBatchId),u.get(E)?ve.resolve():this.remoteDocumentCache.getEntry(e,E).next((C=>{_=_.insert(E,C)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,_,y,Mt()))).next((E=>({batchId:p,changes:JD(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Xe(n)).next((r=>{let o=fh();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,o){const u=n.collectionGroup;let c=fh();return this.indexManager.getCollectionParents(e,u).next((p=>ve.forEach(p,(_=>{const y=(function(x,C){return new Cm(C,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(n,_.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,r,o).next((E=>{E.forEach(((x,C)=>{c=c.insert(x,C)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,u,o)))).next((c=>{u.forEach(((_,y)=>{const E=y.getKey();c.get(E)===null&&(c=c.insert(E,Ni.newInvalidDocument(E)))}));let p=fh();return c.forEach(((_,y)=>{const E=u.get(_);E!==void 0&&Th(E.mutation,y,La.empty(),Bn.now()),Om(n,y)&&(p=p.insert(_,y))})),p}))}}class Zk{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ve.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Hu(o.createTime)}})(n)),ve.resolve()}getNamedQuery(e,n){return ve.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:Dk(o.bundledQuery),readTime:Hu(o.readTime)}})(n)),ve.resolve()}}class $k{constructor(){this.overlays=new Ln(Xe.comparator),this.qr=new Map}getOverlay(e,n){return ve.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Pl();return ve.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((o,u)=>{this.St(e,n,u)})),ve.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),ve.resolve()}getOverlaysForCollection(e,n,r){const o=Pl(),u=n.length+1,c=new Xe(n.child("")),p=this.overlays.getIteratorFrom(c);for(;p.hasNext();){const _=p.getNext().value,y=_.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&_.largestBatchId>r&&o.set(_.getKey(),_)}return ve.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let u=new Ln(((y,E)=>y-E));const c=this.overlays.getIterator();for(;c.hasNext();){const y=c.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>r){let E=u.get(y.largestBatchId);E===null&&(E=Pl(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const p=Pl(),_=u.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,E)=>p.set(y,E))),!(p.size()>=o)););return ve.resolve(p)}St(e,n,r){const o=this.overlays.get(r.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new fk(n,r));let u=this.qr.get(n);u===void 0&&(u=Mt(),this.qr.set(n,u)),this.qr.set(n,u.add(r.key))}}class Gk{constructor(){this.sessionToken=gi.EMPTY_BYTE_STRING}getSessionToken(e){return ve.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ve.resolve()}}class Dy{constructor(){this.Qr=new Gn(li.$r),this.Ur=new Gn(li.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new li(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new li(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Xe(new vn([])),r=new li(n,e),o=new li(n,e+1),u=[];return this.Ur.forEachInRange([r,o],(c=>{this.Gr(c),u.push(c.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Xe(new vn([])),r=new li(n,e),o=new li(n,e+1);let u=Mt();return this.Ur.forEachInRange([r,o],(c=>{u=u.add(c.key)})),u}containsKey(e){const n=new li(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class li{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Xe.comparator(e.key,n.key)||Ct(e.Yr,n.Yr)}static Kr(e,n){return Ct(e.Yr,n.Yr)||Xe.comparator(e.key,n.key)}}class Kk{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Gn(li.$r)}checkEmpty(e){return ve.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new hk(u,n,r,o);this.mutationQueue.push(c);for(const p of o)this.Zr=this.Zr.add(new li(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return ve.resolve(c)}lookupMutationBatch(e,n){return ve.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=this.ei(r),u=o<0?0:o;return ve.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ve.resolve(this.mutationQueue.length===0?AD:this.tr-1)}getAllMutationBatches(e){return ve.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new li(n,0),o=new li(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,o],(c=>{const p=this.Xr(c.Yr);u.push(p)})),ve.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Gn(Ct);return n.forEach((o=>{const u=new li(o,0),c=new li(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,c],(p=>{r=r.add(p.Yr)}))})),ve.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let u=r;Xe.isDocumentKey(u)||(u=u.child(""));const c=new li(new Xe(u),0);let p=new Gn(Ct);return this.Zr.forEachWhile((_=>{const y=_.key.path;return!!r.isPrefixOf(y)&&(y.length===o&&(p=p.add(_.Yr)),!0)}),c),ve.resolve(this.ti(p))}ti(e){const n=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){bn(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ve.forEach(n.mutations,(o=>{const u=new li(o.key,n.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new li(n,0),o=this.Zr.firstAfterOrEqual(r);return ve.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ve.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Yk{constructor(e){this.ri=e,this.docs=(function(){return new Ln(Xe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),u=o?o.size:0,c=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ve.resolve(r?r.document.mutableCopy():Ni.newInvalidDocument(n))}getEntries(e,n){let r=$a();return n.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():Ni.newInvalidDocument(o))})),ve.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let u=$a();const c=n.path,p=new Xe(c.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:y,value:{document:E}}=_.getNext();if(!c.isPrefixOf(y.path))break;y.path.length>c.length+1||ED(wD(E),r)<=0||(o.has(E.key)||Om(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ve.resolve(u)}getAllFromCollectionGroup(e,n,r,o){ut(9500)}ii(e,n){return ve.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new Qk(this)}getSize(e){return ve.resolve(this.size)}}class Qk extends Fk{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),ve.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class Wk{constructor(e){this.persistence=e,this.si=new Gl((n=>Cy(n)),Ny),this.lastRemoteSnapshotVersion=lt.min(),this.highestTargetId=0,this.oi=0,this._i=new Dy,this.targetCount=0,this.ai=tc.ur()}forEachTarget(e,n){return this.si.forEach(((r,o)=>n(o))),ve.resolve()}getLastRemoteSnapshotVersion(e){return ve.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ve.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ve.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),ve.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new tc(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ve.resolve()}updateTargetData(e,n){return this.Pr(n),ve.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ve.resolve()}removeTargets(e,n,r){let o=0;const u=[];return this.si.forEach(((c,p)=>{p.sequenceNumber<=n&&r.get(p.targetId)===null&&(this.si.delete(c),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),ve.waitFor(u).next((()=>o))}getTargetCount(e){return ve.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return ve.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),ve.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((c=>{u.push(o.markPotentiallyOrphaned(e,c))})),ve.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ve.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return ve.resolve(r)}containsKey(e,n){return ve.resolve(this._i.containsKey(n))}}class vA{constructor(e,n){this.ui={},this.overlays={},this.ci=new Sm(0),this.li=!1,this.li=!0,this.hi=new Gk,this.referenceDelegate=e(this),this.Pi=new Wk(this),this.indexManager=new kk,this.remoteDocumentCache=(function(o){return new Yk(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new Lk(n),this.Ii=new Zk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new $k,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new Kk(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Fe("MemoryPersistence","Starting transaction:",e);const o=new Xk(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return ve.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class Xk extends xD{constructor(e){super(),this.currentSequenceNumber=e}}class ky{constructor(e){this.persistence=e,this.Ri=new Dy,this.Vi=null}static mi(e){return new ky(e)}get fi(){if(this.Vi)return this.Vi;throw ut(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),ve.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),ve.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ve.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ve.forEach(this.fi,(r=>{const o=Xe.fromPath(r);return this.gi(e,o).next((u=>{u||n.removeEntry(o,lt.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ve.or([()=>ve.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class sm{constructor(e,n){this.persistence=e,this.pi=new Gl((r=>RD(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=Bk(this,n)}static mi(e,n){return new sm(e,n)}Ei(){}di(e){return ve.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((o=>r+o))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return ve.forEach(this.pi,((r,o)=>this.br(e,r,o).next((u=>u?ve.resolve():n(o)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(c=>this.br(e,c,n).next((p=>{p||(r++,u.removeEntry(c,lt.min()))})))).next((()=>u.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ve.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ve.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ve.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ve.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Pd(e.data.value)),n}br(e,n,r){return ve.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ve.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class My{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=o}static As(e,n){let r=Mt(),o=Mt();for(const u of n.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new My(e,n.fromCache,r,o)}}class Jk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class eM{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return TI()?8:SD(Ii())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,o){const u={result:null};return this.ys(e,n).next((c=>{u.result=c})).next((()=>{if(!u.result)return this.ws(e,n,o,r).next((c=>{u.result=c}))})).next((()=>{if(u.result)return;const c=new Jk;return this.Ss(e,n,c).next((p=>{if(u.result=p,this.Vs)return this.bs(e,n,c,p.size)}))})).next((()=>u.result))}bs(e,n,r,o){return r.documentReadCount<this.fs?(Iu()<=At.DEBUG&&Fe("QueryEngine","SDK will not create cache indexes for query:",Pu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ve.resolve()):(Iu()<=At.DEBUG&&Fe("QueryEngine","Query:",Pu(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(Iu()<=At.DEBUG&&Fe("QueryEngine","The SDK decides to create cache indexes for query:",Pu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,to(n))):ve.resolve())}ys(e,n){if(VE(n))return ve.resolve(null);let r=to(n);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=D_(n,null,"F"),r=to(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((u=>{const c=Mt(...u);return this.ps.getDocuments(e,c).next((p=>this.indexManager.getMinOffset(e,r).next((_=>{const y=this.Ds(n,p);return this.Cs(n,y,c,_.readTime)?this.ys(e,D_(n,null,"F")):this.vs(e,y,n,_)}))))})))))}ws(e,n,r,o){return VE(n)||o.isEqual(lt.min())?ve.resolve(null):this.ps.getDocuments(e,r).next((u=>{const c=this.Ds(n,u);return this.Cs(n,c,r,o)?ve.resolve(null):(Iu()<=At.DEBUG&&Fe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Pu(n)),this.vs(e,c,n,bD(o,Nh)).next((p=>p)))}))}Ds(e,n){let r=new Gn(tA(e));return n.forEach(((o,u)=>{Om(e,u)&&(r=r.add(u))})),r}Cs(e,n,r,o){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,r){return Iu()<=At.DEBUG&&Fe("QueryEngine","Using full collection scan to execute query:",Pu(n)),this.ps.getDocumentsMatchingQuery(e,n,Fa.min(),r)}vs(e,n,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((u=>(n.forEach((c=>{u=u.insert(c.key,c)})),u)))}}const zy="LocalStore",tM=3e8;class nM{constructor(e,n,r,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new Ln(Ct),this.xs=new Gl((u=>Cy(u)),Ny),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new qk(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function iM(t,e,n,r){return new nM(t,e,n,r)}async function bA(t,e){const n=Lt(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((u=>{const c=[],p=[];let _=Mt();for(const y of o){c.push(y.batchId);for(const E of y.mutations)_=_.add(E.key)}for(const y of u){p.push(y.batchId);for(const E of y.mutations)_=_.add(E.key)}return n.localDocuments.getDocuments(r,_).next((y=>({Ls:y,removedBatchIds:c,addedBatchIds:p})))}))}))}function wA(t){const e=Lt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function rM(t,e){const n=Lt(t),r=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const p=[];e.targetChanges.forEach(((E,x)=>{const C=o.get(x);if(!C)return;p.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,x).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,x))));let D=C.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(x)!==null?D=D.withResumeToken(gi.EMPTY_BYTE_STRING,lt.min()).withLastLimboFreeSnapshotVersion(lt.min()):E.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(E.resumeToken,r)),o=o.insert(x,D),(function(j,U,ne){return j.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=tM?!0:ne.addedDocuments.size+ne.modifiedDocuments.size+ne.removedDocuments.size>0})(C,D,E)&&p.push(n.Pi.updateTargetData(u,D))}));let _=$a(),y=Mt();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),p.push(sM(u,c,e.documentUpdates).next((E=>{_=E.ks,y=E.qs}))),!r.isEqual(lt.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((x=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));p.push(E)}return ve.waitFor(p).next((()=>c.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,_,y))).next((()=>_))})).then((u=>(n.Ms=o,u)))}function sM(t,e,n){let r=Mt(),o=Mt();return n.forEach((u=>r=r.add(u))),e.getEntries(t,r).next((u=>{let c=$a();return n.forEach(((p,_)=>{const y=u.get(p);_.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(p)),_.isNoDocument()&&_.version.isEqual(lt.min())?(e.removeEntry(p,_.readTime),c=c.insert(p,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(_),c=c.insert(p,_)):Fe(zy,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",_.version)})),{ks:c,qs:o}}))}function oM(t,e){const n=Lt(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return n.Pi.getTargetData(r,e).next((u=>u?(o=u,ve.resolve(o)):n.Pi.allocateTargetId(r).next((c=>(o=new Da(e,c,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=n.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function U_(t,e,n){const r=Lt(t),o=r.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",u,(c=>r.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!hc(c))throw c;Fe(zy,`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function JE(t,e,n){const r=Lt(t);let o=lt.min(),u=Mt();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(_,y,E){const x=Lt(_),C=x.xs.get(E);return C!==void 0?ve.resolve(x.Ms.get(C)):x.Pi.getTargetData(y,E)})(r,c,to(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,p.targetId).next((_=>{u=_}))})).next((()=>r.Fs.getDocumentsMatchingQuery(c,e,n?o:lt.min(),n?u:Mt()))).next((p=>(aM(r,QD(e),p),{documents:p,Qs:u})))))}function aM(t,e,n){let r=t.Os.get(e)||lt.min();n.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),t.Os.set(e,r)}class eT{constructor(){this.activeTargetIds=nk()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class lM{constructor(){this.Mo=new eT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new eT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class uM{Oo(e){}shutdown(){}}const tT="ConnectivityMonitor";class nT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Fe(tT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Fe(tT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let md=null;function V_(){return md===null?md=(function(){return 268435456+Math.round(2147483648*Math.random())})():md++,"0x"+md.toString(16)}const n_="RestConnection",cM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class hM{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===em?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,n,r,o,u){const c=V_(),p=this.zo(e,n.toUriEncodedString());Fe(n_,`Sending RPC '${e}' ${c}:`,p,r);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,o,u);const{host:y}=new URL(p),E=ac(y);return this.Jo(e,p,_,r,E).then((x=>(Fe(n_,`Received RPC '${e}' ${c}: `,x),x)),(x=>{throw Wu(n_,`RPC '${e}' ${c} failed with error: `,x,"url: ",p,"request:",r),x}))}Ho(e,n,r,o,u,c){return this.Go(e,n,r,o,u)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+cc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),r&&r.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const r=cM[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class fM{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Ri="WebChannelConnection";class dM extends hM{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,o,u){const c=V_();return new Promise(((p,_)=>{const y=new kS;y.setWithCredentials(!0),y.listenOnce(MS.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Od.NO_ERROR:const x=y.getResponseJson();Fe(Ri,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(x)),p(x);break;case Od.TIMEOUT:Fe(Ri,`RPC '${e}' ${c} timed out`),_(new Ke(Le.DEADLINE_EXCEEDED,"Request time out"));break;case Od.HTTP_ERROR:const C=y.getStatus();if(Fe(Ri,`RPC '${e}' ${c} failed with status:`,C,"response text:",y.getResponseText()),C>0){let D=y.getResponseJson();Array.isArray(D)&&(D=D[0]);const I=D?.error;if(I&&I.status&&I.message){const j=(function(ne){const ee=ne.toLowerCase().replace(/_/g,"-");return Object.values(Le).indexOf(ee)>=0?ee:Le.UNKNOWN})(I.status);_(new Ke(j,I.message))}else _(new Ke(Le.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new Ke(Le.UNAVAILABLE,"Connection failed."));break;default:ut(9055,{l_:e,streamId:c,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{Fe(Ri,`RPC '${e}' ${c} completed.`)}}));const E=JSON.stringify(o);Fe(Ri,`RPC '${e}' ${c} sending request:`,o),y.send(n,"POST",E,r,15)}))}T_(e,n,r){const o=V_(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=US(),p=jS(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(_.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,n,r),_.encodeInitMessageHeaders=!0;const E=u.join("");Fe(Ri,`Creating RPC '${e}' stream ${o}: ${E}`,_);const x=c.createWebChannel(E,_);this.I_(x);let C=!1,D=!1;const I=new fM({Yo:U=>{D?Fe(Ri,`Not sending because RPC '${e}' stream ${o} is closed:`,U):(C||(Fe(Ri,`Opening RPC '${e}' stream ${o} transport.`),x.open(),C=!0),Fe(Ri,`RPC '${e}' stream ${o} sending:`,U),x.send(U))},Zo:()=>x.close()}),j=(U,ne,ee)=>{U.listen(ne,(ae=>{try{ee(ae)}catch(Te){setTimeout((()=>{throw Te}),0)}}))};return j(x,hh.EventType.OPEN,(()=>{D||(Fe(Ri,`RPC '${e}' stream ${o} transport opened.`),I.o_())})),j(x,hh.EventType.CLOSE,(()=>{D||(D=!0,Fe(Ri,`RPC '${e}' stream ${o} transport closed`),I.a_(),this.E_(x))})),j(x,hh.EventType.ERROR,(U=>{D||(D=!0,Wu(Ri,`RPC '${e}' stream ${o} transport errored. Name:`,U.name,"Message:",U.message),I.a_(new Ke(Le.UNAVAILABLE,"The operation could not be completed")))})),j(x,hh.EventType.MESSAGE,(U=>{if(!D){const ne=U.data[0];bn(!!ne,16349);const ee=ne,ae=ee?.error||ee[0]?.error;if(ae){Fe(Ri,`RPC '${e}' stream ${o} received error:`,ae);const Te=ae.status;let Ce=(function(M){const z=Vn[M];if(z!==void 0)return uA(z)})(Te),ke=ae.message;Ce===void 0&&(Ce=Le.INTERNAL,ke="Unknown error status: "+Te+" with message "+ae.message),D=!0,I.a_(new Ke(Ce,ke)),x.close()}else Fe(Ri,`RPC '${e}' stream ${o} received:`,ne),I.u_(ne)}})),j(p,zS.STAT_EVENT,(U=>{U.stat===A_.PROXY?Fe(Ri,`RPC '${e}' stream ${o} detected buffering proxy`):U.stat===A_.NOPROXY&&Fe(Ri,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{I.__()}),0),I}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function i_(){return typeof document<"u"?document:null}function EA(t){return new bk(t,!0)}class TA{constructor(e,n,r=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-r);o>0&&Fe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const iT="PersistentStream";class mM{constructor(e,n,r,o,u,c,p,_){this.Mi=e,this.S_=r,this.b_=o,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new TA(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Le.RESOURCE_EXHAUSTED?(Vo(n.toString()),Vo("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===n&&this.G_(r,o)}),(r=>{e((()=>{const o=new Ke(Le.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Fe(iT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Fe(iT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class pM extends mM{constructor(e,n,r,o,u,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,c),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Sk(this.serializer,e),r=(function(u){if(!("targetChange"in u))return lt.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?lt.min():c.readTime?Hu(c.readTime):lt.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=YE(this.serializer),n.addTarget=(function(u,c){let p;const _=c.target;if(p=L_(_)?{documents:Ak(u,_)}:{query:Rk(u,_).ft},p.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){p.resumeToken=Ek(u,c.resumeToken);const y=z_(u,c.expectedCount);y!==null&&(p.expectedCount=y)}else if(c.snapshotVersion.compareTo(lt.min())>0){p.readTime=wk(u,c.snapshotVersion.toTimestamp());const y=z_(u,c.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const r=Nk(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=YE(this.serializer),n.removeTarget=e,this.q_(n)}}class gM{}class _M extends gM{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new Ke(Le.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.Go(e,j_(n,r),o,u,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ke(Le.UNKNOWN,u.toString())}))}Ho(e,n,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,p])=>this.connection.Ho(e,j_(n,r),o,c,p,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ke(Le.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class yM{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Vo(n),this.aa=!1):Fe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const nc="RemoteStore";class vM{constructor(e,n,r,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{Yh(this)&&(Fe(nc,"Restarting streams for network reachability change."),await(async function(_){const y=Lt(_);y.Ea.add(4),await Kh(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Dm(y)})(this))}))})),this.Ra=new yM(r,o)}}async function Dm(t){if(Yh(t))for(const e of t.da)await e(!0)}async function Kh(t){for(const e of t.da)await e(!1)}function xA(t,e){const n=Lt(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),By(n)?Vy(n):fc(n).O_()&&Uy(n,e))}function jy(t,e){const n=Lt(t),r=fc(n);n.Ia.delete(e),r.O_()&&SA(n,e),n.Ia.size===0&&(r.O_()?r.L_():Yh(n)&&n.Ra.set("Unknown"))}function Uy(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(lt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}fc(t).Y_(e)}function SA(t,e){t.Va.Ue(e),fc(t).Z_(e)}function Vy(t){t.Va=new gk({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),fc(t).start(),t.Ra.ua()}function By(t){return Yh(t)&&!fc(t).x_()&&t.Ia.size>0}function Yh(t){return Lt(t).Ea.size===0}function AA(t){t.Va=void 0}async function bM(t){t.Ra.set("Online")}async function wM(t){t.Ia.forEach(((e,n)=>{Uy(t,e)}))}async function EM(t,e){AA(t),By(t)?(t.Ra.ha(e),Vy(t)):t.Ra.set("Unknown")}async function TM(t,e,n){if(t.Ra.set("Online"),e instanceof hA&&e.state===2&&e.cause)try{await(async function(o,u){const c=u.cause;for(const p of u.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,c),o.Ia.delete(p),o.Va.removeTarget(p))})(t,e)}catch(r){Fe(nc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await rT(t,r)}else if(e instanceof Dd?t.Va.Ze(e):e instanceof cA?t.Va.st(e):t.Va.tt(e),!n.isEqual(lt.min()))try{const r=await wA(t.localStore);n.compareTo(r)>=0&&await(function(u,c){const p=u.Va.Tt(c);return p.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const E=u.Ia.get(y);E&&u.Ia.set(y,E.withResumeToken(_.resumeToken,c))}})),p.targetMismatches.forEach(((_,y)=>{const E=u.Ia.get(_);if(!E)return;u.Ia.set(_,E.withResumeToken(gi.EMPTY_BYTE_STRING,E.snapshotVersion)),SA(u,_);const x=new Da(E.target,_,y,E.sequenceNumber);Uy(u,x)})),u.remoteSyncer.applyRemoteEvent(p)})(t,n)}catch(r){Fe(nc,"Failed to raise snapshot:",r),await rT(t,r)}}async function rT(t,e,n){if(!hc(e))throw e;t.Ea.add(1),await Kh(t),t.Ra.set("Offline"),n||(n=()=>wA(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Fe(nc,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Dm(t)}))}async function sT(t,e){const n=Lt(t);n.asyncQueue.verifyOperationInProgress(),Fe(nc,"RemoteStore received new credentials");const r=Yh(n);n.Ea.add(3),await Kh(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Dm(n)}async function xM(t,e){const n=Lt(t);e?(n.Ea.delete(2),await Dm(n)):e||(n.Ea.add(2),await Kh(n),n.Ra.set("Unknown"))}function fc(t){return t.ma||(t.ma=(function(n,r,o){const u=Lt(n);return u.sa(),new pM(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(t.datastore,t.asyncQueue,{Xo:bM.bind(null,t),t_:wM.bind(null,t),r_:EM.bind(null,t),H_:TM.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),By(t)?Vy(t):t.Ra.set("Unknown")):(await t.ma.stop(),AA(t))}))),t.ma}class Fy{constructor(e,n,r,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new Fu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,o,u){const c=Date.now()+r,p=new Fy(e,n,c,o,u);return p.start(r),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ke(Le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function RA(t,e){if(Vo("AsyncQueue",`${e}: ${t}`),hc(t))return new Ke(Le.UNAVAILABLE,`${e}: ${t}`);throw t}class qu{static emptySet(e){return new qu(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Xe.comparator(n.key,r.key):(n,r)=>Xe.comparator(n.key,r.key),this.keyedMap=fh(),this.sortedSet=new Ln(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof qu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new qu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class oT{constructor(){this.ga=new Ln(Xe.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ut(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class ic{constructor(e,n,r,o,u,c,p,_,y){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(e,n,r,o,u){const c=[];return n.forEach((p=>{c.push({type:0,doc:p})})),new ic(e,n,qu.emptySet(n),c,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}class SM{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class AM{constructor(){this.queries=aT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=Lt(n),u=o.queries;o.queries=aT(),u.forEach(((c,p)=>{for(const _ of p.Sa)_.onError(r)}))})(this,new Ke(Le.ABORTED,"Firestore shutting down"))}}function aT(){return new Gl((t=>eA(t)),Nm)}async function RM(t,e){const n=Lt(t);let r=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(r=2):(u=new SM,r=e.Da()?0:1);try{switch(r){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(c){const p=RA(c,`Initialization of query '${Pu(e.query)}' failed`);return void e.onError(p)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Hy(n)}async function CM(t,e){const n=Lt(t),r=e.query;let o=3;const u=n.queries.get(r);if(u){const c=u.Sa.indexOf(e);c>=0&&(u.Sa.splice(c,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function NM(t,e){const n=Lt(t);let r=!1;for(const o of e){const u=o.query,c=n.queries.get(u);if(c){for(const p of c.Sa)p.Fa(o)&&(r=!0);c.wa=o}}r&&Hy(n)}function OM(t,e,n){const r=Lt(t),o=r.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);r.queries.delete(e)}function Hy(t){t.Ca.forEach((e=>{e.next()}))}var B_,lT;(lT=B_||(B_={})).Ma="default",lT.Cache="cache";class IM{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new ic(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ic.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==B_.Cache}}class CA{constructor(e){this.key=e}}class NA{constructor(e){this.key=e}}class PM{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Mt(),this.mutatedKeys=Mt(),this.eu=tA(e),this.tu=new qu(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new oT,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,c=o,p=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,x)=>{const C=o.get(E),D=Om(this.query,x)?x:null,I=!!C&&this.mutatedKeys.has(C.key),j=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let U=!1;C&&D?C.data.isEqual(D.data)?I!==j&&(r.track({type:3,doc:D}),U=!0):this.su(C,D)||(r.track({type:2,doc:D}),U=!0,(_&&this.eu(D,_)>0||y&&this.eu(D,y)<0)&&(p=!0)):!C&&D?(r.track({type:0,doc:D}),U=!0):C&&!D&&(r.track({type:1,doc:C}),U=!0,(_||y)&&(p=!0)),U&&(D?(c=c.add(D),u=j?u.add(E):u.delete(E)):(c=c.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const E=this.query.limitType==="F"?c.last():c.first();c=c.delete(E.key),u=u.delete(E.key),r.track({type:1,doc:E})}return{tu:c,iu:r,Cs:p,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((E,x)=>(function(D,I){const j=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ut(20277,{Rt:U})}};return j(D)-j(I)})(E.type,x.type)||this.eu(E.doc,x.doc))),this.ou(r),o=o??!1;const p=n&&!o?this._u():[],_=this.Xa.size===0&&this.current&&!o?1:0,y=_!==this.Za;return this.Za=_,c.length!==0||y?{snapshot:new ic(this.query,e.tu,u,c,e.mutatedKeys,_===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new oT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Mt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new NA(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new CA(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Mt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ic.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const qy="SyncEngine";class LM{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class DM{constructor(e){this.key=e,this.hu=!1}}class kM{constructor(e,n,r,o,u,c){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Gl((p=>eA(p)),Nm),this.Iu=new Map,this.Eu=new Set,this.du=new Ln(Xe.comparator),this.Au=new Map,this.Ru=new Dy,this.Vu={},this.mu=new Map,this.fu=tc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function MM(t,e,n=!0){const r=DA(t);let o;const u=r.Tu.get(e);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await OA(r,e,n,!0),o}async function zM(t,e){const n=DA(t);await OA(n,e,!0,!1)}async function OA(t,e,n,r){const o=await oM(t.localStore,to(e)),u=o.targetId,c=t.sharedClientState.addLocalQueryTarget(u,n);let p;return r&&(p=await jM(t,e,u,c==="current",o.resumeToken)),t.isPrimaryClient&&n&&xA(t.remoteStore,o),p}async function jM(t,e,n,r,o){t.pu=(x,C,D)=>(async function(j,U,ne,ee){let ae=U.view.ru(ne);ae.Cs&&(ae=await JE(j.localStore,U.query,!1).then((({documents:N})=>U.view.ru(N,ae))));const Te=ee&&ee.targetChanges.get(U.targetId),Ce=ee&&ee.targetMismatches.get(U.targetId)!=null,ke=U.view.applyChanges(ae,j.isPrimaryClient,Te,Ce);return cT(j,U.targetId,ke.au),ke.snapshot})(t,x,C,D);const u=await JE(t.localStore,e,!0),c=new PM(e,u.Qs),p=c.ru(u.documents),_=Gh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",o),y=c.applyChanges(p,t.isPrimaryClient,_);cT(t,n,y.au);const E=new LM(e,n,c);return t.Tu.set(e,E),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),y.snapshot}async function UM(t,e,n){const r=Lt(t),o=r.Tu.get(e),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((c=>!Nm(c,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await U_(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&jy(r.remoteStore,o.targetId),F_(r,o.targetId)})).catch(xm)):(F_(r,o.targetId),await U_(r.localStore,o.targetId,!0))}async function VM(t,e){const n=Lt(t),r=n.Tu.get(e),o=n.Iu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),jy(n.remoteStore,r.targetId))}async function IA(t,e){const n=Lt(t);try{const r=await rM(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const c=n.Au.get(u);c&&(bn(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?bn(c.hu,14607):o.removedDocuments.size>0&&(bn(c.hu,42227),c.hu=!1))})),await LA(n,r,e)}catch(r){await xm(r)}}function uT(t,e,n){const r=Lt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Tu.forEach(((u,c)=>{const p=c.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(c,p){const _=Lt(c);_.onlineState=p;let y=!1;_.queries.forEach(((E,x)=>{for(const C of x.Sa)C.va(p)&&(y=!0)})),y&&Hy(_)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function BM(t,e,n){const r=Lt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.Au.get(e),u=o&&o.key;if(u){let c=new Ln(Xe.comparator);c=c.insert(u,Ni.newNoDocument(u,lt.min()));const p=Mt().add(u),_=new Lm(lt.min(),new Map,new Ln(Ct),c,p);await IA(r,_),r.du=r.du.remove(u),r.Au.delete(e),Zy(r)}else await U_(r.localStore,e,!1).then((()=>F_(r,e,n))).catch(xm)}function F_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||PA(t,r)}))}function PA(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(jy(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Zy(t))}function cT(t,e,n){for(const r of n)r instanceof CA?(t.Ru.addReference(r.key,e),FM(t,r)):r instanceof NA?(Fe(qy,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||PA(t,r.key)):ut(19791,{wu:r})}function FM(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Fe(qy,"New document in limbo: "+n),t.Eu.add(r),Zy(t))}function Zy(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Xe(vn.fromString(e)),r=t.fu.next();t.Au.set(r,new DM(n)),t.du=t.du.insert(n,r),xA(t.remoteStore,new Da(to(Oy(n.path)),r,"TargetPurposeLimboResolution",Sm.ce))}}async function LA(t,e,n){const r=Lt(t),o=[],u=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,_)=>{c.push(r.pu(_,e,n).then((y=>{if((y||n)&&r.isPrimaryClient){const E=y?!y.fromCache:n?.targetChanges.get(_.targetId)?.current;r.sharedClientState.updateQueryState(_.targetId,E?"current":"not-current")}if(y){o.push(y);const E=My.As(_.targetId,y);u.push(E)}})))})),await Promise.all(c),r.Pu.H_(o),await(async function(_,y){const E=Lt(_);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>ve.forEach(y,(C=>ve.forEach(C.Es,(D=>E.persistence.referenceDelegate.addReference(x,C.targetId,D))).next((()=>ve.forEach(C.ds,(D=>E.persistence.referenceDelegate.removeReference(x,C.targetId,D)))))))))}catch(x){if(!hc(x))throw x;Fe(zy,"Failed to update sequence numbers: "+x)}for(const x of y){const C=x.targetId;if(!x.fromCache){const D=E.Ms.get(C),I=D.snapshotVersion,j=D.withLastLimboFreeSnapshotVersion(I);E.Ms=E.Ms.insert(C,j)}}})(r.localStore,u))}async function HM(t,e){const n=Lt(t);if(!n.currentUser.isEqual(e)){Fe(qy,"User change. New user:",e.toKey());const r=await bA(n.localStore,e);n.currentUser=e,(function(u,c){u.mu.forEach((p=>{p.forEach((_=>{_.reject(new Ke(Le.CANCELLED,c))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await LA(n,r.Ls)}}function qM(t,e){const n=Lt(t),r=n.Au.get(e);if(r&&r.hu)return Mt().add(r.key);{let o=Mt();const u=n.Iu.get(e);if(!u)return o;for(const c of u){const p=n.Tu.get(c);o=o.unionWith(p.view.nu)}return o}}function DA(t){const e=Lt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=IA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=BM.bind(null,e),e.Pu.H_=NM.bind(null,e.eventManager),e.Pu.yu=OM.bind(null,e.eventManager),e}class om{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=EA(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return iM(this.persistence,new eM,e.initialUser,this.serializer)}Cu(e){return new vA(ky.mi,this.serializer)}Du(e){return new lM}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}om.provider={build:()=>new om};class ZM extends om{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){bn(this.persistence.referenceDelegate instanceof sm,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Uk(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?ur.withCacheSize(this.cacheSizeBytes):ur.DEFAULT;return new vA((r=>sm.mi(r,n)),this.serializer)}}class H_{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>uT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=HM.bind(null,this.syncEngine),await xM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new AM})()}createDatastore(e){const n=EA(e.databaseInfo.databaseId),r=(function(u){return new dM(u)})(e.databaseInfo);return(function(u,c,p,_){return new _M(u,c,p,_)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,o,u,c,p){return new vM(r,o,u,c,p)})(this.localStore,this.datastore,e.asyncQueue,(n=>uT(this.syncEngine,n,0)),(function(){return nT.v()?new nT:new uM})())}createSyncEngine(e,n){return(function(o,u,c,p,_,y,E){const x=new kM(o,u,c,p,_,y);return E&&(x.gu=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Lt(n);Fe(nc,"RemoteStore shutting down."),r.Ea.add(5),await Kh(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}H_.provider={build:()=>new H_};class $M{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Vo("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Ga="FirestoreClient";class GM{constructor(e,n,r,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=o,this.user=Ci.UNAUTHENTICATED,this.clientId=Sy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async c=>{Fe(Ga,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(Fe(Ga,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Fu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=RA(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function r_(t,e){t.asyncQueue.verifyOperationInProgress(),Fe(Ga,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async o=>{r.isEqual(o)||(await bA(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function hT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await KM(t);Fe(Ga,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>sT(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,o)=>sT(e.remoteStore,o))),t._onlineComponents=e}async function KM(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Fe(Ga,"Using user provided OfflineComponentProvider");try{await r_(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Le.FAILED_PRECONDITION||o.code===Le.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Wu("Error using user provided cache. Falling back to memory cache: "+n),await r_(t,new om)}}else Fe(Ga,"Using default OfflineComponentProvider"),await r_(t,new ZM(void 0));return t._offlineComponents}async function YM(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Fe(Ga,"Using user provided OnlineComponentProvider"),await hT(t,t._uninitializedComponentsProvider._online)):(Fe(Ga,"Using default OnlineComponentProvider"),await hT(t,new H_))),t._onlineComponents}async function fT(t){const e=await YM(t),n=e.eventManager;return n.onListen=MM.bind(null,e.syncEngine),n.onUnlisten=UM.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=zM.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=VM.bind(null,e.syncEngine),n}function kA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const dT=new Map;const MA="firestore.googleapis.com",mT=!0;class pT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ke(Le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=MA,this.ssl=mT}else this.host=e.host,this.ssl=e.ssl??mT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=yA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<zk)throw new Ke(Le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_D("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kA(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ke(Le.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ke(Le.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ke(Le.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $y{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ke(Le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ke(Le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new oD;switch(r.type){case"firstParty":return new cD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ke(Le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=dT.get(n);r&&(Fe("ComponentProvider","Removing Datastore"),dT.delete(n),r.terminate())})(this),Promise.resolve()}}function QM(t,e,n,r={}){t=Id(t,$y);const o=ac(e),u=t._getSettings(),c={...u,emulatorOptions:t._getEmulatorOptions()},p=`${e}:${n}`;o&&($x(`https://${p}`),Gx("Firestore",!0)),u.host!==MA&&u.host!==p&&Wu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...u,host:p,ssl:o,emulatorOptions:r};if(!zl(_,c)&&(t._setSettings(_),r.mockUserToken)){let y,E;if(typeof r.mockUserToken=="string")y=r.mockUserToken,E=Ci.MOCK_USER;else{y=mI(r.mockUserToken,t._app?.options.projectId);const x=r.mockUserToken.sub||r.mockUserToken.user_id;if(!x)throw new Ke(Le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Ci(x)}t._authCredentials=new aD(new BS(y,E))}}class km{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new km(this.firestore,e,this._query)}}class Zi{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Lh(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Zi(this.firestore,e,this._key)}toJSON(){return{type:Zi._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Zh(n,Zi._jsonSchema))return new Zi(e,r||null,new Xe(vn.fromString(n.referencePath)))}}Zi._jsonSchemaVersion="firestore/documentReference/1.0",Zi._jsonSchema={type:Fn("string",Zi._jsonSchemaVersion),referencePath:Fn("string")};class Lh extends km{constructor(e,n,r){super(e,n,Oy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Zi(this.firestore,null,new Xe(e))}withConverter(e){return new Lh(this.firestore,e,this._path)}}function WM(t,e,...n){if(t=es(t),arguments.length===1&&(e=Sy.newId()),gD("doc","path",e),t instanceof $y){const r=vn.fromString(e,...n);return RE(r),new Zi(t,null,new Xe(r))}{if(!(t instanceof Zi||t instanceof Lh))throw new Ke(Le.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(vn.fromString(e,...n));return RE(r),new Zi(t.firestore,t instanceof Lh?t.converter:null,new Xe(r))}}const gT="AsyncQueue";class _T{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new TA(this,"async_queue_retry"),this._c=()=>{const r=i_();r&&Fe(gT,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=i_();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=i_();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Fu;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!hc(e))throw e;Fe(gT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Vo("INTERNAL UNHANDLED ERROR: ",yT(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Fy.createAndSchedule(this,e,n,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&ut(47125,{Pc:yT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function yT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function vT(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of r)if(u in o&&typeof o[u]=="function")return!0;return!1})(t,["next","error","complete"])}class q_ extends $y{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=new _T,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new _T(e),this._firestoreClient=void 0,await e}}}function XM(t,e){const n=typeof t=="object"?t:Wx(),r=typeof t=="string"?t:em,o=py(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=fI("firestore");u&&QM(o,...u)}return o}function JM(t){if(t._terminated)throw new Ke(Le.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||ez(t),t._firestoreClient}function ez(t){const e=t._freezeSettings(),n=(function(o,u,c,p){return new ID(o,u,c,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,kA(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new GM(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(t._componentsProvider))}class Ws{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ws(gi.fromBase64String(e))}catch(n){throw new Ke(Le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ws(gi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ws._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Zh(e,Ws._jsonSchema))return Ws.fromBase64String(e.bytes)}}Ws._jsonSchemaVersion="firestore/bytes/1.0",Ws._jsonSchema={type:Fn("string",Ws._jsonSchemaVersion),bytes:Fn("string")};class zA{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ke(Le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ua{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ke(Le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ke(Le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ct(this._lat,e._lat)||Ct(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ua._jsonSchemaVersion}}static fromJSON(e){if(Zh(e,Ua._jsonSchema))return new Ua(e.latitude,e.longitude)}}Ua._jsonSchemaVersion="firestore/geoPoint/1.0",Ua._jsonSchema={type:Fn("string",Ua._jsonSchemaVersion),latitude:Fn("number"),longitude:Fn("number")};class Va{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Va._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Zh(e,Va._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Va(e.vectorValues);throw new Ke(Le.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Va._jsonSchemaVersion="firestore/vectorValue/1.0",Va._jsonSchema={type:Fn("string",Va._jsonSchemaVersion),vectorValues:Fn("object")};const tz=new RegExp("[~\\*/\\[\\]]");function nz(t,e,n){if(e.search(tz)>=0)throw bT(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t);try{return new zA(...e.split("."))._internalPath}catch{throw bT(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t)}}function bT(t,e,n,r,o){let u=`Function ${e}() called with invalid data`;u+=". ";let c="";return new Ke(Le.INVALID_ARGUMENT,u+t+c)}class jA{constructor(e,n,r,o,u){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Zi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new iz(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(UA("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class iz extends jA{data(){return super.data()}}function UA(t,e){return typeof e=="string"?nz(t,e):e instanceof zA?e._internalPath:e._delegate._internalPath}function rz(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ke(Le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sz{convertValue(e,n="none"){switch(Za(e)){case 0:return null;case 1:return e.booleanValue;case 2:return In(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(qa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ut(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return $h(e,((o,u)=>{r[o]=this.convertValue(u,n)})),r}convertVectorValue(e){const n=e.fields?.[N_].arrayValue?.values?.map((r=>In(r.doubleValue)));return new Va(n)}convertGeoPoint(e){return new Ua(In(e.latitude),In(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Rm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Oh(e));default:return null}}convertTimestamp(e){const n=Ha(e);return new Bn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=vn.fromString(e);bn(_A(r),9688,{name:e});const o=new Ih(r.get(1),r.get(3)),u=new Xe(r.popFirst(5));return o.isEqual(n)||Vo(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class mh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class kl extends jA{constructor(e,n,r,o,u,c){super(e,n,r,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new kd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(UA("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ke(Le.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=kl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}kl._jsonSchemaVersion="firestore/documentSnapshot/1.0",kl._jsonSchema={type:Fn("string",kl._jsonSchemaVersion),bundleSource:Fn("string","DocumentSnapshot"),bundleName:Fn("string"),bundle:Fn("string")};class kd extends kl{data(e={}){return super.data(e)}}class Zu{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new mh(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new kd(this._firestore,this._userDataWriter,r.key,r,new mh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ke(Le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((p=>{const _=new kd(o._firestore,o._userDataWriter,p.doc.key,p.doc,new mh(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const _=new kd(o._firestore,o._userDataWriter,p.doc.key,p.doc,new mh(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return p.type!==0&&(y=c.indexOf(p.doc.key),c=c.delete(p.doc.key)),p.type!==1&&(c=c.add(p.doc),E=c.indexOf(p.doc.key)),{type:oz(p.type),doc:_,oldIndex:y,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ke(Le.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Zu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Sy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function oz(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ut(61501,{type:t})}}Zu._jsonSchemaVersion="firestore/querySnapshot/1.0",Zu._jsonSchema={type:Fn("string",Zu._jsonSchemaVersion),bundleSource:Fn("string","QuerySnapshot"),bundleName:Fn("string"),bundle:Fn("string")};class VA extends sz{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ws(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Zi(this.firestore,null,n)}}function az(t,...e){t=es(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||vT(e[r])||(n=e[r++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(vT(e[r])){const _=e[r];e[r]=_.next?.bind(_),e[r+1]=_.error?.bind(_),e[r+2]=_.complete?.bind(_)}let u,c,p;if(t instanceof Zi)c=Id(t.firestore,q_),p=Oy(t._key.path),u={next:_=>{e[r]&&e[r](lz(c,t,_))},error:e[r+1],complete:e[r+2]};else{const _=Id(t,km);c=Id(_.firestore,q_),p=_._query;const y=new VA(c);u={next:E=>{e[r]&&e[r](new Zu(c,y,_,E))},error:e[r+1],complete:e[r+2]},rz(t._query)}return(function(y,E,x,C){const D=new $M(C),I=new IM(E,D,x);return y.asyncQueue.enqueueAndForget((async()=>RM(await fT(y),I))),()=>{D.Nu(),y.asyncQueue.enqueueAndForget((async()=>CM(await fT(y),I)))}})(JM(c),p,o,u)}function lz(t,e,n){const r=n.docs.get(e._key),o=new VA(t);return new kl(t,o,e._key,r,new mh(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){cc=o})(lc),Yu(new jl("firestore",((r,{instanceIdentifier:o,options:u})=>{const c=r.getProvider("app").getImmediate(),p=new q_(new lD(r.getProvider("auth-internal")),new hD(c,r.getProvider("app-check-internal")),(function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new Ke(Le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ih(y.options.projectId,E)})(c,o),c);return u={useFetchStreams:n,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),za(TE,xE,e),za(TE,xE,"esm2020")})();const uz={apiKey:"AIzaSyAiJyD3JpjDqWS76CKaWJPXyQ9uXxoVT1Q",authDomain:"simplenote-d20c7.firebaseapp.com",projectId:"simplenote-d20c7",storageBucket:"simplenote-d20c7.firebasestorage.app",messagingSenderId:"1033673394552",appId:"1:1033673394552:web:a153895c3e2604040c608d"},BA=Qx(uz),Mm=rD(BA),cz=XM(BA),am=t=>`${t}_${window.location.port}`,FA="http://localhost:3002/api",hz=async(t,e)=>{const r=(await BP(Mm,t,e)).user,o=await r.getIdToken(),u=await fetch(`${FA}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({idToken:o})}),c=await u.json();if(!u.ok)throw new Error(c.error||"Backend sync failed");return localStorage.setItem(am("userToken"),o),{user:{uid:r.uid,email:r.email,emailVerified:r.emailVerified,displayName:r.displayName,photoURL:r.photoURL,...c.user},token:o}},fz=async t=>{const{email:e,password:n,name:r,role:o}=t,c=(await VP(Mm,e,n)).user;r&&await HP(c,{displayName:r});const p=await c.getIdToken(),_=await fetch(`${FA}/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...t,idToken:p})});if(!_.ok){const y=await _.json();throw new Error(y.error||"Server registration failed")}return localStorage.setItem(am("userToken"),p),{user:{uid:c.uid,email:c.email,emailVerified:c.emailVerified,displayName:r||c.displayName,photoURL:c.photoURL,role:o},token:p}},dz=async()=>{await GP(Mm),localStorage.removeItem(am("userInfo")),localStorage.removeItem(am("userToken"))},Ss=F.createContext(),Lo=t=>`${t}_${window.location.port}`,mz=({children:t})=>{const[e,n]=F.useState(()=>{try{const y=localStorage.getItem(Lo("userInfo"));return y?JSON.parse(y):null}catch(y){return console.error("Failed to parse user from local storage",y),null}}),[r,o]=F.useState(!0),u=async(y,E)=>{try{const x=await hz(y,E),C=x.user;return n(C),localStorage.setItem(Lo("userInfo"),JSON.stringify(C)),x}catch(x){throw x}},c=async y=>{try{const E=await fz(y),x=E.user;return n(x),localStorage.setItem(Lo("userInfo"),JSON.stringify(x)),E}catch(E){throw E}},p=y=>{n(E=>{const x={...E,...y};return localStorage.setItem(Lo("userInfo"),JSON.stringify(x)),x})},_=async()=>{await dz(),n(null),localStorage.removeItem(Lo("userInfo"))};return F.useEffect(()=>{let y=null;const E=$P(Mm,x=>{if(console.log("AuthContext: onAuthStateChanged trigger",x?x.uid:"No user"),y&&(y(),y=null),x){const C=WM(cz,"users",x.uid);y=az(C,D=>{if(D.exists()){const I=D.data();console.log("AuthContext: Firestore data received",I);const j=JSON.parse(localStorage.getItem(Lo("userInfo"))||"{}"),ne={...{uid:x.uid,email:x.email,emailVerified:x.emailVerified,displayName:x.displayName,photoURL:x.photoURL},...j,...I};n(ne),localStorage.setItem(Lo("userInfo"),JSON.stringify(ne))}else{const I=JSON.parse(localStorage.getItem(Lo("userInfo"))||"{}"),j={uid:x.uid,email:x.email,emailVerified:x.emailVerified,displayName:x.displayName,photoURL:x.photoURL};n({...j,...I})}o(!1)},D=>{console.error("Firestore sync error:",D);const I=JSON.parse(localStorage.getItem(Lo("userInfo"))||"{}"),j={uid:x.uid,email:x.email,emailVerified:x.emailVerified,displayName:x.displayName,photoURL:x.photoURL};n({...j,...I}),o(!1)})}else n(null),o(!1)});return()=>{E(),y&&y()}},[]),w.jsx(Ss.Provider,{value:{user:e,login:u,register:c,logout:_,updateUser:p,loading:r},children:t})},so=Object.create(null);so.open="0";so.close="1";so.ping="2";so.pong="3";so.message="4";so.upgrade="5";so.noop="6";const Md=Object.create(null);Object.keys(so).forEach(t=>{Md[so[t]]=t});const Z_={type:"error",data:"parser error"},HA=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",qA=typeof ArrayBuffer=="function",ZA=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,Gy=({type:t,data:e},n,r)=>HA&&e instanceof Blob?n?r(e):wT(e,r):qA&&(e instanceof ArrayBuffer||ZA(e))?n?r(e):wT(new Blob([e]),r):r(so[t]+(e||"")),wT=(t,e)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];e("b"+(r||""))},n.readAsDataURL(t)};function ET(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let s_;function pz(t,e){if(HA&&t.data instanceof Blob)return t.data.arrayBuffer().then(ET).then(e);if(qA&&(t.data instanceof ArrayBuffer||ZA(t.data)))return e(ET(t.data));Gy(t,!1,n=>{s_||(s_=new TextEncoder),e(s_.encode(n))})}const TT="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ph=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<TT.length;t++)ph[TT.charCodeAt(t)]=t;const gz=t=>{let e=t.length*.75,n=t.length,r,o=0,u,c,p,_;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const y=new ArrayBuffer(e),E=new Uint8Array(y);for(r=0;r<n;r+=4)u=ph[t.charCodeAt(r)],c=ph[t.charCodeAt(r+1)],p=ph[t.charCodeAt(r+2)],_=ph[t.charCodeAt(r+3)],E[o++]=u<<2|c>>4,E[o++]=(c&15)<<4|p>>2,E[o++]=(p&3)<<6|_&63;return y},_z=typeof ArrayBuffer=="function",Ky=(t,e)=>{if(typeof t!="string")return{type:"message",data:$A(t,e)};const n=t.charAt(0);return n==="b"?{type:"message",data:yz(t.substring(1),e)}:Md[n]?t.length>1?{type:Md[n],data:t.substring(1)}:{type:Md[n]}:Z_},yz=(t,e)=>{if(_z){const n=gz(t);return $A(n,e)}else return{base64:!0,data:t}},$A=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},GA="",vz=(t,e)=>{const n=t.length,r=new Array(n);let o=0;t.forEach((u,c)=>{Gy(u,!1,p=>{r[c]=p,++o===n&&e(r.join(GA))})})},bz=(t,e)=>{const n=t.split(GA),r=[];for(let o=0;o<n.length;o++){const u=Ky(n[o],e);if(r.push(u),u.type==="error")break}return r};function wz(){return new TransformStream({transform(t,e){pz(t,n=>{const r=n.length;let o;if(r<126)o=new Uint8Array(1),new DataView(o.buffer).setUint8(0,r);else if(r<65536){o=new Uint8Array(3);const u=new DataView(o.buffer);u.setUint8(0,126),u.setUint16(1,r)}else{o=new Uint8Array(9);const u=new DataView(o.buffer);u.setUint8(0,127),u.setBigUint64(1,BigInt(r))}t.data&&typeof t.data!="string"&&(o[0]|=128),e.enqueue(o),e.enqueue(n)})}})}let o_;function pd(t){return t.reduce((e,n)=>e+n.length,0)}function gd(t,e){if(t[0].length===e)return t.shift();const n=new Uint8Array(e);let r=0;for(let o=0;o<e;o++)n[o]=t[0][r++],r===t[0].length&&(t.shift(),r=0);return t.length&&r<t[0].length&&(t[0]=t[0].slice(r)),n}function Ez(t,e){o_||(o_=new TextDecoder);const n=[];let r=0,o=-1,u=!1;return new TransformStream({transform(c,p){for(n.push(c);;){if(r===0){if(pd(n)<1)break;const _=gd(n,1);u=(_[0]&128)===128,o=_[0]&127,o<126?r=3:o===126?r=1:r=2}else if(r===1){if(pd(n)<2)break;const _=gd(n,2);o=new DataView(_.buffer,_.byteOffset,_.length).getUint16(0),r=3}else if(r===2){if(pd(n)<8)break;const _=gd(n,8),y=new DataView(_.buffer,_.byteOffset,_.length),E=y.getUint32(0);if(E>Math.pow(2,21)-1){p.enqueue(Z_);break}o=E*Math.pow(2,32)+y.getUint32(4),r=3}else{if(pd(n)<o)break;const _=gd(n,o);p.enqueue(Ky(u?_:o_.decode(_),e)),r=0}if(o===0||o>t){p.enqueue(Z_);break}}}})}const KA=4;function Hn(t){if(t)return Tz(t)}function Tz(t){for(var e in Hn.prototype)t[e]=Hn.prototype[e];return t}Hn.prototype.on=Hn.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};Hn.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this};Hn.prototype.off=Hn.prototype.removeListener=Hn.prototype.removeAllListeners=Hn.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var r,o=0;o<n.length;o++)if(r=n[o],r===e||r.fn===e){n.splice(o,1);break}return n.length===0&&delete this._callbacks["$"+t],this};Hn.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,o=n.length;r<o;++r)n[r].apply(this,e)}return this};Hn.prototype.emitReserved=Hn.prototype.emit;Hn.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};Hn.prototype.hasListeners=function(t){return!!this.listeners(t).length};const zm=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,n)=>n(e,0),Qr=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),xz="arraybuffer";function YA(t,...e){return e.reduce((n,r)=>(t.hasOwnProperty(r)&&(n[r]=t[r]),n),{})}const Sz=Qr.setTimeout,Az=Qr.clearTimeout;function jm(t,e){e.useNativeTimers?(t.setTimeoutFn=Sz.bind(Qr),t.clearTimeoutFn=Az.bind(Qr)):(t.setTimeoutFn=Qr.setTimeout.bind(Qr),t.clearTimeoutFn=Qr.clearTimeout.bind(Qr))}const Rz=1.33;function Cz(t){return typeof t=="string"?Nz(t):Math.ceil((t.byteLength||t.size)*Rz)}function Nz(t){let e=0,n=0;for(let r=0,o=t.length;r<o;r++)e=t.charCodeAt(r),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(r++,n+=4);return n}function QA(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function Oz(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}function Iz(t){let e={},n=t.split("&");for(let r=0,o=n.length;r<o;r++){let u=n[r].split("=");e[decodeURIComponent(u[0])]=decodeURIComponent(u[1])}return e}class Pz extends Error{constructor(e,n,r){super(e),this.description=n,this.context=r,this.type="TransportError"}}class Yy extends Hn{constructor(e){super(),this.writable=!1,jm(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,n,r){return super.emitReserved("error",new Pz(e,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const n=Ky(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,n={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const n=Oz(e);return n.length?"?"+n:""}}class Lz extends Yy{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const n=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};bz(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,vz(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=QA()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(e,n)}}let WA=!1;try{WA=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Dz=WA;function kz(){}class Mz extends Lz{constructor(e){if(super(e),typeof location<"u"){const n=location.protocol==="https:";let r=location.port;r||(r=n?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||r!==e.port}}doWrite(e,n){const r=this.request({method:"POST",data:e});r.on("success",n),r.on("error",(o,u)=>{this.onError("xhr post error",o,u)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=e}}let $u=class zd extends Hn{constructor(e,n,r){super(),this.createRequest=e,jm(this,r),this._opts=r,this._method=r.method||"GET",this._uri=n,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var e;const n=YA(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(n);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let o in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(o)&&r.setRequestHeader(o,this._opts.extraHeaders[o])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var o;r.readyState===3&&((o=this._opts.cookieJar)===null||o===void 0||o.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(o){this.setTimeoutFn(()=>{this._onError(o)},0);return}typeof document<"u"&&(this._index=zd.requestsCount++,zd.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=kz,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete zd.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}};$u.requestsCount=0;$u.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",xT);else if(typeof addEventListener=="function"){const t="onpagehide"in Qr?"pagehide":"unload";addEventListener(t,xT,!1)}}function xT(){for(let t in $u.requests)$u.requests.hasOwnProperty(t)&&$u.requests[t].abort()}const zz=(function(){const t=XA({xdomain:!1});return t&&t.responseType!==null})();class jz extends Mz{constructor(e){super(e);const n=e&&e.forceBase64;this.supportsBinary=zz&&!n}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new $u(XA,this.uri(),e)}}function XA(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||Dz))return new XMLHttpRequest}catch{}if(!e)try{return new Qr[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const JA=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Uz extends Yy{get name(){return"websocket"}doOpen(){const e=this.uri(),n=this.opts.protocols,r=JA?{}:YA(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,n,r)}catch(o){return this.emitReserved("error",o)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],o=n===e.length-1;Gy(r,this.supportsBinary,u=>{try{this.doWrite(r,u)}catch{}o&&zm(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=QA()),this.supportsBinary||(n.b64=1),this.createUri(e,n)}}const a_=Qr.WebSocket||Qr.MozWebSocket;class Vz extends Uz{createSocket(e,n,r){return JA?new a_(e,n,r):n?new a_(e,n):new a_(e)}doWrite(e,n){this.ws.send(n)}}class Bz extends Yy{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const n=Ez(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(n).getReader(),o=wz();o.readable.pipeTo(e.writable),this._writer=o.writable.getWriter();const u=()=>{r.read().then(({done:p,value:_})=>{p||(this.onPacket(_),u())}).catch(p=>{})};u();const c={type:"open"};this.query.sid&&(c.data=`{"sid":"${this.query.sid}"}`),this._writer.write(c).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],o=n===e.length-1;this._writer.write(r).then(()=>{o&&zm(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const Fz={websocket:Vz,webtransport:Bz,polling:jz},Hz=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,qz=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function $_(t){if(t.length>8e3)throw"URI too long";const e=t,n=t.indexOf("["),r=t.indexOf("]");n!=-1&&r!=-1&&(t=t.substring(0,n)+t.substring(n,r).replace(/:/g,";")+t.substring(r,t.length));let o=Hz.exec(t||""),u={},c=14;for(;c--;)u[qz[c]]=o[c]||"";return n!=-1&&r!=-1&&(u.source=e,u.host=u.host.substring(1,u.host.length-1).replace(/;/g,":"),u.authority=u.authority.replace("[","").replace("]","").replace(/;/g,":"),u.ipv6uri=!0),u.pathNames=Zz(u,u.path),u.queryKey=$z(u,u.query),u}function Zz(t,e){const n=/\/{2,9}/g,r=e.replace(n,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&r.splice(0,1),e.slice(-1)=="/"&&r.splice(r.length-1,1),r}function $z(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,o,u){o&&(n[o]=u)}),n}const G_=typeof addEventListener=="function"&&typeof removeEventListener=="function",jd=[];G_&&addEventListener("offline",()=>{jd.forEach(t=>t())},!1);class Ba extends Hn{constructor(e,n){if(super(),this.binaryType=xz,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(n=e,e=null),e){const r=$_(e);n.hostname=r.host,n.secure=r.protocol==="https"||r.protocol==="wss",n.port=r.port,r.query&&(n.query=r.query)}else n.host&&(n.hostname=$_(n.host).host);jm(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(r=>{const o=r.prototype.name;this.transports.push(o),this._transportsByName[o]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Iz(this.opts.query)),G_&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},jd.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const n=Object.assign({},this.opts.query);n.EIO=KA,n.transport=e,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&Ba.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(e);n.open(),this.setTransport(n)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",Ba.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=e.data,this._onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const o=this.writeBuffer[r].data;if(o&&(n+=Cz(o)),r>0&&n>this._maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,zm(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,n,r){return this._sendPacket("message",e,n,r),this}send(e,n,r){return this._sendPacket("message",e,n,r),this}_sendPacket(e,n,r,o){if(typeof n=="function"&&(o=n,n=void 0),typeof r=="function"&&(o=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const u={type:e,data:n,options:r};this.emitReserved("packetCreate",u),this.writeBuffer.push(u),o&&this.once("flush",o),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():e()}):this.upgrading?r():e()),this}_onError(e){if(Ba.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),G_&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=jd.indexOf(this._offlineEventListener);r!==-1&&jd.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this._prevBufferLen=0}}}Ba.protocol=KA;class Gz extends Ba{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let n=this.createTransport(e),r=!1;Ba.priorWebsocketSuccess=!1;const o=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",x=>{if(!r)if(x.type==="pong"&&x.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Ba.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(E(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const C=new Error("probe error");C.transport=n.name,this.emitReserved("upgradeError",C)}}))};function u(){r||(r=!0,E(),n.close(),n=null)}const c=x=>{const C=new Error("probe error: "+x);C.transport=n.name,u(),this.emitReserved("upgradeError",C)};function p(){c("transport closed")}function _(){c("socket closed")}function y(x){n&&x.name!==n.name&&u()}const E=()=>{n.removeListener("open",o),n.removeListener("error",c),n.removeListener("close",p),this.off("close",_),this.off("upgrading",y)};n.once("open",o),n.once("error",c),n.once("close",p),this.once("close",_),this.once("upgrading",y),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const n=[];for(let r=0;r<e.length;r++)~this.transports.indexOf(e[r])&&n.push(e[r]);return n}}let Kz=class extends Gz{constructor(e,n={}){const r=typeof e=="object"?e:n;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(o=>Fz[o]).filter(o=>!!o)),super(e,r)}};function Yz(t,e="",n){let r=t;n=n||typeof location<"u"&&location,t==null&&(t=n.protocol+"//"+n.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=n.protocol+t:t=n.host+t),/^(https?|wss?):\/\//.test(t)||(typeof n<"u"?t=n.protocol+"//"+t:t="https://"+t),r=$_(t)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const u=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+u+":"+r.port+e,r.href=r.protocol+"://"+u+(n&&n.port===r.port?"":":"+r.port),r}const Qz=typeof ArrayBuffer=="function",Wz=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,e1=Object.prototype.toString,Xz=typeof Blob=="function"||typeof Blob<"u"&&e1.call(Blob)==="[object BlobConstructor]",Jz=typeof File=="function"||typeof File<"u"&&e1.call(File)==="[object FileConstructor]";function Qy(t){return Qz&&(t instanceof ArrayBuffer||Wz(t))||Xz&&t instanceof Blob||Jz&&t instanceof File}function Ud(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let n=0,r=t.length;n<r;n++)if(Ud(t[n]))return!0;return!1}if(Qy(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return Ud(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&Ud(t[n]))return!0;return!1}function e4(t){const e=[],n=t.data,r=t;return r.data=K_(n,e),r.attachments=e.length,{packet:r,buffers:e}}function K_(t,e){if(!t)return t;if(Qy(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}else if(Array.isArray(t)){const n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=K_(t[r],e);return n}else if(typeof t=="object"&&!(t instanceof Date)){const n={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=K_(t[r],e));return n}return t}function t4(t,e){return t.data=Y_(t.data,e),delete t.attachments,t}function Y_(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=Y_(t[n],e);else if(typeof t=="object")for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=Y_(t[n],e));return t}const n4=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],i4=5;var Rt;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(Rt||(Rt={}));class r4{constructor(e){this.replacer=e}encode(e){return(e.type===Rt.EVENT||e.type===Rt.ACK)&&Ud(e)?this.encodeAsBinary({type:e.type===Rt.EVENT?Rt.BINARY_EVENT:Rt.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let n=""+e.type;return(e.type===Rt.BINARY_EVENT||e.type===Rt.BINARY_ACK)&&(n+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(n+=e.nsp+","),e.id!=null&&(n+=e.id),e.data!=null&&(n+=JSON.stringify(e.data,this.replacer)),n}encodeAsBinary(e){const n=e4(e),r=this.encodeAsString(n.packet),o=n.buffers;return o.unshift(r),o}}function ST(t){return Object.prototype.toString.call(t)==="[object Object]"}class Wy extends Hn{constructor(e){super(),this.reviver=e}add(e){let n;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(e);const r=n.type===Rt.BINARY_EVENT;r||n.type===Rt.BINARY_ACK?(n.type=r?Rt.EVENT:Rt.ACK,this.reconstructor=new s4(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(Qy(e)||e.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let n=0;const r={type:Number(e.charAt(0))};if(Rt[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===Rt.BINARY_EVENT||r.type===Rt.BINARY_ACK){const u=n+1;for(;e.charAt(++n)!=="-"&&n!=e.length;);const c=e.substring(u,n);if(c!=Number(c)||e.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(c)}if(e.charAt(n+1)==="/"){const u=n+1;for(;++n&&!(e.charAt(n)===","||n===e.length););r.nsp=e.substring(u,n)}else r.nsp="/";const o=e.charAt(n+1);if(o!==""&&Number(o)==o){const u=n+1;for(;++n;){const c=e.charAt(n);if(c==null||Number(c)!=c){--n;break}if(n===e.length)break}r.id=Number(e.substring(u,n+1))}if(e.charAt(++n)){const u=this.tryParse(e.substr(n));if(Wy.isPayloadValid(r.type,u))r.data=u;else throw new Error("invalid payload")}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,n){switch(e){case Rt.CONNECT:return ST(n);case Rt.DISCONNECT:return n===void 0;case Rt.CONNECT_ERROR:return typeof n=="string"||ST(n);case Rt.EVENT:case Rt.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&n4.indexOf(n[0])===-1);case Rt.ACK:case Rt.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class s4{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const n=t4(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const o4=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Wy,Encoder:r4,get PacketType(){return Rt},protocol:i4},Symbol.toStringTag,{value:"Module"}));function bs(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const a4=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class t1 extends Hn{constructor(e,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[bs(e,"open",this.onopen.bind(this)),bs(e,"packet",this.onpacket.bind(this)),bs(e,"error",this.onerror.bind(this)),bs(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){var r,o,u;if(a4.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const c={type:Rt.EVENT,data:n};if(c.options={},c.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const E=this.ids++,x=n.pop();this._registerAckCallback(E,x),c.id=E}const p=(o=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||o===void 0?void 0:o.writable,_=this.connected&&!(!((u=this.io.engine)===null||u===void 0)&&u._hasPingExpired());return this.flags.volatile&&!p||(_?(this.notifyOutgoingListeners(c),this.packet(c)):this.sendBuffer.push(c)),this.flags={},this}_registerAckCallback(e,n){var r;const o=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(o===void 0){this.acks[e]=n;return}const u=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let p=0;p<this.sendBuffer.length;p++)this.sendBuffer[p].id===e&&this.sendBuffer.splice(p,1);n.call(this,new Error("operation has timed out"))},o),c=(...p)=>{this.io.clearTimeoutFn(u),n.apply(this,p)};c.withError=!0,this.acks[e]=c}emitWithAck(e,...n){return new Promise((r,o)=>{const u=(c,p)=>c?o(c):r(p);u.withError=!0,n.push(u),this.emit(e,...n)})}_addToQueue(e){let n;typeof e[e.length-1]=="function"&&(n=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((o,...u)=>r!==this._queue[0]?void 0:(o!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(o)):(this._queue.shift(),n&&n(null,...u)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!e||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Rt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(r=>String(r.id)===e)){const r=this.acks[e];delete this.acks[e],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Rt.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Rt.EVENT:case Rt.BINARY_EVENT:this.onevent(e);break;case Rt.ACK:case Rt.BINARY_ACK:this.onack(e);break;case Rt.DISCONNECT:this.ondisconnect();break;case Rt.CONNECT_ERROR:this.destroy();const r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r);break}}onevent(e){const n=e.data||[];e.id!=null&&n.push(this.ack(e.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const n=this;let r=!1;return function(...o){r||(r=!0,n.packet({type:Rt.ACK,id:e,data:o}))}}onack(e){const n=this.acks[e.id];typeof n=="function"&&(delete this.acks[e.id],n.withError&&e.data.unshift(null),n.apply(this,e.data))}onconnect(e,n){this.id=e,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Rt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,e.data)}}}function dc(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}dc.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=(Math.floor(e*10)&1)==0?t-n:t+n}return Math.min(t,this.max)|0};dc.prototype.reset=function(){this.attempts=0};dc.prototype.setMin=function(t){this.ms=t};dc.prototype.setMax=function(t){this.max=t};dc.prototype.setJitter=function(t){this.jitter=t};class Q_ extends Hn{constructor(e,n){var r;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(n=e,e=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,jm(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new dc({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=e;const o=n.parser||o4;this.encoder=new o.Encoder,this.decoder=new o.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new Kz(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const o=bs(n,"open",function(){r.onopen(),e&&e()}),u=p=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",p),e?e(p):this.maybeReconnectOnOpen()},c=bs(n,"error",u);if(this._timeout!==!1){const p=this._timeout,_=this.setTimeoutFn(()=>{o(),u(new Error("timeout")),n.close()},p);this.opts.autoUnref&&_.unref(),this.subs.push(()=>{this.clearTimeoutFn(_)})}return this.subs.push(o),this.subs.push(c),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(bs(e,"ping",this.onping.bind(this)),bs(e,"data",this.ondata.bind(this)),bs(e,"error",this.onerror.bind(this)),bs(e,"close",this.onclose.bind(this)),bs(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(n){this.onclose("parse error",n)}}ondecoded(e){zm(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,n){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new t1(this,e,n),this.nsps[e]=r),r}_destroy(e){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(e){const n=this.encoder.encode(e);for(let r=0;r<n.length;r++)this.engine.write(n[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,n){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(o=>{o?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",o)):e.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const sh={};function Vd(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const n=Yz(t,e.path||"/socket.io"),r=n.source,o=n.id,u=n.path,c=sh[o]&&u in sh[o].nsps,p=e.forceNew||e["force new connection"]||e.multiplex===!1||c;let _;return p?_=new Q_(r,e):(sh[o]||(sh[o]=new Q_(r,e)),_=sh[o]),n.query&&!e.query&&(e.query=n.queryKey),_.socket(n.path,e)}Object.assign(Vd,{Manager:Q_,Socket:t1,io:Vd,connect:Vd});const l4="http://localhost:3002",Or=Vd(l4,{autoConnect:!1,transports:["websocket"]}),n1=F.createContext(),Xy=()=>F.useContext(n1),u4=({children:t})=>{const{user:e}=F.useContext(Ss),[n,r]=F.useState(!1);return F.useEffect(()=>{const o=async()=>{if(e)try{const _=typeof e.getIdToken=="function"?await e.getIdToken():e.token;_&&(Or.auth={token:_},Or.io.opts.query={role:e.role},Or.connected||Or.connect())}catch(_){console.error("Socket auth setup failed",_)}else Or.connected&&Or.disconnect()},u=()=>r(!0),c=()=>r(!1),p=_=>{console.error("Socket connection error:",_.message)};return Or.on("connect",u),Or.on("disconnect",c),Or.on("connect_error",p),o(),()=>{Or.off("connect",u),Or.off("disconnect",c),Or.off("connect_error",p)}},[e]),w.jsx(n1.Provider,{value:{socket:Or,isConnected:n},children:t})},i1=F.createContext(null),r1=()=>{const t=F.useContext(i1);if(!t)throw new Error("useToast must be used within a ToastProvider");return t},c4=({children:t})=>{const[e,n]=F.useState([]),r=F.useCallback((u,c="info",p=3e3)=>{const _=Date.now().toString();n(y=>[...y,{id:_,message:u,type:c}]),setTimeout(()=>{n(y=>y.filter(E=>E.id!==_))},p)},[]),o=u=>{n(c=>c.filter(p=>p.id!==u))};return w.jsxs(i1.Provider,{value:{showToast:r},children:[t,w.jsx("div",{className:"fixed bottom-4 right-4 z-[9999] flex flex-col gap-2",children:e.map(u=>w.jsx("div",{onClick:()=>o(u.id),className:`
                            min-w-[300px] p-4 rounded-lg shadow-lg cursor-pointer transform transition-all duration-300 animate-in slide-in-from-right fade-in
                            ${u.type==="success"?"bg-green-600 text-white":""}
                            ${u.type==="error"?"bg-red-600 text-white":""}
                            ${u.type==="info"?"bg-blue-600 text-white":""}
                            ${u.type==="warning"?"bg-yellow-500 text-white":""}
                        `,children:w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsx("p",{className:"font-medium text-sm",children:u.message}),w.jsx("span",{className:"text-xs opacity-70 hover:opacity-100 ml-4",children:""})]})},u.id))})]})},s1=({message:t="Loading..."})=>w.jsxs("div",{className:"fixed inset-0 bg-gray-50 flex flex-col items-center justify-center z-50",children:[w.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-indigo-600 mb-4"}),w.jsx("h2",{className:"text-xl font-semibold text-gray-700 animate-pulse",children:t})]}),Jy=()=>{const t=F.useContext(Ss);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},Cl=({children:t,allowedRoles:e})=>{const{user:n,loading:r}=Jy();if(r)return w.jsx(s1,{message:"Verifying authentication..."});if(!n)return w.jsx(Ku,{to:"/login",replace:!0});const o=n.role?.toUpperCase(),u=e?.map(c=>c.toUpperCase());return console.log("ProtectedRoute Check:",{path:window.location.pathname,userRole:o,allowedRoles:u,hasUser:!!n}),u&&!u.includes(o)?w.jsx(Ku,{to:"/not-found",replace:!0}):t},l_=({children:t})=>{const{user:e,loading:n}=Jy();if(n)return w.jsx(s1,{message:"Checking session..."});if(e){const r=e.role?.toUpperCase();if(r==="DRIVER")return w.jsx(Ku,{to:"/driver",replace:!0});if(r==="RIDER")return w.jsx(Ku,{to:"/home",replace:!0})}return t},h4=()=>{const{user:t}=Jy();return t?.role?.toUpperCase()==="DRIVER"?w.jsx(Ku,{to:"/driver",replace:!0}):w.jsx(Ku,{to:"/home",replace:!0})},f4=t=>t?new Date(t).toLocaleDateString():"-",d4=t=>t?new Date(t).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"-",o1=t=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t),m4=t=>{if(!t)return"Never";const e=new Date,n=new Date(t),r=Math.floor((e-n)/1e3);return r<60?"Just now":r<3600?`${Math.floor(r/60)}m ago`:r<86400?`${Math.floor(r/3600)}h ago`:r<604800?`${Math.floor(r/86400)}d ago`:n.toLocaleDateString()},p4=t=>t==null?"-":`${(t/1e3).toFixed(2)} km`,g4=()=>{const{user:t,logout:e}=F.useContext(Ss),n=xs(),r=y=>n.pathname===y?"text-indigo-600 bg-indigo-50":"text-gray-600 hover:text-indigo-600 hover:bg-gray-50",o={rider:[{label:"Home",path:"/home"},{label:"Map",path:"/map"},{label:"History",path:"/history"},{label:"Profile",path:"/profile"}],driver:[{label:"Dashboard",path:"/driver"},{label:"History",path:"/driver/history"},{label:"Profile",path:"/profile"}],public:[]},u=t?.role||"public",c=t?o[u]||[]:[],[p,_]=lr.useState(!1);return w.jsxs("header",{className:"bg-white h-16 shadow-sm z-10 sticky top-0",children:[w.jsxs("div",{className:"flex items-center justify-between px-6 h-full",children:[w.jsxs("div",{className:"flex items-center gap-8",children:[w.jsx("h2",{className:"text-xl font-semibold text-gray-800 capitalize",children:"App"}),w.jsx("nav",{className:"hidden md:flex items-center space-x-1",children:c.map(y=>w.jsx(Pn,{to:y.path,className:`px-3 py-2 rounded-md text-sm font-medium transition-colors ${r(y.path)}`,children:y.label},y.label))})]}),w.jsxs("div",{className:"flex items-center gap-4",children:[t&&w.jsxs("div",{className:"hidden md:flex items-center gap-4",children:[w.jsxs("div",{className:"flex flex-col text-right hidden sm:block",children:[w.jsx("span",{className:"text-sm font-medium text-gray-900",children:t.displayName||t.realName||t.username||t.email}),w.jsxs("div",{className:"flex items-center justify-end gap-1.5",children:[w.jsx("span",{className:`w-2 h-2 rounded-full ${t.is_online?"bg-green-500":"bg-gray-400"}`}),w.jsxs("span",{className:"text-xs text-gray-500 capitalize",children:[t.role," - ",t.is_online?"Online":`Last seen ${m4(t.last_seen_at?.toDate?t.last_seen_at.toDate():t.last_seen_at)}`]})]})]}),w.jsx("div",{className:"relative",children:w.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-200 flex items-center justify-center text-gray-500 font-bold overflow-hidden",children:t.photoURL||t.profilePicture?w.jsx("img",{src:t.photoURL||t.profilePicture,alt:"Profile",className:"h-full w-full object-cover"}):(t.displayName||t.realName||t.username||"U")[0].toUpperCase()})}),w.jsx("button",{onClick:e,className:"bg-red-50 text-red-600 hover:bg-red-100 px-3 py-1.5 rounded-md text-sm font-medium transition-colors border border-red-200",children:"Logout"})]}),!t&&w.jsx("div",{className:"hidden md:flex space-x-2",children:w.jsx(Pn,{to:"/login",className:"text-sm font-medium text-gray-700 hover:text-gray-900",children:"Login"})}),w.jsx("div",{className:"flex md:hidden",children:w.jsxs("button",{onClick:()=>_(!p),className:"inline-flex items-center justify-center rounded-md p-2 text-gray-600 hover:bg-gray-100 focus:outline-none",children:[w.jsx("span",{className:"sr-only",children:"Open main menu"}),p?w.jsx("svg",{className:"block h-6 w-6",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}):w.jsx("svg",{className:"block h-6 w-6",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})})]})})]})]}),p&&w.jsxs("div",{className:"md:hidden border-t border-gray-100 bg-white absolute w-full shadow-lg",children:[w.jsx("div",{className:"space-y-1 px-4 py-3",children:c.map(y=>w.jsx(Pn,{to:y.path,onClick:()=>_(!1),className:`block px-3 py-2 rounded-md text-base font-medium ${r(y.path)}`,children:y.label},y.label))}),t?w.jsxs("div",{className:"border-t border-gray-100 px-4 py-3",children:[w.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[w.jsx("div",{className:"h-8 w-8 rounded-full bg-gray-200 flex items-center justify-center text-gray-500 font-bold overflow-hidden",children:t.photoURL||t.profilePicture?w.jsx("img",{src:t.photoURL||t.profilePicture,alt:"Profile",className:"h-full w-full object-cover"}):(t.displayName||t.realName||t.username||"U")[0].toUpperCase()}),w.jsxs("div",{children:[w.jsx("div",{className:"text-base font-medium text-gray-800",children:t.displayName||t.realName||t.username}),w.jsx("div",{className:"text-xs text-gray-500",children:t.email})]})]}),w.jsx("button",{onClick:e,className:"w-full text-left block px-3 py-2 rounded-md text-base font-medium text-red-600 hover:bg-red-50",children:"Logout"})]}):w.jsx("div",{className:"border-t border-gray-100 px-4 py-3 space-y-2",children:w.jsx(Pn,{to:"/login",onClick:()=>_(!1),className:"block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:bg-gray-50",children:"Login"})})]})]})},_4=()=>w.jsx("footer",{className:"bg-white border-t border-gray-200 py-4 px-6",children:w.jsxs("div",{className:"flex justify-between items-center text-sm text-gray-500",children:[w.jsxs("p",{children:[" ",new Date().getFullYear()," RideShare Platform. All rights reserved."]}),w.jsxs("div",{className:"space-x-4",children:[w.jsx("a",{href:"#",className:"hover:text-gray-900",children:"Privacy Policy"}),w.jsx("a",{href:"#",className:"hover:text-gray-900",children:"Terms of Service"})]})]})}),AT=()=>w.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-100 font-sans",children:[w.jsx(g4,{}),w.jsx("main",{className:"flex-1 w-full max-w-7xl mx-auto px-2 sm:px-6 lg:px-8 py-4 sm:py-8",children:w.jsx(Lx,{})}),w.jsx(_4,{})]}),y4=()=>w.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[w.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:w.jsx(Pn,{to:"/",className:"flex justify-center text-3xl font-bold text-gray-900",children:"RideShare"})}),w.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:w.jsx("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:w.jsx(Lx,{})})})]}),v4=()=>w.jsx("div",{className:"bg-white",children:w.jsx("div",{className:"relative isolate px-6 pt-14 lg:px-8",children:w.jsx("div",{className:"mx-auto max-w-2xl py-32 sm:py-48 lg:py-56",children:w.jsxs("div",{className:"text-center",children:[w.jsx("h1",{className:"text-4xl font-bold tracking-tight text-gray-900 sm:text-6xl",children:"RideShare Platform"}),w.jsx("p",{className:"mt-6 text-lg leading-8 text-gray-600",children:"Reliable rides, anytime, anywhere. Join our community of riders and drivers today."}),w.jsxs("div",{className:"mt-10 flex items-center justify-center gap-x-6",children:[w.jsx(Pn,{to:"/register",className:"rounded-md bg-indigo-600 px-3.5 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",children:"Get started"}),w.jsxs(Pn,{to:"/login",className:"text-sm font-semibold leading-6 text-gray-900",children:["Log in ",w.jsx("span",{"aria-hidden":"true",children:""})]})]})]})})})});function we(t,e,n){function r(p,_){if(p._zod||Object.defineProperty(p,"_zod",{value:{def:_,constr:c,traits:new Set},enumerable:!1}),p._zod.traits.has(t))return;p._zod.traits.add(t),e(p,_);const y=c.prototype,E=Object.keys(y);for(let x=0;x<E.length;x++){const C=E[x];C in p||(p[C]=y[C].bind(p))}}const o=n?.Parent??Object;class u extends o{}Object.defineProperty(u,"name",{value:t});function c(p){var _;const y=n?.Parent?new u:this;r(y,p),(_=y._zod).deferred??(_.deferred=[]);for(const E of y._zod.deferred)E();return y}return Object.defineProperty(c,"init",{value:r}),Object.defineProperty(c,Symbol.hasInstance,{value:p=>n?.Parent&&p instanceof n.Parent?!0:p?._zod?.traits?.has(t)}),Object.defineProperty(c,"name",{value:t}),c}class Gu extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class a1 extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}const l1={};function Fl(t){return l1}function u1(t){const e=Object.values(t).filter(r=>typeof r=="number");return Object.entries(t).filter(([r,o])=>e.indexOf(+r)===-1).map(([r,o])=>o)}function W_(t,e){return typeof e=="bigint"?e.toString():e}function ev(t){return{get value(){{const e=t();return Object.defineProperty(this,"value",{value:e}),e}}}}function tv(t){return t==null}function nv(t){const e=t.startsWith("^")?1:0,n=t.endsWith("$")?t.length-1:t.length;return t.slice(e,n)}const RT=Symbol("evaluating");function cn(t,e,n){let r;Object.defineProperty(t,e,{get(){if(r!==RT)return r===void 0&&(r=RT,r=n()),r},set(o){Object.defineProperty(t,e,{value:o})},configurable:!0})}function Kl(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!0,configurable:!0})}function Yl(...t){const e={};for(const n of t){const r=Object.getOwnPropertyDescriptors(n);Object.assign(e,r)}return Object.defineProperties({},e)}function CT(t){return JSON.stringify(t)}function b4(t){return t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const c1="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function lm(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}const w4=ev(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function Dh(t){if(lm(t)===!1)return!1;const e=t.constructor;if(e===void 0||typeof e!="function")return!0;const n=e.prototype;return!(lm(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function h1(t){return Dh(t)?{...t}:Array.isArray(t)?[...t]:t}const E4=new Set(["string","number","symbol"]);function Um(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Qa(t,e,n){const r=new t._zod.constr(e??t._zod.def);return(!e||n?.parent)&&(r._zod.parent=t),r}function st(t){const e=t;if(!e)return{};if(typeof e=="string")return{error:()=>e};if(e?.message!==void 0){if(e?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function T4(t){return Object.keys(t).filter(e=>t[e]._zod.optin==="optional"&&t[e]._zod.optout==="optional")}function x4(t,e){const n=t._zod.def,r=Yl(t._zod.def,{get shape(){const o={};for(const u in e){if(!(u in n.shape))throw new Error(`Unrecognized key: "${u}"`);e[u]&&(o[u]=n.shape[u])}return Kl(this,"shape",o),o},checks:[]});return Qa(t,r)}function S4(t,e){const n=t._zod.def,r=Yl(t._zod.def,{get shape(){const o={...t._zod.def.shape};for(const u in e){if(!(u in n.shape))throw new Error(`Unrecognized key: "${u}"`);e[u]&&delete o[u]}return Kl(this,"shape",o),o},checks:[]});return Qa(t,r)}function A4(t,e){if(!Dh(e))throw new Error("Invalid input to extend: expected a plain object");const n=t._zod.def.checks;if(n&&n.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const o=Yl(t._zod.def,{get shape(){const u={...t._zod.def.shape,...e};return Kl(this,"shape",u),u},checks:[]});return Qa(t,o)}function R4(t,e){if(!Dh(e))throw new Error("Invalid input to safeExtend: expected a plain object");const n={...t._zod.def,get shape(){const r={...t._zod.def.shape,...e};return Kl(this,"shape",r),r},checks:t._zod.def.checks};return Qa(t,n)}function C4(t,e){const n=Yl(t._zod.def,{get shape(){const r={...t._zod.def.shape,...e._zod.def.shape};return Kl(this,"shape",r),r},get catchall(){return e._zod.def.catchall},checks:[]});return Qa(t,n)}function N4(t,e,n){const r=Yl(e._zod.def,{get shape(){const o=e._zod.def.shape,u={...o};if(n)for(const c in n){if(!(c in o))throw new Error(`Unrecognized key: "${c}"`);n[c]&&(u[c]=t?new t({type:"optional",innerType:o[c]}):o[c])}else for(const c in o)u[c]=t?new t({type:"optional",innerType:o[c]}):o[c];return Kl(this,"shape",u),u},checks:[]});return Qa(e,r)}function O4(t,e,n){const r=Yl(e._zod.def,{get shape(){const o=e._zod.def.shape,u={...o};if(n)for(const c in n){if(!(c in u))throw new Error(`Unrecognized key: "${c}"`);n[c]&&(u[c]=new t({type:"nonoptional",innerType:o[c]}))}else for(const c in o)u[c]=new t({type:"nonoptional",innerType:o[c]});return Kl(this,"shape",u),u},checks:[]});return Qa(e,r)}function zu(t,e=0){if(t.aborted===!0)return!0;for(let n=e;n<t.issues.length;n++)if(t.issues[n]?.continue!==!0)return!0;return!1}function f1(t,e){return e.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(t),n})}function _d(t){return typeof t=="string"?t:t?.message}function Hl(t,e,n){const r={...t,path:t.path??[]};if(!t.message){const o=_d(t.inst?._zod.def?.error?.(t))??_d(e?.error?.(t))??_d(n.customError?.(t))??_d(n.localeError?.(t))??"Invalid input";r.message=o}return delete r.inst,delete r.continue,e?.reportInput||delete r.input,r}function iv(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function kh(...t){const[e,n,r]=t;return typeof e=="string"?{message:e,code:"custom",input:n,inst:r}:{...e}}const d1=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),t.message=JSON.stringify(e,W_,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},m1=we("$ZodError",d1),p1=we("$ZodError",d1,{Parent:Error});function I4(t,e=n=>n.message){const n={},r=[];for(const o of t.issues)o.path.length>0?(n[o.path[0]]=n[o.path[0]]||[],n[o.path[0]].push(e(o))):r.push(e(o));return{formErrors:r,fieldErrors:n}}function P4(t,e=n=>n.message){const n={_errors:[]},r=o=>{for(const u of o.issues)if(u.code==="invalid_union"&&u.errors.length)u.errors.map(c=>r({issues:c}));else if(u.code==="invalid_key")r({issues:u.issues});else if(u.code==="invalid_element")r({issues:u.issues});else if(u.path.length===0)n._errors.push(e(u));else{let c=n,p=0;for(;p<u.path.length;){const _=u.path[p];p===u.path.length-1?(c[_]=c[_]||{_errors:[]},c[_]._errors.push(e(u))):c[_]=c[_]||{_errors:[]},c=c[_],p++}}};return r(t),n}const rv=t=>(e,n,r,o)=>{const u=r?Object.assign(r,{async:!1}):{async:!1},c=e._zod.run({value:n,issues:[]},u);if(c instanceof Promise)throw new Gu;if(c.issues.length){const p=new(o?.Err??t)(c.issues.map(_=>Hl(_,u,Fl())));throw c1(p,o?.callee),p}return c.value},sv=t=>async(e,n,r,o)=>{const u=r?Object.assign(r,{async:!0}):{async:!0};let c=e._zod.run({value:n,issues:[]},u);if(c instanceof Promise&&(c=await c),c.issues.length){const p=new(o?.Err??t)(c.issues.map(_=>Hl(_,u,Fl())));throw c1(p,o?.callee),p}return c.value},Vm=t=>(e,n,r)=>{const o=r?{...r,async:!1}:{async:!1},u=e._zod.run({value:n,issues:[]},o);if(u instanceof Promise)throw new Gu;return u.issues.length?{success:!1,error:new(t??m1)(u.issues.map(c=>Hl(c,o,Fl())))}:{success:!0,data:u.value}},L4=Vm(p1),Bm=t=>async(e,n,r)=>{const o=r?Object.assign(r,{async:!0}):{async:!0};let u=e._zod.run({value:n,issues:[]},o);return u instanceof Promise&&(u=await u),u.issues.length?{success:!1,error:new t(u.issues.map(c=>Hl(c,o,Fl())))}:{success:!0,data:u.value}},D4=Bm(p1),k4=t=>(e,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return rv(t)(e,n,o)},M4=t=>(e,n,r)=>rv(t)(e,n,r),z4=t=>async(e,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return sv(t)(e,n,o)},j4=t=>async(e,n,r)=>sv(t)(e,n,r),U4=t=>(e,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Vm(t)(e,n,o)},V4=t=>(e,n,r)=>Vm(t)(e,n,r),B4=t=>async(e,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Bm(t)(e,n,o)},F4=t=>async(e,n,r)=>Bm(t)(e,n,r),H4=/^[cC][^\s-]{8,}$/,q4=/^[0-9a-z]+$/,Z4=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,$4=/^[0-9a-vA-V]{20}$/,G4=/^[A-Za-z0-9]{27}$/,K4=/^[a-zA-Z0-9_-]{21}$/,Y4=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,Q4=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,NT=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,W4=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,X4="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function J4(){return new RegExp(X4,"u")}const ej=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,tj=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,nj=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,ij=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,rj=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,g1=/^[A-Za-z0-9_-]*$/,sj=/^\+(?:[0-9]){6,14}[0-9]$/,_1="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",oj=new RegExp(`^${_1}$`);function y1(t){const e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${e}`:t.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${t.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function aj(t){return new RegExp(`^${y1(t)}$`)}function lj(t){const e=y1({precision:t.precision}),n=["Z"];t.local&&n.push(""),t.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${e}(?:${n.join("|")})`;return new RegExp(`^${_1}T(?:${r})$`)}const uj=t=>{const e=t?`[\\s\\S]{${t?.minimum??0},${t?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},cj=/^[^A-Z]*$/,hj=/^[^a-z]*$/,oo=we("$ZodCheck",(t,e)=>{var n;t._zod??(t._zod={}),t._zod.def=e,(n=t._zod).onattach??(n.onattach=[])}),fj=we("$ZodCheckMaxLength",(t,e)=>{var n;oo.init(t,e),(n=t._zod.def).when??(n.when=r=>{const o=r.value;return!tv(o)&&o.length!==void 0}),t._zod.onattach.push(r=>{const o=r._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<o&&(r._zod.bag.maximum=e.maximum)}),t._zod.check=r=>{const o=r.value;if(o.length<=e.maximum)return;const c=iv(o);r.issues.push({origin:c,code:"too_big",maximum:e.maximum,inclusive:!0,input:o,inst:t,continue:!e.abort})}}),dj=we("$ZodCheckMinLength",(t,e)=>{var n;oo.init(t,e),(n=t._zod.def).when??(n.when=r=>{const o=r.value;return!tv(o)&&o.length!==void 0}),t._zod.onattach.push(r=>{const o=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>o&&(r._zod.bag.minimum=e.minimum)}),t._zod.check=r=>{const o=r.value;if(o.length>=e.minimum)return;const c=iv(o);r.issues.push({origin:c,code:"too_small",minimum:e.minimum,inclusive:!0,input:o,inst:t,continue:!e.abort})}}),mj=we("$ZodCheckLengthEquals",(t,e)=>{var n;oo.init(t,e),(n=t._zod.def).when??(n.when=r=>{const o=r.value;return!tv(o)&&o.length!==void 0}),t._zod.onattach.push(r=>{const o=r._zod.bag;o.minimum=e.length,o.maximum=e.length,o.length=e.length}),t._zod.check=r=>{const o=r.value,u=o.length;if(u===e.length)return;const c=iv(o),p=u>e.length;r.issues.push({origin:c,...p?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:r.value,inst:t,continue:!e.abort})}}),Fm=we("$ZodCheckStringFormat",(t,e)=>{var n,r;oo.init(t,e),t._zod.onattach.push(o=>{const u=o._zod.bag;u.format=e.format,e.pattern&&(u.patterns??(u.patterns=new Set),u.patterns.add(e.pattern))}),e.pattern?(n=t._zod).check??(n.check=o=>{e.pattern.lastIndex=0,!e.pattern.test(o.value)&&o.issues.push({origin:"string",code:"invalid_format",format:e.format,input:o.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:t,continue:!e.abort})}):(r=t._zod).check??(r.check=()=>{})}),pj=we("$ZodCheckRegex",(t,e)=>{Fm.init(t,e),t._zod.check=n=>{e.pattern.lastIndex=0,!e.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:e.pattern.toString(),inst:t,continue:!e.abort})}}),gj=we("$ZodCheckLowerCase",(t,e)=>{e.pattern??(e.pattern=cj),Fm.init(t,e)}),_j=we("$ZodCheckUpperCase",(t,e)=>{e.pattern??(e.pattern=hj),Fm.init(t,e)}),yj=we("$ZodCheckIncludes",(t,e)=>{oo.init(t,e);const n=Um(e.includes),r=new RegExp(typeof e.position=="number"?`^.{${e.position}}${n}`:n);e.pattern=r,t._zod.onattach.push(o=>{const u=o._zod.bag;u.patterns??(u.patterns=new Set),u.patterns.add(r)}),t._zod.check=o=>{o.value.includes(e.includes,e.position)||o.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:o.value,inst:t,continue:!e.abort})}}),vj=we("$ZodCheckStartsWith",(t,e)=>{oo.init(t,e);const n=new RegExp(`^${Um(e.prefix)}.*`);e.pattern??(e.pattern=n),t._zod.onattach.push(r=>{const o=r._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(n)}),t._zod.check=r=>{r.value.startsWith(e.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:r.value,inst:t,continue:!e.abort})}}),bj=we("$ZodCheckEndsWith",(t,e)=>{oo.init(t,e);const n=new RegExp(`.*${Um(e.suffix)}$`);e.pattern??(e.pattern=n),t._zod.onattach.push(r=>{const o=r._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(n)}),t._zod.check=r=>{r.value.endsWith(e.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:r.value,inst:t,continue:!e.abort})}}),wj=we("$ZodCheckOverwrite",(t,e)=>{oo.init(t,e),t._zod.check=n=>{n.value=e.tx(n.value)}});class Ej{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}const r=e.split(`
`).filter(c=>c),o=Math.min(...r.map(c=>c.length-c.trimStart().length)),u=r.map(c=>c.slice(o)).map(c=>" ".repeat(this.indent*2)+c);for(const c of u)this.content.push(c)}compile(){const e=Function,n=this?.args,o=[...(this?.content??[""]).map(u=>`  ${u}`)];return new e(...n,o.join(`
`))}}const Tj={major:4,minor:2,patch:1},Kn=we("$ZodType",(t,e)=>{var n;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=Tj;const r=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&r.unshift(t);for(const o of r)for(const u of o._zod.onattach)u(t);if(r.length===0)(n=t._zod).deferred??(n.deferred=[]),t._zod.deferred?.push(()=>{t._zod.run=t._zod.parse});else{const o=(c,p,_)=>{let y=zu(c),E;for(const x of p){if(x._zod.def.when){if(!x._zod.def.when(c))continue}else if(y)continue;const C=c.issues.length,D=x._zod.check(c);if(D instanceof Promise&&_?.async===!1)throw new Gu;if(E||D instanceof Promise)E=(E??Promise.resolve()).then(async()=>{await D,c.issues.length!==C&&(y||(y=zu(c,C)))});else{if(c.issues.length===C)continue;y||(y=zu(c,C))}}return E?E.then(()=>c):c},u=(c,p,_)=>{if(zu(c))return c.aborted=!0,c;const y=o(p,r,_);if(y instanceof Promise){if(_.async===!1)throw new Gu;return y.then(E=>t._zod.parse(E,_))}return t._zod.parse(y,_)};t._zod.run=(c,p)=>{if(p.skipChecks)return t._zod.parse(c,p);if(p.direction==="backward"){const y=t._zod.parse({value:c.value,issues:[]},{...p,skipChecks:!0});return y instanceof Promise?y.then(E=>u(E,c,p)):u(y,c,p)}const _=t._zod.parse(c,p);if(_ instanceof Promise){if(p.async===!1)throw new Gu;return _.then(y=>o(y,r,p))}return o(_,r,p)}}t["~standard"]={validate:o=>{try{const u=L4(t,o);return u.success?{value:u.data}:{issues:u.error?.issues}}catch{return D4(t,o).then(c=>c.success?{value:c.data}:{issues:c.error?.issues})}},vendor:"zod",version:1}}),ov=we("$ZodString",(t,e)=>{Kn.init(t,e),t._zod.pattern=[...t?._zod.bag?.patterns??[]].pop()??uj(t._zod.bag),t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:t}),n}}),_n=we("$ZodStringFormat",(t,e)=>{Fm.init(t,e),ov.init(t,e)}),xj=we("$ZodGUID",(t,e)=>{e.pattern??(e.pattern=Q4),_n.init(t,e)}),Sj=we("$ZodUUID",(t,e)=>{if(e.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(r===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=NT(r))}else e.pattern??(e.pattern=NT());_n.init(t,e)}),Aj=we("$ZodEmail",(t,e)=>{e.pattern??(e.pattern=W4),_n.init(t,e)}),Rj=we("$ZodURL",(t,e)=>{_n.init(t,e),t._zod.check=n=>{try{const r=n.value.trim(),o=new URL(r);e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(o.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:e.hostname.source,input:n.value,inst:t,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(o.protocol.endsWith(":")?o.protocol.slice(0,-1):o.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:n.value,inst:t,continue:!e.abort})),e.normalize?n.value=o.href:n.value=r;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:t,continue:!e.abort})}}}),Cj=we("$ZodEmoji",(t,e)=>{e.pattern??(e.pattern=J4()),_n.init(t,e)}),Nj=we("$ZodNanoID",(t,e)=>{e.pattern??(e.pattern=K4),_n.init(t,e)}),Oj=we("$ZodCUID",(t,e)=>{e.pattern??(e.pattern=H4),_n.init(t,e)}),Ij=we("$ZodCUID2",(t,e)=>{e.pattern??(e.pattern=q4),_n.init(t,e)}),Pj=we("$ZodULID",(t,e)=>{e.pattern??(e.pattern=Z4),_n.init(t,e)}),Lj=we("$ZodXID",(t,e)=>{e.pattern??(e.pattern=$4),_n.init(t,e)}),Dj=we("$ZodKSUID",(t,e)=>{e.pattern??(e.pattern=G4),_n.init(t,e)}),kj=we("$ZodISODateTime",(t,e)=>{e.pattern??(e.pattern=lj(e)),_n.init(t,e)}),Mj=we("$ZodISODate",(t,e)=>{e.pattern??(e.pattern=oj),_n.init(t,e)}),zj=we("$ZodISOTime",(t,e)=>{e.pattern??(e.pattern=aj(e)),_n.init(t,e)}),jj=we("$ZodISODuration",(t,e)=>{e.pattern??(e.pattern=Y4),_n.init(t,e)}),Uj=we("$ZodIPv4",(t,e)=>{e.pattern??(e.pattern=ej),_n.init(t,e),t._zod.bag.format="ipv4"}),Vj=we("$ZodIPv6",(t,e)=>{e.pattern??(e.pattern=tj),_n.init(t,e),t._zod.bag.format="ipv6",t._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:t,continue:!e.abort})}}}),Bj=we("$ZodCIDRv4",(t,e)=>{e.pattern??(e.pattern=nj),_n.init(t,e)}),Fj=we("$ZodCIDRv6",(t,e)=>{e.pattern??(e.pattern=ij),_n.init(t,e),t._zod.check=n=>{const r=n.value.split("/");try{if(r.length!==2)throw new Error;const[o,u]=r;if(!u)throw new Error;const c=Number(u);if(`${c}`!==u)throw new Error;if(c<0||c>128)throw new Error;new URL(`http://[${o}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:t,continue:!e.abort})}}});function v1(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}const Hj=we("$ZodBase64",(t,e)=>{e.pattern??(e.pattern=rj),_n.init(t,e),t._zod.bag.contentEncoding="base64",t._zod.check=n=>{v1(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:t,continue:!e.abort})}});function qj(t){if(!g1.test(t))return!1;const e=t.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=e.padEnd(Math.ceil(e.length/4)*4,"=");return v1(n)}const Zj=we("$ZodBase64URL",(t,e)=>{e.pattern??(e.pattern=g1),_n.init(t,e),t._zod.bag.contentEncoding="base64url",t._zod.check=n=>{qj(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:t,continue:!e.abort})}}),$j=we("$ZodE164",(t,e)=>{e.pattern??(e.pattern=sj),_n.init(t,e)});function Gj(t,e=null){try{const n=t.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const o=JSON.parse(atob(r));return!("typ"in o&&o?.typ!=="JWT"||!o.alg||e&&(!("alg"in o)||o.alg!==e))}catch{return!1}}const Kj=we("$ZodJWT",(t,e)=>{_n.init(t,e),t._zod.check=n=>{Gj(n.value,e.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:t,continue:!e.abort})}}),Yj=we("$ZodUnknown",(t,e)=>{Kn.init(t,e),t._zod.parse=n=>n}),Qj=we("$ZodNever",(t,e)=>{Kn.init(t,e),t._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:t}),n)});function OT(t,e,n){t.issues.length&&e.issues.push(...f1(n,t.issues)),e.value[n]=t.value}const Wj=we("$ZodArray",(t,e)=>{Kn.init(t,e),t._zod.parse=(n,r)=>{const o=n.value;if(!Array.isArray(o))return n.issues.push({expected:"array",code:"invalid_type",input:o,inst:t}),n;n.value=Array(o.length);const u=[];for(let c=0;c<o.length;c++){const p=o[c],_=e.element._zod.run({value:p,issues:[]},r);_ instanceof Promise?u.push(_.then(y=>OT(y,n,c))):OT(_,n,c)}return u.length?Promise.all(u).then(()=>n):n}});function um(t,e,n,r){t.issues.length&&e.issues.push(...f1(n,t.issues)),t.value===void 0?n in r&&(e.value[n]=void 0):e.value[n]=t.value}function b1(t){const e=Object.keys(t.shape);for(const r of e)if(!t.shape?.[r]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${r}": expected a Zod schema`);const n=T4(t.shape);return{...t,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(n)}}function w1(t,e,n,r,o,u){const c=[],p=o.keySet,_=o.catchall._zod,y=_.def.type;for(const E in e){if(p.has(E))continue;if(y==="never"){c.push(E);continue}const x=_.run({value:e[E],issues:[]},r);x instanceof Promise?t.push(x.then(C=>um(C,n,E,e))):um(x,n,E,e)}return c.length&&n.issues.push({code:"unrecognized_keys",keys:c,input:e,inst:u}),t.length?Promise.all(t).then(()=>n):n}const Xj=we("$ZodObject",(t,e)=>{if(Kn.init(t,e),!Object.getOwnPropertyDescriptor(e,"shape")?.get){const p=e.shape;Object.defineProperty(e,"shape",{get:()=>{const _={...p};return Object.defineProperty(e,"shape",{value:_}),_}})}const r=ev(()=>b1(e));cn(t._zod,"propValues",()=>{const p=e.shape,_={};for(const y in p){const E=p[y]._zod;if(E.values){_[y]??(_[y]=new Set);for(const x of E.values)_[y].add(x)}}return _});const o=lm,u=e.catchall;let c;t._zod.parse=(p,_)=>{c??(c=r.value);const y=p.value;if(!o(y))return p.issues.push({expected:"object",code:"invalid_type",input:y,inst:t}),p;p.value={};const E=[],x=c.shape;for(const C of c.keys){const I=x[C]._zod.run({value:y[C],issues:[]},_);I instanceof Promise?E.push(I.then(j=>um(j,p,C,y))):um(I,p,C,y)}return u?w1(E,y,p,_,r.value,t):E.length?Promise.all(E).then(()=>p):p}}),Jj=we("$ZodObjectJIT",(t,e)=>{Xj.init(t,e);const n=t._zod.parse,r=ev(()=>b1(e)),o=C=>{const D=new Ej(["shape","payload","ctx"]),I=r.value,j=ae=>{const Te=CT(ae);return`shape[${Te}]._zod.run({ value: input[${Te}], issues: [] }, ctx)`};D.write("const input = payload.value;");const U=Object.create(null);let ne=0;for(const ae of I.keys)U[ae]=`key_${ne++}`;D.write("const newResult = {};");for(const ae of I.keys){const Te=U[ae],Ce=CT(ae);D.write(`const ${Te} = ${j(ae)};`),D.write(`
        if (${Te}.issues.length) {
          payload.issues = payload.issues.concat(${Te}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${Ce}, ...iss.path] : [${Ce}]
          })));
        }
        
        
        if (${Te}.value === undefined) {
          if (${Ce} in input) {
            newResult[${Ce}] = undefined;
          }
        } else {
          newResult[${Ce}] = ${Te}.value;
        }
        
      `)}D.write("payload.value = newResult;"),D.write("return payload;");const ee=D.compile();return(ae,Te)=>ee(C,ae,Te)};let u;const c=lm,p=!l1.jitless,y=p&&w4.value,E=e.catchall;let x;t._zod.parse=(C,D)=>{x??(x=r.value);const I=C.value;return c(I)?p&&y&&D?.async===!1&&D.jitless!==!0?(u||(u=o(e.shape)),C=u(C,D),E?w1([],I,C,D,x,t):C):n(C,D):(C.issues.push({expected:"object",code:"invalid_type",input:I,inst:t}),C)}});function IT(t,e,n,r){for(const u of t)if(u.issues.length===0)return e.value=u.value,e;const o=t.filter(u=>!zu(u));return o.length===1?(e.value=o[0].value,o[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:n,errors:t.map(u=>u.issues.map(c=>Hl(c,r,Fl())))}),e)}const e6=we("$ZodUnion",(t,e)=>{Kn.init(t,e),cn(t._zod,"optin",()=>e.options.some(o=>o._zod.optin==="optional")?"optional":void 0),cn(t._zod,"optout",()=>e.options.some(o=>o._zod.optout==="optional")?"optional":void 0),cn(t._zod,"values",()=>{if(e.options.every(o=>o._zod.values))return new Set(e.options.flatMap(o=>Array.from(o._zod.values)))}),cn(t._zod,"pattern",()=>{if(e.options.every(o=>o._zod.pattern)){const o=e.options.map(u=>u._zod.pattern);return new RegExp(`^(${o.map(u=>nv(u.source)).join("|")})$`)}});const n=e.options.length===1,r=e.options[0]._zod.run;t._zod.parse=(o,u)=>{if(n)return r(o,u);let c=!1;const p=[];for(const _ of e.options){const y=_._zod.run({value:o.value,issues:[]},u);if(y instanceof Promise)p.push(y),c=!0;else{if(y.issues.length===0)return y;p.push(y)}}return c?Promise.all(p).then(_=>IT(_,o,t,u)):IT(p,o,t,u)}}),t6=we("$ZodIntersection",(t,e)=>{Kn.init(t,e),t._zod.parse=(n,r)=>{const o=n.value,u=e.left._zod.run({value:o,issues:[]},r),c=e.right._zod.run({value:o,issues:[]},r);return u instanceof Promise||c instanceof Promise?Promise.all([u,c]).then(([_,y])=>PT(n,_,y)):PT(n,u,c)}});function X_(t,e){if(t===e)return{valid:!0,data:t};if(t instanceof Date&&e instanceof Date&&+t==+e)return{valid:!0,data:t};if(Dh(t)&&Dh(e)){const n=Object.keys(e),r=Object.keys(t).filter(u=>n.indexOf(u)!==-1),o={...t,...e};for(const u of r){const c=X_(t[u],e[u]);if(!c.valid)return{valid:!1,mergeErrorPath:[u,...c.mergeErrorPath]};o[u]=c.data}return{valid:!0,data:o}}if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<t.length;r++){const o=t[r],u=e[r],c=X_(o,u);if(!c.valid)return{valid:!1,mergeErrorPath:[r,...c.mergeErrorPath]};n.push(c.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function PT(t,e,n){if(e.issues.length&&t.issues.push(...e.issues),n.issues.length&&t.issues.push(...n.issues),zu(t))return t;const r=X_(e.value,n.value);if(!r.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(r.mergeErrorPath)}`);return t.value=r.data,t}const n6=we("$ZodEnum",(t,e)=>{Kn.init(t,e);const n=u1(e.entries),r=new Set(n);t._zod.values=r,t._zod.pattern=new RegExp(`^(${n.filter(o=>E4.has(typeof o)).map(o=>typeof o=="string"?Um(o):o.toString()).join("|")})$`),t._zod.parse=(o,u)=>{const c=o.value;return r.has(c)||o.issues.push({code:"invalid_value",values:n,input:c,inst:t}),o}}),i6=we("$ZodTransform",(t,e)=>{Kn.init(t,e),t._zod.parse=(n,r)=>{if(r.direction==="backward")throw new a1(t.constructor.name);const o=e.transform(n.value,n);if(r.async)return(o instanceof Promise?o:Promise.resolve(o)).then(c=>(n.value=c,n));if(o instanceof Promise)throw new Gu;return n.value=o,n}});function LT(t,e){return t.issues.length&&e===void 0?{issues:[],value:void 0}:t}const r6=we("$ZodOptional",(t,e)=>{Kn.init(t,e),t._zod.optin="optional",t._zod.optout="optional",cn(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),cn(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${nv(n.source)})?$`):void 0}),t._zod.parse=(n,r)=>{if(e.innerType._zod.optin==="optional"){const o=e.innerType._zod.run(n,r);return o instanceof Promise?o.then(u=>LT(u,n.value)):LT(o,n.value)}return n.value===void 0?n:e.innerType._zod.run(n,r)}}),s6=we("$ZodNullable",(t,e)=>{Kn.init(t,e),cn(t._zod,"optin",()=>e.innerType._zod.optin),cn(t._zod,"optout",()=>e.innerType._zod.optout),cn(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${nv(n.source)}|null)$`):void 0}),cn(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),t._zod.parse=(n,r)=>n.value===null?n:e.innerType._zod.run(n,r)}),o6=we("$ZodDefault",(t,e)=>{Kn.init(t,e),t._zod.optin="optional",cn(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);if(n.value===void 0)return n.value=e.defaultValue,n;const o=e.innerType._zod.run(n,r);return o instanceof Promise?o.then(u=>DT(u,e)):DT(o,e)}});function DT(t,e){return t.value===void 0&&(t.value=e.defaultValue),t}const a6=we("$ZodPrefault",(t,e)=>{Kn.init(t,e),t._zod.optin="optional",cn(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>(r.direction==="backward"||n.value===void 0&&(n.value=e.defaultValue),e.innerType._zod.run(n,r))}),l6=we("$ZodNonOptional",(t,e)=>{Kn.init(t,e),cn(t._zod,"values",()=>{const n=e.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),t._zod.parse=(n,r)=>{const o=e.innerType._zod.run(n,r);return o instanceof Promise?o.then(u=>kT(u,t)):kT(o,t)}});function kT(t,e){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:e}),t}const u6=we("$ZodCatch",(t,e)=>{Kn.init(t,e),cn(t._zod,"optin",()=>e.innerType._zod.optin),cn(t._zod,"optout",()=>e.innerType._zod.optout),cn(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);const o=e.innerType._zod.run(n,r);return o instanceof Promise?o.then(u=>(n.value=u.value,u.issues.length&&(n.value=e.catchValue({...n,error:{issues:u.issues.map(c=>Hl(c,r,Fl()))},input:n.value}),n.issues=[]),n)):(n.value=o.value,o.issues.length&&(n.value=e.catchValue({...n,error:{issues:o.issues.map(u=>Hl(u,r,Fl()))},input:n.value}),n.issues=[]),n)}}),c6=we("$ZodPipe",(t,e)=>{Kn.init(t,e),cn(t._zod,"values",()=>e.in._zod.values),cn(t._zod,"optin",()=>e.in._zod.optin),cn(t._zod,"optout",()=>e.out._zod.optout),cn(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(n,r)=>{if(r.direction==="backward"){const u=e.out._zod.run(n,r);return u instanceof Promise?u.then(c=>yd(c,e.in,r)):yd(u,e.in,r)}const o=e.in._zod.run(n,r);return o instanceof Promise?o.then(u=>yd(u,e.out,r)):yd(o,e.out,r)}});function yd(t,e,n){return t.issues.length?(t.aborted=!0,t):e._zod.run({value:t.value,issues:t.issues},n)}const h6=we("$ZodReadonly",(t,e)=>{Kn.init(t,e),cn(t._zod,"propValues",()=>e.innerType._zod.propValues),cn(t._zod,"values",()=>e.innerType._zod.values),cn(t._zod,"optin",()=>e.innerType?._zod?.optin),cn(t._zod,"optout",()=>e.innerType?._zod?.optout),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);const o=e.innerType._zod.run(n,r);return o instanceof Promise?o.then(MT):MT(o)}});function MT(t){return t.value=Object.freeze(t.value),t}const f6=we("$ZodCustom",(t,e)=>{oo.init(t,e),Kn.init(t,e),t._zod.parse=(n,r)=>n,t._zod.check=n=>{const r=n.value,o=e.fn(r);if(o instanceof Promise)return o.then(u=>zT(u,n,r,t));zT(o,n,r,t)}});function zT(t,e,n,r){if(!t){const o={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(o.params=r._zod.def.params),e.issues.push(kh(o))}}var jT;class d6{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...n){const r=n[0];if(this._map.set(e,r),r&&typeof r=="object"&&"id"in r){if(this._idmap.has(r.id))throw new Error(`ID ${r.id} already exists in the registry`);this._idmap.set(r.id,e)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const n=this._map.get(e);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(e),this}get(e){const n=e._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const o={...r,...this._map.get(e)};return Object.keys(o).length?o:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function m6(){return new d6}(jT=globalThis).__zod_globalRegistry??(jT.__zod_globalRegistry=m6());const gh=globalThis.__zod_globalRegistry;function p6(t,e){return new t({type:"string",...st(e)})}function g6(t,e){return new t({type:"string",format:"email",check:"string_format",abort:!1,...st(e)})}function UT(t,e){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...st(e)})}function _6(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...st(e)})}function y6(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...st(e)})}function v6(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...st(e)})}function b6(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...st(e)})}function w6(t,e){return new t({type:"string",format:"url",check:"string_format",abort:!1,...st(e)})}function E6(t,e){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...st(e)})}function T6(t,e){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...st(e)})}function x6(t,e){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...st(e)})}function S6(t,e){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...st(e)})}function A6(t,e){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...st(e)})}function R6(t,e){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...st(e)})}function C6(t,e){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...st(e)})}function N6(t,e){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...st(e)})}function O6(t,e){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...st(e)})}function I6(t,e){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...st(e)})}function P6(t,e){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...st(e)})}function L6(t,e){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...st(e)})}function D6(t,e){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...st(e)})}function k6(t,e){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...st(e)})}function M6(t,e){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...st(e)})}function z6(t,e){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...st(e)})}function j6(t,e){return new t({type:"string",format:"date",check:"string_format",...st(e)})}function U6(t,e){return new t({type:"string",format:"time",check:"string_format",precision:null,...st(e)})}function V6(t,e){return new t({type:"string",format:"duration",check:"string_format",...st(e)})}function B6(t){return new t({type:"unknown"})}function F6(t,e){return new t({type:"never",...st(e)})}function E1(t,e){return new fj({check:"max_length",...st(e),maximum:t})}function cm(t,e){return new dj({check:"min_length",...st(e),minimum:t})}function T1(t,e){return new mj({check:"length_equals",...st(e),length:t})}function H6(t,e){return new pj({check:"string_format",format:"regex",...st(e),pattern:t})}function q6(t){return new gj({check:"string_format",format:"lowercase",...st(t)})}function Z6(t){return new _j({check:"string_format",format:"uppercase",...st(t)})}function $6(t,e){return new yj({check:"string_format",format:"includes",...st(e),includes:t})}function G6(t,e){return new vj({check:"string_format",format:"starts_with",...st(e),prefix:t})}function K6(t,e){return new bj({check:"string_format",format:"ends_with",...st(e),suffix:t})}function mc(t){return new wj({check:"overwrite",tx:t})}function Y6(t){return mc(e=>e.normalize(t))}function Q6(){return mc(t=>t.trim())}function W6(){return mc(t=>t.toLowerCase())}function X6(){return mc(t=>t.toUpperCase())}function J6(){return mc(t=>b4(t))}function e3(t,e,n){return new t({type:"array",element:e,...st(n)})}function t3(t,e,n){return new t({type:"custom",check:"custom",fn:e,...st(n)})}function n3(t){const e=i3(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(kh(r,n.value,e._zod.def));else{const o=r;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=n.value),o.inst??(o.inst=e),o.continue??(o.continue=!e._zod.def.abort),n.issues.push(kh(o))}},t(n.value,n)));return e}function i3(t,e){const n=new oo({check:"custom",...st(e)});return n._zod.check=t,n}function x1(t){let e=t?.target??"draft-2020-12";return e==="draft-4"&&(e="draft-04"),e==="draft-7"&&(e="draft-07"),{processors:t.processors??{},metadataRegistry:t?.metadata??gh,target:e,unrepresentable:t?.unrepresentable??"throw",override:t?.override??(()=>{}),io:t?.io??"output",counter:0,seen:new Map,cycles:t?.cycles??"ref",reused:t?.reused??"inline",external:t?.external??void 0}}function _i(t,e,n={path:[],schemaPath:[]}){var r;const o=t._zod.def,u=e.seen.get(t);if(u)return u.count++,n.schemaPath.includes(t)&&(u.cycle=n.path),u.schema;const c={schema:{},count:1,cycle:void 0,path:n.path};e.seen.set(t,c);const p=t._zod.toJSONSchema?.();if(p)c.schema=p;else{const E={...n,schemaPath:[...n.schemaPath,t],path:n.path},x=t._zod.parent;if(x)c.ref=x,_i(x,e,E),e.seen.get(x).isParent=!0;else if(t._zod.processJSONSchema)t._zod.processJSONSchema(e,c.schema,E);else{const C=c.schema,D=e.processors[o.type];if(!D)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${o.type}`);D(t,e,C,E)}}const _=e.metadataRegistry.get(t);return _&&Object.assign(c.schema,_),e.io==="input"&&Fi(t)&&(delete c.schema.examples,delete c.schema.default),e.io==="input"&&c.schema._prefault&&((r=c.schema).default??(r.default=c.schema._prefault)),delete c.schema._prefault,e.seen.get(t).schema}function S1(t,e){const n=t.seen.get(e);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=u=>{const c=t.target==="draft-2020-12"?"$defs":"definitions";if(t.external){const E=t.external.registry.get(u[0])?.id,x=t.external.uri??(D=>D);if(E)return{ref:x(E)};const C=u[1].defId??u[1].schema.id??`schema${t.counter++}`;return u[1].defId=C,{defId:C,ref:`${x("__shared")}#/${c}/${C}`}}if(u[1]===n)return{ref:"#"};const _=`#/${c}/`,y=u[1].schema.id??`__schema${t.counter++}`;return{defId:y,ref:_+y}},o=u=>{if(u[1].schema.$ref)return;const c=u[1],{ref:p,defId:_}=r(u);c.def={...c.schema},_&&(c.defId=_);const y=c.schema;for(const E in y)delete y[E];y.$ref=p};if(t.cycles==="throw")for(const u of t.seen.entries()){const c=u[1];if(c.cycle)throw new Error(`Cycle detected: #/${c.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const u of t.seen.entries()){const c=u[1];if(e===u[0]){o(u);continue}if(t.external){const _=t.external.registry.get(u[0])?.id;if(e!==u[0]&&_){o(u);continue}}if(t.metadataRegistry.get(u[0])?.id){o(u);continue}if(c.cycle){o(u);continue}if(c.count>1&&t.reused==="ref"){o(u);continue}}}function A1(t,e){const n=t.seen.get(e);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=c=>{const p=t.seen.get(c),_=p.def??p.schema,y={..._};if(p.ref===null)return;const E=p.ref;if(p.ref=null,E){r(E);const x=t.seen.get(E).schema;x.$ref&&(t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0")?(_.allOf=_.allOf??[],_.allOf.push(x)):(Object.assign(_,x),Object.assign(_,y))}p.isParent||t.override({zodSchema:c,jsonSchema:_,path:p.path??[]})};for(const c of[...t.seen.entries()].reverse())r(c[0]);const o={};if(t.target==="draft-2020-12"?o.$schema="https://json-schema.org/draft/2020-12/schema":t.target==="draft-07"?o.$schema="http://json-schema.org/draft-07/schema#":t.target==="draft-04"?o.$schema="http://json-schema.org/draft-04/schema#":t.target,t.external?.uri){const c=t.external.registry.get(e)?.id;if(!c)throw new Error("Schema is missing an `id` property");o.$id=t.external.uri(c)}Object.assign(o,n.def??n.schema);const u=t.external?.defs??{};for(const c of t.seen.entries()){const p=c[1];p.def&&p.defId&&(u[p.defId]=p.def)}t.external||Object.keys(u).length>0&&(t.target==="draft-2020-12"?o.$defs=u:o.definitions=u);try{const c=JSON.parse(JSON.stringify(o));return Object.defineProperty(c,"~standard",{value:{...e["~standard"],jsonSchema:{input:hm(e,"input"),output:hm(e,"output")}},enumerable:!1,writable:!1}),c}catch{throw new Error("Error converting schema to JSON.")}}function Fi(t,e){const n=e??{seen:new Set};if(n.seen.has(t))return!1;n.seen.add(t);const r=t._zod.def;if(r.type==="transform")return!0;if(r.type==="array")return Fi(r.element,n);if(r.type==="set")return Fi(r.valueType,n);if(r.type==="lazy")return Fi(r.getter(),n);if(r.type==="promise"||r.type==="optional"||r.type==="nonoptional"||r.type==="nullable"||r.type==="readonly"||r.type==="default"||r.type==="prefault")return Fi(r.innerType,n);if(r.type==="intersection")return Fi(r.left,n)||Fi(r.right,n);if(r.type==="record"||r.type==="map")return Fi(r.keyType,n)||Fi(r.valueType,n);if(r.type==="pipe")return Fi(r.in,n)||Fi(r.out,n);if(r.type==="object"){for(const o in r.shape)if(Fi(r.shape[o],n))return!0;return!1}if(r.type==="union"){for(const o of r.options)if(Fi(o,n))return!0;return!1}if(r.type==="tuple"){for(const o of r.items)if(Fi(o,n))return!0;return!!(r.rest&&Fi(r.rest,n))}return!1}const r3=(t,e={})=>n=>{const r=x1({...n,processors:e});return _i(t,r),S1(r,t),A1(r,t)},hm=(t,e)=>n=>{const{libraryOptions:r,target:o}=n??{},u=x1({...r??{},target:o,io:e,processors:{}});return _i(t,u),S1(u,t),A1(u,t)},s3={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},o3=(t,e,n,r)=>{const o=n;o.type="string";const{minimum:u,maximum:c,format:p,patterns:_,contentEncoding:y}=t._zod.bag;if(typeof u=="number"&&(o.minLength=u),typeof c=="number"&&(o.maxLength=c),p&&(o.format=s3[p]??p,o.format===""&&delete o.format),y&&(o.contentEncoding=y),_&&_.size>0){const E=[..._];E.length===1?o.pattern=E[0].source:E.length>1&&(o.allOf=[...E.map(x=>({...e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0"?{type:"string"}:{},pattern:x.source}))])}},a3=(t,e,n,r)=>{n.not={}},l3=(t,e,n,r)=>{},u3=(t,e,n,r)=>{const o=t._zod.def,u=u1(o.entries);u.every(c=>typeof c=="number")&&(n.type="number"),u.every(c=>typeof c=="string")&&(n.type="string"),n.enum=u},c3=(t,e,n,r)=>{if(e.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},h3=(t,e,n,r)=>{if(e.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},f3=(t,e,n,r)=>{const o=n,u=t._zod.def,{minimum:c,maximum:p}=t._zod.bag;typeof c=="number"&&(o.minItems=c),typeof p=="number"&&(o.maxItems=p),o.type="array",o.items=_i(u.element,e,{...r,path:[...r.path,"items"]})},d3=(t,e,n,r)=>{const o=n,u=t._zod.def;o.type="object",o.properties={};const c=u.shape;for(const y in c)o.properties[y]=_i(c[y],e,{...r,path:[...r.path,"properties",y]});const p=new Set(Object.keys(c)),_=new Set([...p].filter(y=>{const E=u.shape[y]._zod;return e.io==="input"?E.optin===void 0:E.optout===void 0}));_.size>0&&(o.required=Array.from(_)),u.catchall?._zod.def.type==="never"?o.additionalProperties=!1:u.catchall?u.catchall&&(o.additionalProperties=_i(u.catchall,e,{...r,path:[...r.path,"additionalProperties"]})):e.io==="output"&&(o.additionalProperties=!1)},m3=(t,e,n,r)=>{const o=t._zod.def,u=o.inclusive===!1,c=o.options.map((p,_)=>_i(p,e,{...r,path:[...r.path,u?"oneOf":"anyOf",_]}));u?n.oneOf=c:n.anyOf=c},p3=(t,e,n,r)=>{const o=t._zod.def,u=_i(o.left,e,{...r,path:[...r.path,"allOf",0]}),c=_i(o.right,e,{...r,path:[...r.path,"allOf",1]}),p=y=>"allOf"in y&&Object.keys(y).length===1,_=[...p(u)?u.allOf:[u],...p(c)?c.allOf:[c]];n.allOf=_},g3=(t,e,n,r)=>{const o=t._zod.def,u=_i(o.innerType,e,r),c=e.seen.get(t);e.target==="openapi-3.0"?(c.ref=o.innerType,n.nullable=!0):n.anyOf=[u,{type:"null"}]},_3=(t,e,n,r)=>{const o=t._zod.def;_i(o.innerType,e,r);const u=e.seen.get(t);u.ref=o.innerType},y3=(t,e,n,r)=>{const o=t._zod.def;_i(o.innerType,e,r);const u=e.seen.get(t);u.ref=o.innerType,n.default=JSON.parse(JSON.stringify(o.defaultValue))},v3=(t,e,n,r)=>{const o=t._zod.def;_i(o.innerType,e,r);const u=e.seen.get(t);u.ref=o.innerType,e.io==="input"&&(n._prefault=JSON.parse(JSON.stringify(o.defaultValue)))},b3=(t,e,n,r)=>{const o=t._zod.def;_i(o.innerType,e,r);const u=e.seen.get(t);u.ref=o.innerType;let c;try{c=o.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}n.default=c},w3=(t,e,n,r)=>{const o=t._zod.def,u=e.io==="input"?o.in._zod.def.type==="transform"?o.out:o.in:o.out;_i(u,e,r);const c=e.seen.get(t);c.ref=u},E3=(t,e,n,r)=>{const o=t._zod.def;_i(o.innerType,e,r);const u=e.seen.get(t);u.ref=o.innerType,n.readOnly=!0},T3=(t,e,n,r)=>{const o=t._zod.def;_i(o.innerType,e,r);const u=e.seen.get(t);u.ref=o.innerType},x3=we("ZodISODateTime",(t,e)=>{kj.init(t,e),wn.init(t,e)});function S3(t){return z6(x3,t)}const A3=we("ZodISODate",(t,e)=>{Mj.init(t,e),wn.init(t,e)});function R3(t){return j6(A3,t)}const C3=we("ZodISOTime",(t,e)=>{zj.init(t,e),wn.init(t,e)});function N3(t){return U6(C3,t)}const O3=we("ZodISODuration",(t,e)=>{jj.init(t,e),wn.init(t,e)});function I3(t){return V6(O3,t)}const P3=(t,e)=>{m1.init(t,e),t.name="ZodError",Object.defineProperties(t,{format:{value:n=>P4(t,n)},flatten:{value:n=>I4(t,n)},addIssue:{value:n=>{t.issues.push(n),t.message=JSON.stringify(t.issues,W_,2)}},addIssues:{value:n=>{t.issues.push(...n),t.message=JSON.stringify(t.issues,W_,2)}},isEmpty:{get(){return t.issues.length===0}}})},ts=we("ZodError",P3,{Parent:Error}),L3=rv(ts),D3=sv(ts),k3=Vm(ts),M3=Bm(ts),z3=k4(ts),j3=M4(ts),U3=z4(ts),V3=j4(ts),B3=U4(ts),F3=V4(ts),H3=B4(ts),q3=F4(ts),ui=we("ZodType",(t,e)=>(Kn.init(t,e),Object.assign(t["~standard"],{jsonSchema:{input:hm(t,"input"),output:hm(t,"output")}}),t.toJSONSchema=r3(t,{}),t.def=e,t.type=e.type,Object.defineProperty(t,"_def",{value:e}),t.check=(...n)=>t.clone(Yl(e,{checks:[...e.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]})),t.clone=(n,r)=>Qa(t,n,r),t.brand=()=>t,t.register=((n,r)=>(n.add(t,r),t)),t.parse=(n,r)=>L3(t,n,r,{callee:t.parse}),t.safeParse=(n,r)=>k3(t,n,r),t.parseAsync=async(n,r)=>D3(t,n,r,{callee:t.parseAsync}),t.safeParseAsync=async(n,r)=>M3(t,n,r),t.spa=t.safeParseAsync,t.encode=(n,r)=>z3(t,n,r),t.decode=(n,r)=>j3(t,n,r),t.encodeAsync=async(n,r)=>U3(t,n,r),t.decodeAsync=async(n,r)=>V3(t,n,r),t.safeEncode=(n,r)=>B3(t,n,r),t.safeDecode=(n,r)=>F3(t,n,r),t.safeEncodeAsync=async(n,r)=>H3(t,n,r),t.safeDecodeAsync=async(n,r)=>q3(t,n,r),t.refine=(n,r)=>t.check(LU(n,r)),t.superRefine=n=>t.check(DU(n)),t.overwrite=n=>t.check(mc(n)),t.optional=()=>FT(t),t.nullable=()=>HT(t),t.nullish=()=>FT(HT(t)),t.nonoptional=n=>AU(t,n),t.array=()=>dU(t),t.or=n=>gU([t,n]),t.and=n=>yU(t,n),t.transform=n=>qT(t,bU(n)),t.default=n=>TU(t,n),t.prefault=n=>SU(t,n),t.catch=n=>CU(t,n),t.pipe=n=>qT(t,n),t.readonly=()=>IU(t),t.describe=n=>{const r=t.clone();return gh.add(r,{description:n}),r},Object.defineProperty(t,"description",{get(){return gh.get(t)?.description},configurable:!0}),t.meta=(...n)=>{if(n.length===0)return gh.get(t);const r=t.clone();return gh.add(r,n[0]),r},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t)),R1=we("_ZodString",(t,e)=>{ov.init(t,e),ui.init(t,e),t._zod.processJSONSchema=(r,o,u)=>o3(t,r,o);const n=t._zod.bag;t.format=n.format??null,t.minLength=n.minimum??null,t.maxLength=n.maximum??null,t.regex=(...r)=>t.check(H6(...r)),t.includes=(...r)=>t.check($6(...r)),t.startsWith=(...r)=>t.check(G6(...r)),t.endsWith=(...r)=>t.check(K6(...r)),t.min=(...r)=>t.check(cm(...r)),t.max=(...r)=>t.check(E1(...r)),t.length=(...r)=>t.check(T1(...r)),t.nonempty=(...r)=>t.check(cm(1,...r)),t.lowercase=r=>t.check(q6(r)),t.uppercase=r=>t.check(Z6(r)),t.trim=()=>t.check(Q6()),t.normalize=(...r)=>t.check(Y6(...r)),t.toLowerCase=()=>t.check(W6()),t.toUpperCase=()=>t.check(X6()),t.slugify=()=>t.check(J6())}),Z3=we("ZodString",(t,e)=>{ov.init(t,e),R1.init(t,e),t.email=n=>t.check(g6($3,n)),t.url=n=>t.check(w6(G3,n)),t.jwt=n=>t.check(M6(lU,n)),t.emoji=n=>t.check(E6(K3,n)),t.guid=n=>t.check(UT(VT,n)),t.uuid=n=>t.check(_6(vd,n)),t.uuidv4=n=>t.check(y6(vd,n)),t.uuidv6=n=>t.check(v6(vd,n)),t.uuidv7=n=>t.check(b6(vd,n)),t.nanoid=n=>t.check(T6(Y3,n)),t.guid=n=>t.check(UT(VT,n)),t.cuid=n=>t.check(x6(Q3,n)),t.cuid2=n=>t.check(S6(W3,n)),t.ulid=n=>t.check(A6(X3,n)),t.base64=n=>t.check(L6(sU,n)),t.base64url=n=>t.check(D6(oU,n)),t.xid=n=>t.check(R6(J3,n)),t.ksuid=n=>t.check(C6(eU,n)),t.ipv4=n=>t.check(N6(tU,n)),t.ipv6=n=>t.check(O6(nU,n)),t.cidrv4=n=>t.check(I6(iU,n)),t.cidrv6=n=>t.check(P6(rU,n)),t.e164=n=>t.check(k6(aU,n)),t.datetime=n=>t.check(S3(n)),t.date=n=>t.check(R3(n)),t.time=n=>t.check(N3(n)),t.duration=n=>t.check(I3(n))});function Ol(t){return p6(Z3,t)}const wn=we("ZodStringFormat",(t,e)=>{_n.init(t,e),R1.init(t,e)}),$3=we("ZodEmail",(t,e)=>{Aj.init(t,e),wn.init(t,e)}),VT=we("ZodGUID",(t,e)=>{xj.init(t,e),wn.init(t,e)}),vd=we("ZodUUID",(t,e)=>{Sj.init(t,e),wn.init(t,e)}),G3=we("ZodURL",(t,e)=>{Rj.init(t,e),wn.init(t,e)}),K3=we("ZodEmoji",(t,e)=>{Cj.init(t,e),wn.init(t,e)}),Y3=we("ZodNanoID",(t,e)=>{Nj.init(t,e),wn.init(t,e)}),Q3=we("ZodCUID",(t,e)=>{Oj.init(t,e),wn.init(t,e)}),W3=we("ZodCUID2",(t,e)=>{Ij.init(t,e),wn.init(t,e)}),X3=we("ZodULID",(t,e)=>{Pj.init(t,e),wn.init(t,e)}),J3=we("ZodXID",(t,e)=>{Lj.init(t,e),wn.init(t,e)}),eU=we("ZodKSUID",(t,e)=>{Dj.init(t,e),wn.init(t,e)}),tU=we("ZodIPv4",(t,e)=>{Uj.init(t,e),wn.init(t,e)}),nU=we("ZodIPv6",(t,e)=>{Vj.init(t,e),wn.init(t,e)}),iU=we("ZodCIDRv4",(t,e)=>{Bj.init(t,e),wn.init(t,e)}),rU=we("ZodCIDRv6",(t,e)=>{Fj.init(t,e),wn.init(t,e)}),sU=we("ZodBase64",(t,e)=>{Hj.init(t,e),wn.init(t,e)}),oU=we("ZodBase64URL",(t,e)=>{Zj.init(t,e),wn.init(t,e)}),aU=we("ZodE164",(t,e)=>{$j.init(t,e),wn.init(t,e)}),lU=we("ZodJWT",(t,e)=>{Kj.init(t,e),wn.init(t,e)}),uU=we("ZodUnknown",(t,e)=>{Yj.init(t,e),ui.init(t,e),t._zod.processJSONSchema=(n,r,o)=>l3()});function BT(){return B6(uU)}const cU=we("ZodNever",(t,e)=>{Qj.init(t,e),ui.init(t,e),t._zod.processJSONSchema=(n,r,o)=>a3(t,n,r)});function hU(t){return F6(cU,t)}const fU=we("ZodArray",(t,e)=>{Wj.init(t,e),ui.init(t,e),t._zod.processJSONSchema=(n,r,o)=>f3(t,n,r,o),t.element=e.element,t.min=(n,r)=>t.check(cm(n,r)),t.nonempty=n=>t.check(cm(1,n)),t.max=(n,r)=>t.check(E1(n,r)),t.length=(n,r)=>t.check(T1(n,r)),t.unwrap=()=>t.element});function dU(t,e){return e3(fU,t,e)}const mU=we("ZodObject",(t,e)=>{Jj.init(t,e),ui.init(t,e),t._zod.processJSONSchema=(n,r,o)=>d3(t,n,r,o),cn(t,"shape",()=>e.shape),t.keyof=()=>N1(Object.keys(t._zod.def.shape)),t.catchall=n=>t.clone({...t._zod.def,catchall:n}),t.passthrough=()=>t.clone({...t._zod.def,catchall:BT()}),t.loose=()=>t.clone({...t._zod.def,catchall:BT()}),t.strict=()=>t.clone({...t._zod.def,catchall:hU()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=n=>A4(t,n),t.safeExtend=n=>R4(t,n),t.merge=n=>C4(t,n),t.pick=n=>x4(t,n),t.omit=n=>S4(t,n),t.partial=(...n)=>N4(O1,t,n[0]),t.required=(...n)=>O4(I1,t,n[0])});function C1(t,e){const n={type:"object",shape:t??{},...st(e)};return new mU(n)}const pU=we("ZodUnion",(t,e)=>{e6.init(t,e),ui.init(t,e),t._zod.processJSONSchema=(n,r,o)=>m3(t,n,r,o),t.options=e.options});function gU(t,e){return new pU({type:"union",options:t,...st(e)})}const _U=we("ZodIntersection",(t,e)=>{t6.init(t,e),ui.init(t,e),t._zod.processJSONSchema=(n,r,o)=>p3(t,n,r,o)});function yU(t,e){return new _U({type:"intersection",left:t,right:e})}const J_=we("ZodEnum",(t,e)=>{n6.init(t,e),ui.init(t,e),t._zod.processJSONSchema=(r,o,u)=>u3(t,r,o),t.enum=e.entries,t.options=Object.values(e.entries);const n=new Set(Object.keys(e.entries));t.extract=(r,o)=>{const u={};for(const c of r)if(n.has(c))u[c]=e.entries[c];else throw new Error(`Key ${c} not found in enum`);return new J_({...e,checks:[],...st(o),entries:u})},t.exclude=(r,o)=>{const u={...e.entries};for(const c of r)if(n.has(c))delete u[c];else throw new Error(`Key ${c} not found in enum`);return new J_({...e,checks:[],...st(o),entries:u})}});function N1(t,e){const n=Array.isArray(t)?Object.fromEntries(t.map(r=>[r,r])):t;return new J_({type:"enum",entries:n,...st(e)})}const vU=we("ZodTransform",(t,e)=>{i6.init(t,e),ui.init(t,e),t._zod.processJSONSchema=(n,r,o)=>h3(t,n),t._zod.parse=(n,r)=>{if(r.direction==="backward")throw new a1(t.constructor.name);n.addIssue=u=>{if(typeof u=="string")n.issues.push(kh(u,n.value,e));else{const c=u;c.fatal&&(c.continue=!1),c.code??(c.code="custom"),c.input??(c.input=n.value),c.inst??(c.inst=t),n.issues.push(kh(c))}};const o=e.transform(n.value,n);return o instanceof Promise?o.then(u=>(n.value=u,n)):(n.value=o,n)}});function bU(t){return new vU({type:"transform",transform:t})}const O1=we("ZodOptional",(t,e)=>{r6.init(t,e),ui.init(t,e),t._zod.processJSONSchema=(n,r,o)=>T3(t,n,r,o),t.unwrap=()=>t._zod.def.innerType});function FT(t){return new O1({type:"optional",innerType:t})}const wU=we("ZodNullable",(t,e)=>{s6.init(t,e),ui.init(t,e),t._zod.processJSONSchema=(n,r,o)=>g3(t,n,r,o),t.unwrap=()=>t._zod.def.innerType});function HT(t){return new wU({type:"nullable",innerType:t})}const EU=we("ZodDefault",(t,e)=>{o6.init(t,e),ui.init(t,e),t._zod.processJSONSchema=(n,r,o)=>y3(t,n,r,o),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function TU(t,e){return new EU({type:"default",innerType:t,get defaultValue(){return typeof e=="function"?e():h1(e)}})}const xU=we("ZodPrefault",(t,e)=>{a6.init(t,e),ui.init(t,e),t._zod.processJSONSchema=(n,r,o)=>v3(t,n,r,o),t.unwrap=()=>t._zod.def.innerType});function SU(t,e){return new xU({type:"prefault",innerType:t,get defaultValue(){return typeof e=="function"?e():h1(e)}})}const I1=we("ZodNonOptional",(t,e)=>{l6.init(t,e),ui.init(t,e),t._zod.processJSONSchema=(n,r,o)=>_3(t,n,r,o),t.unwrap=()=>t._zod.def.innerType});function AU(t,e){return new I1({type:"nonoptional",innerType:t,...st(e)})}const RU=we("ZodCatch",(t,e)=>{u6.init(t,e),ui.init(t,e),t._zod.processJSONSchema=(n,r,o)=>b3(t,n,r,o),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function CU(t,e){return new RU({type:"catch",innerType:t,catchValue:typeof e=="function"?e:()=>e})}const NU=we("ZodPipe",(t,e)=>{c6.init(t,e),ui.init(t,e),t._zod.processJSONSchema=(n,r,o)=>w3(t,n,r,o),t.in=e.in,t.out=e.out});function qT(t,e){return new NU({type:"pipe",in:t,out:e})}const OU=we("ZodReadonly",(t,e)=>{h6.init(t,e),ui.init(t,e),t._zod.processJSONSchema=(n,r,o)=>E3(t,n,r,o),t.unwrap=()=>t._zod.def.innerType});function IU(t){return new OU({type:"readonly",innerType:t})}const PU=we("ZodCustom",(t,e)=>{f6.init(t,e),ui.init(t,e),t._zod.processJSONSchema=(n,r,o)=>c3(t,n)});function LU(t,e={}){return t3(PU,t,e)}function DU(t){return n3(t)}const kU=C1({email:Ol().email("Invalid email address"),password:Ol().min(6,"Password must be at least 6 characters")}),MU=C1({name:Ol().min(2,"Name must be at least 2 characters"),email:Ol().email("Invalid email address"),phone:Ol().regex(/^\+?[\d\s-]{10,15}$/,"Invalid phone number format"),role:N1(["RIDER","DRIVER"]),password:Ol().min(6,"Password must be at least 6 characters"),confirmPassword:Ol()}).refine(t=>t.password===t.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]}),zU=()=>{const[t,e]=F.useState(""),[n,r]=F.useState(""),[o,u]=F.useState({}),{login:c}=F.useContext(Ss),p=oc(),_=async y=>{y.preventDefault(),u({});const E=kU.safeParse({email:t,password:n});if(!E.success){const x={};E.error.issues.forEach(C=>{x[C.path[0]]=C.message}),u(x);return}try{await c(t,n),p("/dashboard")}catch(x){console.error(x);const C=x.code?x.code.replace("auth/","").replace(/-/g," "):"Login failed";u({general:C})}};return w.jsx(w.Fragment,{children:w.jsxs("form",{onSubmit:_,className:"space-y-6",children:[w.jsx("div",{children:w.jsx("h2",{className:"mt-6 text-center text-3xl font-bold tracking-tight text-gray-900",children:"Sign in to your account"})}),o.general&&w.jsx("div",{className:"bg-red-50 text-red-500 p-3 rounded text-sm text-center border border-red-200",children:o.general}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"email",className:"block text-sm font-medium leading-6 text-gray-900",children:"Email address"}),w.jsxs("div",{className:"mt-2 text-left",children:[w.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",value:t,onChange:y=>e(y.target.value),className:`block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ${o.email?"ring-red-500":"ring-gray-300"} placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6`}),o.email&&w.jsx("p",{className:"mt-1 text-xs text-red-500",children:o.email})]})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"password",className:"block text-sm font-medium leading-6 text-gray-900",children:"Password"}),w.jsxs("div",{className:"mt-2 text-left",children:[w.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",value:n,onChange:y=>r(y.target.value),className:`block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ${o.password?"ring-red-500":"ring-gray-300"} placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6`}),o.password&&w.jsx("p",{className:"mt-1 text-xs text-red-500",children:o.password})]})]}),w.jsx("div",{children:w.jsx("button",{type:"submit",className:"flex w-full justify-center rounded-md bg-indigo-600 px-3 py-1.5 text-sm font-semibold leading-6 text-white hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",children:"Sign in"})}),w.jsx("div",{className:"text-sm text-center",children:w.jsx(Pn,{to:"/register",className:"font-semibold text-indigo-600 hover:text-indigo-500",children:"Don't have an account? Register"})})]})})},jU=()=>{const{register:t}=F.useContext(Ss),[e,n]=F.useState({name:"",email:"",phone:"",role:"RIDER",password:"",confirmPassword:""}),[r,o]=F.useState({}),u=oc(),{name:c,email:p,phone:_,role:y,password:E,confirmPassword:x}=e,C=I=>{n({...e,[I.target.name]:I.target.value}),r[I.target.name]&&o({...r,[I.target.name]:null})},D=async I=>{I.preventDefault(),o({});const j=MU.safeParse(e);if(!j.success){const U={};j.error.issues.forEach(ne=>{const ee=ne.path[0];U[ee]=ne.message}),o(U);return}try{await t({name:c,email:p,phone:_,role:y,password:E}),u("/dashboard")}catch(U){console.error(U);let ne="Registration failed";U.code?ne=U.code.replace("auth/","").replace(/-/g," "):U.message&&(ne=U.message),o({general:ne})}};return w.jsx(w.Fragment,{children:w.jsxs("form",{onSubmit:D,className:"space-y-6",children:[w.jsxs("div",{children:[w.jsx("h2",{className:"mt-6 text-center text-3xl font-bold tracking-tight text-gray-900",children:"Create your account"}),w.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Join our community"})]}),r.general&&w.jsx("div",{className:"bg-red-50 text-red-500 p-3 rounded text-sm text-center border border-red-200",children:r.general}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"name",className:"block text-sm font-medium leading-6 text-gray-900",children:"Full Name"}),w.jsxs("div",{className:"mt-2 text-left",children:[w.jsx("input",{id:"name",name:"name",type:"text",value:c,onChange:C,className:`block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ${r.name?"ring-red-500":"ring-gray-300"} placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6`}),r.name&&w.jsx("p",{className:"mt-1 text-xs text-red-500",children:r.name})]})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium leading-6 text-gray-900",children:"Phone Number"}),w.jsxs("div",{className:"mt-2 text-left",children:[w.jsx("input",{id:"phone",name:"phone",type:"tel",value:_,onChange:C,className:`block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ${r.phone?"ring-red-500":"ring-gray-300"} placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6`}),r.phone&&w.jsx("p",{className:"mt-1 text-xs text-red-500",children:r.phone})]})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"role",className:"block text-sm font-medium leading-6 text-gray-900",children:"I am a:"}),w.jsx("div",{className:"mt-2",children:w.jsxs("select",{id:"role",name:"role",value:y,onChange:C,className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",children:[w.jsx("option",{value:"RIDER",children:"Rider"}),w.jsx("option",{value:"DRIVER",children:"Driver"})]})})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"email",className:"block text-sm font-medium leading-6 text-gray-900",children:"Email address"}),w.jsxs("div",{className:"mt-2 text-left",children:[w.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",value:p,onChange:C,className:`block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ${r.email?"ring-red-500":"ring-gray-300"} placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6`}),r.email&&w.jsx("p",{className:"mt-1 text-xs text-red-500",children:r.email})]})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"password",className:"block text-sm font-medium leading-6 text-gray-900",children:"Password"}),w.jsxs("div",{className:"mt-2 text-left",children:[w.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",value:E,onChange:C,className:`block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ${r.password?"ring-red-500":"ring-gray-300"} placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6`}),r.password&&w.jsx("p",{className:"mt-1 text-xs text-red-500",children:r.password})]})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium leading-6 text-gray-900",children:"Confirm Password"}),w.jsxs("div",{className:"mt-2 text-left",children:[w.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"new-password",value:x,onChange:C,className:`block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ${r.confirmPassword?"ring-red-500":"ring-gray-300"} placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6`}),r.confirmPassword&&w.jsx("p",{className:"mt-1 text-xs text-red-500",children:r.confirmPassword})]})]}),w.jsx("div",{children:w.jsx("button",{type:"submit",className:"flex w-full justify-center rounded-md bg-indigo-600 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",children:"Sign up"})}),w.jsxs("div",{className:"mt-4 text-center text-sm",children:["Already have an account? ",w.jsx(Pn,{to:"/login",className:"text-indigo-600 hover:underline",children:"Login"})]})]})})};function P1(t,e){return function(){return t.apply(e,arguments)}}const{toString:UU}=Object.prototype,{getPrototypeOf:av}=Object,{iterator:Hm,toStringTag:L1}=Symbol,qm=(t=>e=>{const n=UU.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),As=t=>(t=t.toLowerCase(),e=>qm(e)===t),Zm=t=>e=>typeof e===t,{isArray:pc}=Array,rc=Zm("undefined");function Qh(t){return t!==null&&!rc(t)&&t.constructor!==null&&!rc(t.constructor)&&cr(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const D1=As("ArrayBuffer");function VU(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&D1(t.buffer),e}const BU=Zm("string"),cr=Zm("function"),k1=Zm("number"),Wh=t=>t!==null&&typeof t=="object",FU=t=>t===!0||t===!1,Bd=t=>{if(qm(t)!=="object")return!1;const e=av(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(L1 in t)&&!(Hm in t)},HU=t=>{if(!Wh(t)||Qh(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},qU=As("Date"),ZU=As("File"),$U=As("Blob"),GU=As("FileList"),KU=t=>Wh(t)&&cr(t.pipe),YU=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||cr(t.append)&&((e=qm(t))==="formdata"||e==="object"&&cr(t.toString)&&t.toString()==="[object FormData]"))},QU=As("URLSearchParams"),[WU,XU,JU,eV]=["ReadableStream","Request","Response","Headers"].map(As),tV=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Xh(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,o;if(typeof t!="object"&&(t=[t]),pc(t))for(r=0,o=t.length;r<o;r++)e.call(null,t[r],r,t);else{if(Qh(t))return;const u=n?Object.getOwnPropertyNames(t):Object.keys(t),c=u.length;let p;for(r=0;r<c;r++)p=u[r],e.call(null,t[p],p,t)}}function M1(t,e){if(Qh(t))return null;e=e.toLowerCase();const n=Object.keys(t);let r=n.length,o;for(;r-- >0;)if(o=n[r],e===o.toLowerCase())return o;return null}const Ll=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,z1=t=>!rc(t)&&t!==Ll;function ey(){const{caseless:t,skipUndefined:e}=z1(this)&&this||{},n={},r=(o,u)=>{const c=t&&M1(n,u)||u;Bd(n[c])&&Bd(o)?n[c]=ey(n[c],o):Bd(o)?n[c]=ey({},o):pc(o)?n[c]=o.slice():(!e||!rc(o))&&(n[c]=o)};for(let o=0,u=arguments.length;o<u;o++)arguments[o]&&Xh(arguments[o],r);return n}const nV=(t,e,n,{allOwnKeys:r}={})=>(Xh(e,(o,u)=>{n&&cr(o)?t[u]=P1(o,n):t[u]=o},{allOwnKeys:r}),t),iV=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),rV=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},sV=(t,e,n,r)=>{let o,u,c;const p={};if(e=e||{},t==null)return e;do{for(o=Object.getOwnPropertyNames(t),u=o.length;u-- >0;)c=o[u],(!r||r(c,t,e))&&!p[c]&&(e[c]=t[c],p[c]=!0);t=n!==!1&&av(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},oV=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},aV=t=>{if(!t)return null;if(pc(t))return t;let e=t.length;if(!k1(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},lV=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&av(Uint8Array)),uV=(t,e)=>{const r=(t&&t[Hm]).call(t);let o;for(;(o=r.next())&&!o.done;){const u=o.value;e.call(t,u[0],u[1])}},cV=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},hV=As("HTMLFormElement"),fV=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,o){return r.toUpperCase()+o}),ZT=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),dV=As("RegExp"),j1=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Xh(n,(o,u)=>{let c;(c=e(o,u,t))!==!1&&(r[u]=c||o)}),Object.defineProperties(t,r)},mV=t=>{j1(t,(e,n)=>{if(cr(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(cr(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},pV=(t,e)=>{const n={},r=o=>{o.forEach(u=>{n[u]=!0})};return pc(t)?r(t):r(String(t).split(e)),n},gV=()=>{},_V=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function yV(t){return!!(t&&cr(t.append)&&t[L1]==="FormData"&&t[Hm])}const vV=t=>{const e=new Array(10),n=(r,o)=>{if(Wh(r)){if(e.indexOf(r)>=0)return;if(Qh(r))return r;if(!("toJSON"in r)){e[o]=r;const u=pc(r)?[]:{};return Xh(r,(c,p)=>{const _=n(c,o+1);!rc(_)&&(u[p]=_)}),e[o]=void 0,u}}return r};return n(t,0)},bV=As("AsyncFunction"),wV=t=>t&&(Wh(t)||cr(t))&&cr(t.then)&&cr(t.catch),U1=((t,e)=>t?setImmediate:e?((n,r)=>(Ll.addEventListener("message",({source:o,data:u})=>{o===Ll&&u===n&&r.length&&r.shift()()},!1),o=>{r.push(o),Ll.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",cr(Ll.postMessage)),EV=typeof queueMicrotask<"u"?queueMicrotask.bind(Ll):typeof process<"u"&&process.nextTick||U1,TV=t=>t!=null&&cr(t[Hm]),fe={isArray:pc,isArrayBuffer:D1,isBuffer:Qh,isFormData:YU,isArrayBufferView:VU,isString:BU,isNumber:k1,isBoolean:FU,isObject:Wh,isPlainObject:Bd,isEmptyObject:HU,isReadableStream:WU,isRequest:XU,isResponse:JU,isHeaders:eV,isUndefined:rc,isDate:qU,isFile:ZU,isBlob:$U,isRegExp:dV,isFunction:cr,isStream:KU,isURLSearchParams:QU,isTypedArray:lV,isFileList:GU,forEach:Xh,merge:ey,extend:nV,trim:tV,stripBOM:iV,inherits:rV,toFlatObject:sV,kindOf:qm,kindOfTest:As,endsWith:oV,toArray:aV,forEachEntry:uV,matchAll:cV,isHTMLForm:hV,hasOwnProperty:ZT,hasOwnProp:ZT,reduceDescriptors:j1,freezeMethods:mV,toObjectSet:pV,toCamelCase:fV,noop:gV,toFiniteNumber:_V,findKey:M1,global:Ll,isContextDefined:z1,isSpecCompliantForm:yV,toJSONObject:vV,isAsyncFn:bV,isThenable:wV,setImmediate:U1,asap:EV,isIterable:TV};function ft(t,e,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o,this.status=o.status?o.status:null)}fe.inherits(ft,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:fe.toJSONObject(this.config),code:this.code,status:this.status}}});const V1=ft.prototype,B1={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{B1[t]={value:t}});Object.defineProperties(ft,B1);Object.defineProperty(V1,"isAxiosError",{value:!0});ft.from=(t,e,n,r,o,u)=>{const c=Object.create(V1);fe.toFlatObject(t,c,function(E){return E!==Error.prototype},y=>y!=="isAxiosError");const p=t&&t.message?t.message:"Error",_=e==null&&t?t.code:e;return ft.call(c,p,_,n,r,o),t&&c.cause==null&&Object.defineProperty(c,"cause",{value:t,configurable:!0}),c.name=t&&t.name||"Error",u&&Object.assign(c,u),c};const xV=null;function ty(t){return fe.isPlainObject(t)||fe.isArray(t)}function F1(t){return fe.endsWith(t,"[]")?t.slice(0,-2):t}function $T(t,e,n){return t?t.concat(e).map(function(o,u){return o=F1(o),!n&&u?"["+o+"]":o}).join(n?".":""):e}function SV(t){return fe.isArray(t)&&!t.some(ty)}const AV=fe.toFlatObject(fe,{},null,function(e){return/^is[A-Z]/.test(e)});function $m(t,e,n){if(!fe.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=fe.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(j,U){return!fe.isUndefined(U[j])});const r=n.metaTokens,o=n.visitor||E,u=n.dots,c=n.indexes,_=(n.Blob||typeof Blob<"u"&&Blob)&&fe.isSpecCompliantForm(e);if(!fe.isFunction(o))throw new TypeError("visitor must be a function");function y(I){if(I===null)return"";if(fe.isDate(I))return I.toISOString();if(fe.isBoolean(I))return I.toString();if(!_&&fe.isBlob(I))throw new ft("Blob is not supported. Use a Buffer instead.");return fe.isArrayBuffer(I)||fe.isTypedArray(I)?_&&typeof Blob=="function"?new Blob([I]):Buffer.from(I):I}function E(I,j,U){let ne=I;if(I&&!U&&typeof I=="object"){if(fe.endsWith(j,"{}"))j=r?j:j.slice(0,-2),I=JSON.stringify(I);else if(fe.isArray(I)&&SV(I)||(fe.isFileList(I)||fe.endsWith(j,"[]"))&&(ne=fe.toArray(I)))return j=F1(j),ne.forEach(function(ae,Te){!(fe.isUndefined(ae)||ae===null)&&e.append(c===!0?$T([j],Te,u):c===null?j:j+"[]",y(ae))}),!1}return ty(I)?!0:(e.append($T(U,j,u),y(I)),!1)}const x=[],C=Object.assign(AV,{defaultVisitor:E,convertValue:y,isVisitable:ty});function D(I,j){if(!fe.isUndefined(I)){if(x.indexOf(I)!==-1)throw Error("Circular reference detected in "+j.join("."));x.push(I),fe.forEach(I,function(ne,ee){(!(fe.isUndefined(ne)||ne===null)&&o.call(e,ne,fe.isString(ee)?ee.trim():ee,j,C))===!0&&D(ne,j?j.concat(ee):[ee])}),x.pop()}}if(!fe.isObject(t))throw new TypeError("data must be an object");return D(t),e}function GT(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function lv(t,e){this._pairs=[],t&&$m(t,this,e)}const H1=lv.prototype;H1.append=function(e,n){this._pairs.push([e,n])};H1.toString=function(e){const n=e?function(r){return e.call(this,r,GT)}:GT;return this._pairs.map(function(o){return n(o[0])+"="+n(o[1])},"").join("&")};function RV(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function q1(t,e,n){if(!e)return t;const r=n&&n.encode||RV;fe.isFunction(n)&&(n={serialize:n});const o=n&&n.serialize;let u;if(o?u=o(e,n):u=fe.isURLSearchParams(e)?e.toString():new lv(e,n).toString(r),u){const c=t.indexOf("#");c!==-1&&(t=t.slice(0,c)),t+=(t.indexOf("?")===-1?"?":"&")+u}return t}class KT{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){fe.forEach(this.handlers,function(r){r!==null&&e(r)})}}const Z1={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},CV=typeof URLSearchParams<"u"?URLSearchParams:lv,NV=typeof FormData<"u"?FormData:null,OV=typeof Blob<"u"?Blob:null,IV={isBrowser:!0,classes:{URLSearchParams:CV,FormData:NV,Blob:OV},protocols:["http","https","file","blob","url","data"]},uv=typeof window<"u"&&typeof document<"u",ny=typeof navigator=="object"&&navigator||void 0,PV=uv&&(!ny||["ReactNative","NativeScript","NS"].indexOf(ny.product)<0),LV=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",DV=uv&&window.location.href||"http://localhost",kV=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:uv,hasStandardBrowserEnv:PV,hasStandardBrowserWebWorkerEnv:LV,navigator:ny,origin:DV},Symbol.toStringTag,{value:"Module"})),Oi={...kV,...IV};function MV(t,e){return $m(t,new Oi.classes.URLSearchParams,{visitor:function(n,r,o,u){return Oi.isNode&&fe.isBuffer(n)?(this.append(r,n.toString("base64")),!1):u.defaultVisitor.apply(this,arguments)},...e})}function zV(t){return fe.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function jV(t){const e={},n=Object.keys(t);let r;const o=n.length;let u;for(r=0;r<o;r++)u=n[r],e[u]=t[u];return e}function $1(t){function e(n,r,o,u){let c=n[u++];if(c==="__proto__")return!0;const p=Number.isFinite(+c),_=u>=n.length;return c=!c&&fe.isArray(o)?o.length:c,_?(fe.hasOwnProp(o,c)?o[c]=[o[c],r]:o[c]=r,!p):((!o[c]||!fe.isObject(o[c]))&&(o[c]=[]),e(n,r,o[c],u)&&fe.isArray(o[c])&&(o[c]=jV(o[c])),!p)}if(fe.isFormData(t)&&fe.isFunction(t.entries)){const n={};return fe.forEachEntry(t,(r,o)=>{e(zV(r),o,n,0)}),n}return null}function UV(t,e,n){if(fe.isString(t))try{return(e||JSON.parse)(t),fe.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Jh={transitional:Z1,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",o=r.indexOf("application/json")>-1,u=fe.isObject(e);if(u&&fe.isHTMLForm(e)&&(e=new FormData(e)),fe.isFormData(e))return o?JSON.stringify($1(e)):e;if(fe.isArrayBuffer(e)||fe.isBuffer(e)||fe.isStream(e)||fe.isFile(e)||fe.isBlob(e)||fe.isReadableStream(e))return e;if(fe.isArrayBufferView(e))return e.buffer;if(fe.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let p;if(u){if(r.indexOf("application/x-www-form-urlencoded")>-1)return MV(e,this.formSerializer).toString();if((p=fe.isFileList(e))||r.indexOf("multipart/form-data")>-1){const _=this.env&&this.env.FormData;return $m(p?{"files[]":e}:e,_&&new _,this.formSerializer)}}return u||o?(n.setContentType("application/json",!1),UV(e)):e}],transformResponse:[function(e){const n=this.transitional||Jh.transitional,r=n&&n.forcedJSONParsing,o=this.responseType==="json";if(fe.isResponse(e)||fe.isReadableStream(e))return e;if(e&&fe.isString(e)&&(r&&!this.responseType||o)){const c=!(n&&n.silentJSONParsing)&&o;try{return JSON.parse(e,this.parseReviver)}catch(p){if(c)throw p.name==="SyntaxError"?ft.from(p,ft.ERR_BAD_RESPONSE,this,null,this.response):p}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Oi.classes.FormData,Blob:Oi.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};fe.forEach(["delete","get","head","post","put","patch"],t=>{Jh.headers[t]={}});const VV=fe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),BV=t=>{const e={};let n,r,o;return t&&t.split(`
`).forEach(function(c){o=c.indexOf(":"),n=c.substring(0,o).trim().toLowerCase(),r=c.substring(o+1).trim(),!(!n||e[n]&&VV[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},YT=Symbol("internals");function oh(t){return t&&String(t).trim().toLowerCase()}function Fd(t){return t===!1||t==null?t:fe.isArray(t)?t.map(Fd):String(t)}function FV(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const HV=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function u_(t,e,n,r,o){if(fe.isFunction(r))return r.call(this,e,n);if(o&&(e=n),!!fe.isString(e)){if(fe.isString(r))return e.indexOf(r)!==-1;if(fe.isRegExp(r))return r.test(e)}}function qV(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function ZV(t,e){const n=fe.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(o,u,c){return this[r].call(this,e,o,u,c)},configurable:!0})})}let hr=class{constructor(e){e&&this.set(e)}set(e,n,r){const o=this;function u(p,_,y){const E=oh(_);if(!E)throw new Error("header name must be a non-empty string");const x=fe.findKey(o,E);(!x||o[x]===void 0||y===!0||y===void 0&&o[x]!==!1)&&(o[x||_]=Fd(p))}const c=(p,_)=>fe.forEach(p,(y,E)=>u(y,E,_));if(fe.isPlainObject(e)||e instanceof this.constructor)c(e,n);else if(fe.isString(e)&&(e=e.trim())&&!HV(e))c(BV(e),n);else if(fe.isObject(e)&&fe.isIterable(e)){let p={},_,y;for(const E of e){if(!fe.isArray(E))throw TypeError("Object iterator must return a key-value pair");p[y=E[0]]=(_=p[y])?fe.isArray(_)?[..._,E[1]]:[_,E[1]]:E[1]}c(p,n)}else e!=null&&u(n,e,r);return this}get(e,n){if(e=oh(e),e){const r=fe.findKey(this,e);if(r){const o=this[r];if(!n)return o;if(n===!0)return FV(o);if(fe.isFunction(n))return n.call(this,o,r);if(fe.isRegExp(n))return n.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=oh(e),e){const r=fe.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||u_(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let o=!1;function u(c){if(c=oh(c),c){const p=fe.findKey(r,c);p&&(!n||u_(r,r[p],p,n))&&(delete r[p],o=!0)}}return fe.isArray(e)?e.forEach(u):u(e),o}clear(e){const n=Object.keys(this);let r=n.length,o=!1;for(;r--;){const u=n[r];(!e||u_(this,this[u],u,e,!0))&&(delete this[u],o=!0)}return o}normalize(e){const n=this,r={};return fe.forEach(this,(o,u)=>{const c=fe.findKey(r,u);if(c){n[c]=Fd(o),delete n[u];return}const p=e?qV(u):String(u).trim();p!==u&&delete n[u],n[p]=Fd(o),r[p]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return fe.forEach(this,(r,o)=>{r!=null&&r!==!1&&(n[o]=e&&fe.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(o=>r.set(o)),r}static accessor(e){const r=(this[YT]=this[YT]={accessors:{}}).accessors,o=this.prototype;function u(c){const p=oh(c);r[p]||(ZV(o,c),r[p]=!0)}return fe.isArray(e)?e.forEach(u):u(e),this}};hr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);fe.reduceDescriptors(hr.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});fe.freezeMethods(hr);function c_(t,e){const n=this||Jh,r=e||n,o=hr.from(r.headers);let u=r.data;return fe.forEach(t,function(p){u=p.call(n,u,o.normalize(),e?e.status:void 0)}),o.normalize(),u}function G1(t){return!!(t&&t.__CANCEL__)}function gc(t,e,n){ft.call(this,t??"canceled",ft.ERR_CANCELED,e,n),this.name="CanceledError"}fe.inherits(gc,ft,{__CANCEL__:!0});function K1(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new ft("Request failed with status code "+n.status,[ft.ERR_BAD_REQUEST,ft.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function $V(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function GV(t,e){t=t||10;const n=new Array(t),r=new Array(t);let o=0,u=0,c;return e=e!==void 0?e:1e3,function(_){const y=Date.now(),E=r[u];c||(c=y),n[o]=_,r[o]=y;let x=u,C=0;for(;x!==o;)C+=n[x++],x=x%t;if(o=(o+1)%t,o===u&&(u=(u+1)%t),y-c<e)return;const D=E&&y-E;return D?Math.round(C*1e3/D):void 0}}function KV(t,e){let n=0,r=1e3/e,o,u;const c=(y,E=Date.now())=>{n=E,o=null,u&&(clearTimeout(u),u=null),t(...y)};return[(...y)=>{const E=Date.now(),x=E-n;x>=r?c(y,E):(o=y,u||(u=setTimeout(()=>{u=null,c(o)},r-x)))},()=>o&&c(o)]}const fm=(t,e,n=3)=>{let r=0;const o=GV(50,250);return KV(u=>{const c=u.loaded,p=u.lengthComputable?u.total:void 0,_=c-r,y=o(_),E=c<=p;r=c;const x={loaded:c,total:p,progress:p?c/p:void 0,bytes:_,rate:y||void 0,estimated:y&&p&&E?(p-c)/y:void 0,event:u,lengthComputable:p!=null,[e?"download":"upload"]:!0};t(x)},n)},QT=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},WT=t=>(...e)=>fe.asap(()=>t(...e)),YV=Oi.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Oi.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Oi.origin),Oi.navigator&&/(msie|trident)/i.test(Oi.navigator.userAgent)):()=>!0,QV=Oi.hasStandardBrowserEnv?{write(t,e,n,r,o,u,c){if(typeof document>"u")return;const p=[`${t}=${encodeURIComponent(e)}`];fe.isNumber(n)&&p.push(`expires=${new Date(n).toUTCString()}`),fe.isString(r)&&p.push(`path=${r}`),fe.isString(o)&&p.push(`domain=${o}`),u===!0&&p.push("secure"),fe.isString(c)&&p.push(`SameSite=${c}`),document.cookie=p.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function WV(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function XV(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function Y1(t,e,n){let r=!WV(e);return t&&(r||n==!1)?XV(t,e):e}const XT=t=>t instanceof hr?{...t}:t;function ql(t,e){e=e||{};const n={};function r(y,E,x,C){return fe.isPlainObject(y)&&fe.isPlainObject(E)?fe.merge.call({caseless:C},y,E):fe.isPlainObject(E)?fe.merge({},E):fe.isArray(E)?E.slice():E}function o(y,E,x,C){if(fe.isUndefined(E)){if(!fe.isUndefined(y))return r(void 0,y,x,C)}else return r(y,E,x,C)}function u(y,E){if(!fe.isUndefined(E))return r(void 0,E)}function c(y,E){if(fe.isUndefined(E)){if(!fe.isUndefined(y))return r(void 0,y)}else return r(void 0,E)}function p(y,E,x){if(x in e)return r(y,E);if(x in t)return r(void 0,y)}const _={url:u,method:u,data:u,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:p,headers:(y,E,x)=>o(XT(y),XT(E),x,!0)};return fe.forEach(Object.keys({...t,...e}),function(E){const x=_[E]||o,C=x(t[E],e[E],E);fe.isUndefined(C)&&x!==p||(n[E]=C)}),n}const Q1=t=>{const e=ql({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:o,xsrfCookieName:u,headers:c,auth:p}=e;if(e.headers=c=hr.from(c),e.url=q1(Y1(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),p&&c.set("Authorization","Basic "+btoa((p.username||"")+":"+(p.password?unescape(encodeURIComponent(p.password)):""))),fe.isFormData(n)){if(Oi.hasStandardBrowserEnv||Oi.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if(fe.isFunction(n.getHeaders)){const _=n.getHeaders(),y=["content-type","content-length"];Object.entries(_).forEach(([E,x])=>{y.includes(E.toLowerCase())&&c.set(E,x)})}}if(Oi.hasStandardBrowserEnv&&(r&&fe.isFunction(r)&&(r=r(e)),r||r!==!1&&YV(e.url))){const _=o&&u&&QV.read(u);_&&c.set(o,_)}return e},JV=typeof XMLHttpRequest<"u",e5=JV&&function(t){return new Promise(function(n,r){const o=Q1(t);let u=o.data;const c=hr.from(o.headers).normalize();let{responseType:p,onUploadProgress:_,onDownloadProgress:y}=o,E,x,C,D,I;function j(){D&&D(),I&&I(),o.cancelToken&&o.cancelToken.unsubscribe(E),o.signal&&o.signal.removeEventListener("abort",E)}let U=new XMLHttpRequest;U.open(o.method.toUpperCase(),o.url,!0),U.timeout=o.timeout;function ne(){if(!U)return;const ae=hr.from("getAllResponseHeaders"in U&&U.getAllResponseHeaders()),Ce={data:!p||p==="text"||p==="json"?U.responseText:U.response,status:U.status,statusText:U.statusText,headers:ae,config:t,request:U};K1(function(N){n(N),j()},function(N){r(N),j()},Ce),U=null}"onloadend"in U?U.onloadend=ne:U.onreadystatechange=function(){!U||U.readyState!==4||U.status===0&&!(U.responseURL&&U.responseURL.indexOf("file:")===0)||setTimeout(ne)},U.onabort=function(){U&&(r(new ft("Request aborted",ft.ECONNABORTED,t,U)),U=null)},U.onerror=function(Te){const Ce=Te&&Te.message?Te.message:"Network Error",ke=new ft(Ce,ft.ERR_NETWORK,t,U);ke.event=Te||null,r(ke),U=null},U.ontimeout=function(){let Te=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const Ce=o.transitional||Z1;o.timeoutErrorMessage&&(Te=o.timeoutErrorMessage),r(new ft(Te,Ce.clarifyTimeoutError?ft.ETIMEDOUT:ft.ECONNABORTED,t,U)),U=null},u===void 0&&c.setContentType(null),"setRequestHeader"in U&&fe.forEach(c.toJSON(),function(Te,Ce){U.setRequestHeader(Ce,Te)}),fe.isUndefined(o.withCredentials)||(U.withCredentials=!!o.withCredentials),p&&p!=="json"&&(U.responseType=o.responseType),y&&([C,I]=fm(y,!0),U.addEventListener("progress",C)),_&&U.upload&&([x,D]=fm(_),U.upload.addEventListener("progress",x),U.upload.addEventListener("loadend",D)),(o.cancelToken||o.signal)&&(E=ae=>{U&&(r(!ae||ae.type?new gc(null,t,U):ae),U.abort(),U=null)},o.cancelToken&&o.cancelToken.subscribe(E),o.signal&&(o.signal.aborted?E():o.signal.addEventListener("abort",E)));const ee=$V(o.url);if(ee&&Oi.protocols.indexOf(ee)===-1){r(new ft("Unsupported protocol "+ee+":",ft.ERR_BAD_REQUEST,t));return}U.send(u||null)})},t5=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,o;const u=function(y){if(!o){o=!0,p();const E=y instanceof Error?y:this.reason;r.abort(E instanceof ft?E:new gc(E instanceof Error?E.message:E))}};let c=e&&setTimeout(()=>{c=null,u(new ft(`timeout ${e} of ms exceeded`,ft.ETIMEDOUT))},e);const p=()=>{t&&(c&&clearTimeout(c),c=null,t.forEach(y=>{y.unsubscribe?y.unsubscribe(u):y.removeEventListener("abort",u)}),t=null)};t.forEach(y=>y.addEventListener("abort",u));const{signal:_}=r;return _.unsubscribe=()=>fe.asap(p),_}},n5=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,o;for(;r<n;)o=r+e,yield t.slice(r,o),r=o},i5=async function*(t,e){for await(const n of r5(t))yield*n5(n,e)},r5=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},JT=(t,e,n,r)=>{const o=i5(t,e);let u=0,c,p=_=>{c||(c=!0,r&&r(_))};return new ReadableStream({async pull(_){try{const{done:y,value:E}=await o.next();if(y){p(),_.close();return}let x=E.byteLength;if(n){let C=u+=x;n(C)}_.enqueue(new Uint8Array(E))}catch(y){throw p(y),y}},cancel(_){return p(_),o.return()}},{highWaterMark:2})},ex=64*1024,{isFunction:bd}=fe,s5=(({Request:t,Response:e})=>({Request:t,Response:e}))(fe.global),{ReadableStream:tx,TextEncoder:nx}=fe.global,ix=(t,...e)=>{try{return!!t(...e)}catch{return!1}},o5=t=>{t=fe.merge.call({skipUndefined:!0},s5,t);const{fetch:e,Request:n,Response:r}=t,o=e?bd(e):typeof fetch=="function",u=bd(n),c=bd(r);if(!o)return!1;const p=o&&bd(tx),_=o&&(typeof nx=="function"?(I=>j=>I.encode(j))(new nx):async I=>new Uint8Array(await new n(I).arrayBuffer())),y=u&&p&&ix(()=>{let I=!1;const j=new n(Oi.origin,{body:new tx,method:"POST",get duplex(){return I=!0,"half"}}).headers.has("Content-Type");return I&&!j}),E=c&&p&&ix(()=>fe.isReadableStream(new r("").body)),x={stream:E&&(I=>I.body)};o&&["text","arrayBuffer","blob","formData","stream"].forEach(I=>{!x[I]&&(x[I]=(j,U)=>{let ne=j&&j[I];if(ne)return ne.call(j);throw new ft(`Response type '${I}' is not supported`,ft.ERR_NOT_SUPPORT,U)})});const C=async I=>{if(I==null)return 0;if(fe.isBlob(I))return I.size;if(fe.isSpecCompliantForm(I))return(await new n(Oi.origin,{method:"POST",body:I}).arrayBuffer()).byteLength;if(fe.isArrayBufferView(I)||fe.isArrayBuffer(I))return I.byteLength;if(fe.isURLSearchParams(I)&&(I=I+""),fe.isString(I))return(await _(I)).byteLength},D=async(I,j)=>{const U=fe.toFiniteNumber(I.getContentLength());return U??C(j)};return async I=>{let{url:j,method:U,data:ne,signal:ee,cancelToken:ae,timeout:Te,onDownloadProgress:Ce,onUploadProgress:ke,responseType:N,headers:M,withCredentials:z="same-origin",fetchOptions:G}=Q1(I),V=e||fetch;N=N?(N+"").toLowerCase():"text";let K=t5([ee,ae&&ae.toAbortSignal()],Te),B=null;const Ue=K&&K.unsubscribe&&(()=>{K.unsubscribe()});let it;try{if(ke&&y&&U!=="get"&&U!=="head"&&(it=await D(M,ne))!==0){let H=new n(j,{method:"POST",body:ne,duplex:"half"}),le;if(fe.isFormData(ne)&&(le=H.headers.get("content-type"))&&M.setContentType(le),H.body){const[be,xe]=QT(it,fm(WT(ke)));ne=JT(H.body,ex,be,xe)}}fe.isString(z)||(z=z?"include":"omit");const te=u&&"credentials"in n.prototype,Ee={...G,signal:K,method:U.toUpperCase(),headers:M.normalize().toJSON(),body:ne,duplex:"half",credentials:te?z:void 0};B=u&&new n(j,Ee);let me=await(u?V(B,G):V(j,Ee));const Ye=E&&(N==="stream"||N==="response");if(E&&(Ce||Ye&&Ue)){const H={};["status","statusText","headers"].forEach(Se=>{H[Se]=me[Se]});const le=fe.toFiniteNumber(me.headers.get("content-length")),[be,xe]=Ce&&QT(le,fm(WT(Ce),!0))||[];me=new r(JT(me.body,ex,be,()=>{xe&&xe(),Ue&&Ue()}),H)}N=N||"text";let Ae=await x[fe.findKey(x,N)||"text"](me,I);return!Ye&&Ue&&Ue(),await new Promise((H,le)=>{K1(H,le,{data:Ae,headers:hr.from(me.headers),status:me.status,statusText:me.statusText,config:I,request:B})})}catch(te){throw Ue&&Ue(),te&&te.name==="TypeError"&&/Load failed|fetch/i.test(te.message)?Object.assign(new ft("Network Error",ft.ERR_NETWORK,I,B),{cause:te.cause||te}):ft.from(te,te&&te.code,I,B)}}},a5=new Map,W1=t=>{let e=t&&t.env||{};const{fetch:n,Request:r,Response:o}=e,u=[r,o,n];let c=u.length,p=c,_,y,E=a5;for(;p--;)_=u[p],y=E.get(_),y===void 0&&E.set(_,y=p?new Map:o5(e)),E=y;return y};W1();const cv={http:xV,xhr:e5,fetch:{get:W1}};fe.forEach(cv,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const rx=t=>`- ${t}`,l5=t=>fe.isFunction(t)||t===null||t===!1;function u5(t,e){t=fe.isArray(t)?t:[t];const{length:n}=t;let r,o;const u={};for(let c=0;c<n;c++){r=t[c];let p;if(o=r,!l5(r)&&(o=cv[(p=String(r)).toLowerCase()],o===void 0))throw new ft(`Unknown adapter '${p}'`);if(o&&(fe.isFunction(o)||(o=o.get(e))))break;u[p||"#"+c]=o}if(!o){const c=Object.entries(u).map(([_,y])=>`adapter ${_} `+(y===!1?"is not supported by the environment":"is not available in the build"));let p=n?c.length>1?`since :
`+c.map(rx).join(`
`):" "+rx(c[0]):"as no adapter specified";throw new ft("There is no suitable adapter to dispatch the request "+p,"ERR_NOT_SUPPORT")}return o}const X1={getAdapter:u5,adapters:cv};function h_(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new gc(null,t)}function sx(t){return h_(t),t.headers=hr.from(t.headers),t.data=c_.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),X1.getAdapter(t.adapter||Jh.adapter,t)(t).then(function(r){return h_(t),r.data=c_.call(t,t.transformResponse,r),r.headers=hr.from(r.headers),r},function(r){return G1(r)||(h_(t),r&&r.response&&(r.response.data=c_.call(t,t.transformResponse,r.response),r.response.headers=hr.from(r.response.headers))),Promise.reject(r)})}const J1="1.13.2",Gm={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Gm[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const ox={};Gm.transitional=function(e,n,r){function o(u,c){return"[Axios v"+J1+"] Transitional option '"+u+"'"+c+(r?". "+r:"")}return(u,c,p)=>{if(e===!1)throw new ft(o(c," has been removed"+(n?" in "+n:"")),ft.ERR_DEPRECATED);return n&&!ox[c]&&(ox[c]=!0,console.warn(o(c," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(u,c,p):!0}};Gm.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function c5(t,e,n){if(typeof t!="object")throw new ft("options must be an object",ft.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let o=r.length;for(;o-- >0;){const u=r[o],c=e[u];if(c){const p=t[u],_=p===void 0||c(p,u,t);if(_!==!0)throw new ft("option "+u+" must be "+_,ft.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ft("Unknown option "+u,ft.ERR_BAD_OPTION)}}const Hd={assertOptions:c5,validators:Gm},Gs=Hd.validators;let Ml=class{constructor(e){this.defaults=e||{},this.interceptors={request:new KT,response:new KT}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const u=o.stack?o.stack.replace(/^.+\n/,""):"";try{r.stack?u&&!String(r.stack).endsWith(u.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+u):r.stack=u}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=ql(this.defaults,n);const{transitional:r,paramsSerializer:o,headers:u}=n;r!==void 0&&Hd.assertOptions(r,{silentJSONParsing:Gs.transitional(Gs.boolean),forcedJSONParsing:Gs.transitional(Gs.boolean),clarifyTimeoutError:Gs.transitional(Gs.boolean)},!1),o!=null&&(fe.isFunction(o)?n.paramsSerializer={serialize:o}:Hd.assertOptions(o,{encode:Gs.function,serialize:Gs.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Hd.assertOptions(n,{baseUrl:Gs.spelling("baseURL"),withXsrfToken:Gs.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let c=u&&fe.merge(u.common,u[n.method]);u&&fe.forEach(["delete","get","head","post","put","patch","common"],I=>{delete u[I]}),n.headers=hr.concat(c,u);const p=[];let _=!0;this.interceptors.request.forEach(function(j){typeof j.runWhen=="function"&&j.runWhen(n)===!1||(_=_&&j.synchronous,p.unshift(j.fulfilled,j.rejected))});const y=[];this.interceptors.response.forEach(function(j){y.push(j.fulfilled,j.rejected)});let E,x=0,C;if(!_){const I=[sx.bind(this),void 0];for(I.unshift(...p),I.push(...y),C=I.length,E=Promise.resolve(n);x<C;)E=E.then(I[x++],I[x++]);return E}C=p.length;let D=n;for(;x<C;){const I=p[x++],j=p[x++];try{D=I(D)}catch(U){j.call(this,U);break}}try{E=sx.call(this,D)}catch(I){return Promise.reject(I)}for(x=0,C=y.length;x<C;)E=E.then(y[x++],y[x++]);return E}getUri(e){e=ql(this.defaults,e);const n=Y1(e.baseURL,e.url,e.allowAbsoluteUrls);return q1(n,e.params,e.paramsSerializer)}};fe.forEach(["delete","get","head","options"],function(e){Ml.prototype[e]=function(n,r){return this.request(ql(r||{},{method:e,url:n,data:(r||{}).data}))}});fe.forEach(["post","put","patch"],function(e){function n(r){return function(u,c,p){return this.request(ql(p||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:u,data:c}))}}Ml.prototype[e]=n(),Ml.prototype[e+"Form"]=n(!0)});let h5=class eR{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(u){n=u});const r=this;this.promise.then(o=>{if(!r._listeners)return;let u=r._listeners.length;for(;u-- >0;)r._listeners[u](o);r._listeners=null}),this.promise.then=o=>{let u;const c=new Promise(p=>{r.subscribe(p),u=p}).then(o);return c.cancel=function(){r.unsubscribe(u)},c},e(function(u,c,p){r.reason||(r.reason=new gc(u,c,p),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new eR(function(o){e=o}),cancel:e}}};function f5(t){return function(n){return t.apply(null,n)}}function d5(t){return fe.isObject(t)&&t.isAxiosError===!0}const iy={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(iy).forEach(([t,e])=>{iy[e]=t});function tR(t){const e=new Ml(t),n=P1(Ml.prototype.request,e);return fe.extend(n,Ml.prototype,e,{allOwnKeys:!0}),fe.extend(n,e,null,{allOwnKeys:!0}),n.create=function(o){return tR(ql(t,o))},n}const Rn=tR(Jh);Rn.Axios=Ml;Rn.CanceledError=gc;Rn.CancelToken=h5;Rn.isCancel=G1;Rn.VERSION=J1;Rn.toFormData=$m;Rn.AxiosError=ft;Rn.Cancel=Rn.CanceledError;Rn.all=function(e){return Promise.all(e)};Rn.spread=f5;Rn.isAxiosError=d5;Rn.mergeConfig=ql;Rn.AxiosHeaders=hr;Rn.formToJSON=t=>$1(fe.isHTMLForm(t)?new FormData(t):t);Rn.getAdapter=X1.getAdapter;Rn.HttpStatusCode=iy;Rn.default=Rn;const{Axios:xB,AxiosError:SB,CanceledError:AB,isCancel:RB,CancelToken:CB,VERSION:NB,all:OB,Cancel:IB,isAxiosError:PB,spread:LB,toFormData:DB,AxiosHeaders:kB,HttpStatusCode:MB,formToJSON:zB,getAdapter:jB,mergeConfig:UB}=Rn,fr=Rn.create({baseURL:"",headers:{"Content-Type":"application/json"}});fr.interceptors.request.use(t=>{const e=localStorage.getItem(`userToken_${window.location.port}`);return e&&(t.headers.Authorization=`Bearer ${e}`),t},t=>Promise.reject(t));fr.interceptors.response.use(t=>t,t=>{if(t.response&&t.response.status===401){const e=window.location.port;localStorage.removeItem(`userToken_${e}`),localStorage.removeItem(`userInfo_${e}`),window.location.href="/login"}return Promise.reject(t)});const ax=(t,e)=>e.split(".").reduce((n,r)=>n?n[r]:null,t),m5=t=>{switch(t){case"completed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";case"accepted":return"bg-blue-100 text-blue-800";case"requested":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},Ks=t=>t?typeof t=="string"?t:t.address||"Map Pin":"Map Pin",lx=()=>{const[t,e]=lr.useState([]),[n,r]=lr.useState(!0),{user:o}=lr.useContext(Ss);lr.useEffect(()=>{(async()=>{try{const j=await fr.get("/api/rides/history");j.data&&e(j.data)}catch(j){console.error("Error:",j)}finally{r(!1)}})()},[]);const[u,c]=lr.useState({key:"createdAt",direction:"descending"}),[p,_]=lr.useState(""),[y,E]=lr.useState("all"),x=I=>{let j="ascending";u.key===I&&u.direction==="ascending"&&(j="descending"),c({key:I,direction:j})},C=lr.useMemo(()=>{let I=[...t];if(y!=="all"&&(I=I.filter(j=>j.status===y)),p){const j=p.toLowerCase();I=I.filter(U=>{const ne=U.rider?.realName||U.rider?.username||"",ee=U.driver?.realName||U.driver?.username||"",ae=Ks(U.pickupLocation),Te=Ks(U.dropoffLocation);return ne.toLowerCase().includes(j)||ee.toLowerCase().includes(j)||ae.toLowerCase().includes(j)||Te.toLowerCase().includes(j)})}return u.key!==null&&I.sort((j,U)=>{let ne,ee;switch(u.key){case"rider":ne=j.rider?.realName||j.rider?.username||"",ee=U.rider?.realName||U.rider?.username||"";break;case"driver":ne=j.driver?.realName||j.driver?.username||"",ee=U.driver?.realName||U.driver?.username||"";break;case"pickup":ne=Ks(j.pickupLocation),ee=Ks(U.pickupLocation);break;case"dropoff":ne=Ks(j.dropoffLocation),ee=Ks(U.dropoffLocation);break;case"transport":ne=j.driver?.vehicle?.type||"",ee=U.driver?.vehicle?.type||"";break;case"cost":ne=j.fare||0,ee=U.fare||0;break;default:ne=ax(j,u.key),ee=ax(U,u.key)}return ne<ee?u.direction==="ascending"?-1:1:ne>ee?u.direction==="ascending"?1:-1:0}),I},[t,u,p,y]),D=({label:I,sortKey:j,className:U="px-6 py-3 cursor-pointer hover:bg-gray-100 transition-colors select-none"})=>w.jsx("th",{scope:"col",className:U,onClick:()=>x(j),title:`Sort by ${I}`,children:w.jsxs("div",{className:"flex items-center gap-1",children:[I,u.key===j&&w.jsx("span",{children:u.direction==="ascending"?"":""})]})});return n?w.jsx("div",{className:"p-8 text-center",children:"Loading history..."}):w.jsxs("div",{className:"p-8 max-w-7xl mx-auto",children:[w.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-6 gap-4",children:[w.jsx("h1",{className:"text-3xl font-bold",children:"Trip History"}),w.jsxs("div",{className:"flex gap-4 w-full md:w-auto",children:[w.jsx("input",{type:"text",placeholder:"Search rider, driver, or location...",value:p,onChange:I=>_(I.target.value),className:"border border-gray-300 rounded-lg px-4 py-2 w-full md:w-64 focus:outline-none focus:ring-2 focus:ring-indigo-500"}),w.jsxs("select",{value:y,onChange:I=>E(I.target.value),className:"border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[w.jsx("option",{value:"all",children:"All Statuses"}),w.jsx("option",{value:"requested",children:"Requested"}),w.jsx("option",{value:"accepted",children:"Accepted"}),w.jsx("option",{value:"completed",children:"Completed"}),w.jsx("option",{value:"cancelled",children:"Cancelled"})]})]})]}),w.jsx("div",{className:"overflow-x-auto shadow-md sm:rounded-lg",children:w.jsxs("table",{className:"w-full text-sm text-left text-gray-500",children:[w.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50",children:w.jsxs("tr",{children:[w.jsx(D,{label:"Date",sortKey:"createdAt"}),w.jsx(D,{label:"Time",sortKey:"createdAt"}),w.jsx(D,{label:"Rider",sortKey:"rider"}),w.jsx(D,{label:"Driver",sortKey:"driver"}),w.jsx(D,{label:"Pickup",sortKey:"pickup"}),w.jsx(D,{label:"Dropoff",sortKey:"dropoff"}),w.jsx(D,{label:"Transport",sortKey:"transport"}),w.jsx(D,{label:"Cost",sortKey:"cost"}),w.jsx(D,{label:"Status",sortKey:"status"}),w.jsx(D,{label:"Rating",sortKey:"rating"})]})}),w.jsx("tbody",{children:C.length===0?w.jsx("tr",{children:w.jsx("td",{colSpan:"10",className:"text-center py-4",children:"No trips found."})}):C.map(I=>w.jsxs("tr",{className:"bg-white border-b hover:bg-gray-50",children:[w.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f4(I.createdAt)}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d4(I.createdAt)}),w.jsx("td",{className:"px-6 py-4",children:I.rider?.realName||I.rider?.username||"-"}),w.jsx("td",{className:"px-6 py-4",children:I.driver?.realName||I.driver?.username||"-"}),w.jsx("td",{className:"px-6 py-4 max-w-xs truncate",title:Ks(I.pickupLocation),children:Ks(I.pickupLocation)}),w.jsx("td",{className:"px-6 py-4 max-w-xs truncate",title:Ks(I.dropoffLocation),children:Ks(I.dropoffLocation)}),w.jsx("td",{className:"px-6 py-4 capitalize",children:I.driver?.vehicle?.type||"-"}),w.jsx("td",{className:"px-6 py-4 font-medium text-gray-900",children:o1(I.fare)}),w.jsx("td",{className:"px-6 py-4",children:w.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${m5(I.status)}`,children:I.status})}),w.jsx("td",{className:"px-6 py-4",children:I.rating?w.jsxs("span",{className:"flex items-center",children:[" ",I.rating]}):"-"})]},I._id))})]})})]})},nR=async t=>{const{data:e}=await fr.get(`/api/users/${t}`);return e},p5=async(t,e)=>{const{data:n}=await fr.patch(`/api/users/${t}`,e);return n},g5=({username:t,realName:e,role:n,profilePicture:r,onAvatarSelect:o})=>w.jsxs("div",{className:"relative mb-8",children:[w.jsx("div",{className:"h-48 bg-gradient-to-r from-blue-600 to-indigo-700 rounded-xl shadow-lg"}),w.jsxs("div",{className:"absolute bottom-[-3rem] left-8 flex items-end",children:[w.jsxs("div",{className:"relative group",children:[w.jsx("img",{src:r||`https://ui-avatars.com/api/?name=${t}&background=random`,alt:"Profile",className:"w-32 h-32 rounded-full border-4 border-white shadow-xl bg-white object-cover"}),w.jsx("button",{className:"absolute bottom-0 right-0 bg-gray-800 text-white p-1 rounded-full p-2 text-xs opacity-0 group-hover:opacity-100 transition",onClick:()=>{const u=prompt("Image URL:");u&&o(u)},children:""})]}),w.jsxs("div",{className:"ml-5 mb-2",children:[w.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:e||t}),w.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[w.jsxs("span",{className:"text-sm",children:["@",t]}),w.jsx("span",{className:`px-2 py-0.5 rounded text-xs uppercase font-bold tracking-wide ${n==="driver"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:n})]})]})]})]}),_5=({rating:t,walletBalance:e,createdAt:n})=>w.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[w.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Overview"}),w.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[w.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg text-center",children:[w.jsx("p",{className:"text-xs text-gray-500 uppercase",children:"Rating"}),w.jsxs("p",{className:"text-xl font-bold text-yellow-500",children:[" ",t?.toFixed(1)||"5.0"]})]}),w.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg text-center",children:[w.jsx("p",{className:"text-xs text-gray-500 uppercase",children:"Wallet"}),w.jsxs("p",{className:"text-xl font-bold text-green-600",children:["$",e?.toFixed(2)||"0.00"]})]})]}),w.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100",children:w.jsxs("p",{className:"text-xs text-gray-400 text-center",children:["Member since ",new Date(n).toLocaleDateString()]})})]}),y5=()=>{const[t,e]=F.useState([]),[n,r]=F.useState(!0);return F.useEffect(()=>{(async()=>{try{const u=await fr.get("/api/rides/history");u.data&&e(u.data.slice(0,3))}catch(u){console.error("Failed to load history widget",u)}finally{r(!1)}})()},[]),n?w.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 animate-pulse",children:[w.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3 mb-4"}),w.jsxs("div",{className:"space-y-3",children:[w.jsx("div",{className:"h-10 bg-gray-100 rounded"}),w.jsx("div",{className:"h-10 bg-gray-100 rounded"})]})]}):w.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[w.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[w.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Recent Activity"}),w.jsx(Pn,{to:"/history",className:"text-sm text-indigo-600 hover:underline",children:"View All"})]}),w.jsx("div",{className:"p-0",children:t.length>0?w.jsx("div",{className:"divide-y divide-gray-100",children:t.map(o=>w.jsxs("div",{className:"p-4 hover:bg-gray-50 transition cursor-default",children:[w.jsxs("div",{className:"flex justify-between items-start mb-1",children:[w.jsx("span",{className:"text-sm font-medium text-gray-900",children:new Date(o.createdAt).toLocaleDateString()}),w.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-semibold
                                        ${o.status==="completed"?"bg-green-100 text-green-700":o.status==="cancelled"?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,children:o.status})]}),w.jsxs("div",{className:"text-sm text-gray-600 flex flex-col gap-1",children:[w.jsxs("div",{className:"truncate w-full",title:o.pickupLocation?.address||o.pickupLocation,children:[w.jsx("span",{className:"text-gray-400 mr-2",children:"From:"}),typeof o.pickupLocation=="string"?o.pickupLocation:o.pickupLocation?.address||"Map Pin"]}),w.jsxs("div",{className:"truncate w-full",title:o.dropoffLocation?.address||o.dropoffLocation,children:[w.jsx("span",{className:"text-gray-400 mr-2",children:"To:"}),typeof o.dropoffLocation=="string"?o.dropoffLocation:o.dropoffLocation?.address||"Map Pin"]})]}),w.jsx("div",{className:"mt-2 text-right",children:w.jsxs("span",{className:"text-sm font-bold text-gray-900",children:["$",o.fare?.toFixed(2)]})})]},o._id))}):w.jsxs("div",{className:"p-8 text-center text-gray-500",children:[w.jsx("p",{children:"No recent rides found."}),w.jsx(Pn,{to:"/",className:"text-indigo-600 text-sm mt-2 inline-block hover:underline",children:"Book a ride"})]})})]})},v5=({role:t,onBecomeDriver:e})=>w.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[w.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Actions"}),w.jsxs("div",{className:"space-y-3",children:[t!=="driver"?w.jsxs("button",{onClick:e,className:"w-full py-2 px-4 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition font-medium shadow-sm flex items-center justify-center gap-2",children:[w.jsx("span",{children:""})," Become a Driver"]}):w.jsxs("div",{className:"w-full py-2 px-4 bg-green-50 text-green-700 rounded-lg border border-green-200 font-medium flex items-center justify-center gap-2",children:[w.jsx("span",{children:""})," You are a Driver"]}),w.jsxs("button",{className:"w-full py-2 px-4 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition font-medium flex items-center justify-center gap-2",children:[w.jsx("span",{children:""})," Change Password"]})]})]}),b5=({onAvatarSelect:t})=>w.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[w.jsx("h3",{className:"text-sm font-semibold text-gray-800 mb-3",children:"Quick Avatars"}),w.jsx("div",{className:"flex flex-wrap gap-2",children:["Felix","Aneka","Bob","Willow","Jack"].map(e=>w.jsx("img",{src:`https://api.dicebear.com/7.x/avataaars/svg?seed=${e}`,className:"w-10 h-10 rounded-full cursor-pointer hover:scale-110 transition border",onClick:()=>t(`https://api.dicebear.com/7.x/avataaars/svg?seed=${e}`),alt:e},e))})]}),wd=({label:t,value:e,fieldKey:n,onSave:r,type:o="text",placeholder:u="Not set",validationRegex:c=null,validationMessage:p="Invalid format"})=>{const[_,y]=F.useState(!1),[E,x]=F.useState(e),[C,D]=F.useState(""),I=async()=>{if(c&&!c.test(E)){D(p);return}D(""),await r({[n]:E})&&y(!1)},j=()=>{y(!1),x(e),D("")};return w.jsxs("div",{className:"group",children:[w.jsxs("div",{className:"flex justify-between items-center mb-1",children:[w.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase",children:t}),!_&&w.jsx("button",{onClick:()=>y(!0),className:"text-xs text-indigo-500 opacity-0 group-hover:opacity-100 transition",children:"Edit"})]}),_?w.jsxs("div",{className:"mt-1",children:[w.jsxs("div",{className:"flex items-start gap-2",children:[o==="textarea"?w.jsx("textarea",{className:"w-full border rounded p-2 text-sm focus:ring-2 focus:ring-indigo-100 focus:border-indigo-300 outline-none transition-all",value:E,onChange:U=>x(U.target.value),rows:"3"}):w.jsx("input",{className:"flex-1 w-full border rounded p-2 text-sm focus:ring-2 focus:ring-indigo-100 focus:border-indigo-300 outline-none transition-all",value:E,onChange:U=>x(U.target.value),placeholder:u}),w.jsxs("div",{className:"flex flex-col gap-1",children:[w.jsx("button",{onClick:I,className:"text-green-600 hover:bg-green-50 p-1 rounded transition-colors",title:"Save",children:""}),w.jsx("button",{onClick:j,className:"text-gray-400 hover:bg-gray-50 p-1 rounded transition-colors",title:"Cancel",children:""})]})]}),C&&w.jsx("p",{className:"text-xs text-red-500 mt-1",children:C})]}):w.jsx("p",{className:`mt-1 text-gray-900 font-medium ${e?"":"text-gray-400 italic"}`,children:e||u})]})},w5=({bio:t,realName:e,phone:n,location:r,email:o,onSave:u})=>{const c=async p=>{try{return await u(p),!0}catch{return!1}};return w.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[w.jsx("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:w.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Personal Information"})}),w.jsxs("div",{className:"p-6 space-y-6",children:[w.jsx("div",{children:w.jsx(wd,{label:"Bio",value:t,fieldKey:"bio",onSave:c,type:"textarea",placeholder:"Tell us about yourself..."})}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[w.jsx(wd,{label:"Full Name",value:e,fieldKey:"realName",onSave:c}),w.jsx(wd,{label:"Phone",value:n,fieldKey:"phone",onSave:c,validationRegex:/^\+?[0-9]{7,15}$/,validationMessage:"Invalid format. Use 7-15 digits.",placeholder:"+123456789"}),w.jsxs("div",{children:[w.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase",children:"Email"}),w.jsxs("p",{className:"mt-1 text-gray-900 font-medium flex items-center gap-2",children:[o,w.jsx("span",{className:"text-xs bg-green-100 text-green-700 px-1.5 py-0.5 rounded",children:"Verified"})]})]}),w.jsx(wd,{label:"City / Location",value:r,fieldKey:"location",onSave:c})]})]})]})},E5=({vehicle:t,onSave:e,status:n,earnings:r})=>{const[o,u]=F.useState(!1),[c,p]=F.useState({make:t?.make||"",model:t?.model||"",plate:t?.plateNumber||"",color:t?.color||"",type:t?.type||"standard"}),_=async()=>{const y={vehicle:{make:c.make,model:c.model,plateNumber:c.plate,color:c.color,type:c.type}};await e(y)&&u(!1)};return w.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[w.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[w.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:[w.jsx("span",{children:""})," Vehicle Information"]}),!o&&w.jsx("button",{onClick:()=>u(!0),className:"text-sm text-indigo-600 hover:underline",children:"Edit Vehicle"})]}),w.jsx("div",{className:"p-6",children:o?w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"text-xs text-gray-500",children:"Make"}),w.jsx("input",{className:"w-full border p-2 rounded text-sm",value:c.make,onChange:y=>p({...c,make:y.target.value}),placeholder:"Toyota"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"text-xs text-gray-500",children:"Model"}),w.jsx("input",{className:"w-full border p-2 rounded text-sm",value:c.model,onChange:y=>p({...c,model:y.target.value}),placeholder:"Camry"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"text-xs text-gray-500",children:"Plate Number"}),w.jsx("input",{className:"w-full border p-2 rounded text-sm",value:c.plate,onChange:y=>p({...c,plate:y.target.value}),placeholder:"XYZ-123"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"text-xs text-gray-500",children:"Color"}),w.jsx("input",{className:"w-full border p-2 rounded text-sm",value:c.color,onChange:y=>p({...c,color:y.target.value}),placeholder:"Silver"})]}),w.jsxs("div",{className:"col-span-2",children:[w.jsx("label",{className:"text-xs text-gray-500",children:"Vehicle Type"}),w.jsxs("select",{className:"w-full border p-2 rounded text-sm",value:c.type,onChange:y=>p({...c,type:y.target.value}),children:[w.jsx("option",{value:"standard",children:"Standard (4 Seats)"}),w.jsx("option",{value:"premium",children:"Premium (Luxury)"}),w.jsx("option",{value:"van",children:"Van (6+ Seats)"})]})]})]}),w.jsxs("div",{className:"flex gap-2 justify-end",children:[w.jsx("button",{onClick:()=>u(!1),className:"px-3 py-1 text-gray-600",children:"Cancel"}),w.jsx("button",{onClick:_,className:"px-3 py-1 bg-indigo-600 text-white rounded",children:"Save Vehicle"})]})]}):w.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-6",children:[w.jsxs("div",{children:[w.jsx("span",{className:"block text-xs text-gray-500",children:"Vehicle"}),w.jsxs("span",{className:"font-medium text-gray-900",children:[t?.color," ",t?.make," ",t?.model||"Not set"]})]}),w.jsxs("div",{children:[w.jsx("span",{className:"block text-xs text-gray-500",children:"Plate"}),w.jsx("span",{className:"font-medium text-gray-900",children:t?.plateNumber||"Not set"})]}),w.jsxs("div",{children:[w.jsx("span",{className:"block text-xs text-gray-500",children:"Type"}),w.jsx("span",{className:"inline-block px-2 py-0.5 rounded text-xs font-semibold bg-gray-100 uppercase",children:t?.type||"Standard"})]}),w.jsxs("div",{children:[w.jsx("span",{className:"block text-xs text-gray-500",children:"Status"}),w.jsx("span",{className:`inline-block px-2 py-0.5 rounded text-xs font-semibold uppercase ${n==="available"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`,children:n||"Offline"})]}),w.jsxs("div",{children:[w.jsx("span",{className:"block text-xs text-gray-500",children:"Total Earnings"}),w.jsxs("span",{className:"font-medium text-green-600",children:["$",r?.toFixed(2)||"0.00"]})]})]})})]})},T5=({savedLocations:t})=>w.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[w.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Saved Locations"}),t&&t.length>0?w.jsx("ul",{className:"space-y-2",children:t.map((e,n)=>w.jsxs("li",{className:"flex justify-between items-center p-3 hover:bg-gray-50 rounded border border-transparent hover:border-gray-200 transition",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("span",{className:"text-xl",children:""}),w.jsxs("div",{children:[w.jsx("p",{className:"font-medium text-gray-900",children:e.label}),w.jsx("p",{className:"text-xs text-gray-500",children:e.address})]})]}),w.jsx("button",{className:"text-red-400 hover:text-red-600",children:""})]},n))}):w.jsxs("div",{className:"text-center py-6 border-2 border-dashed border-gray-200 rounded-lg",children:[w.jsx("p",{className:"text-gray-400 text-sm",children:"No saved locations yet."}),w.jsx("button",{className:"mt-2 text-indigo-600 text-sm font-medium hover:underline",children:"+ Add New"})]})]}),x5=async t=>{const{data:e}=await fr.post("/api/drivers",t);return e},S5=({user:t,onClose:e,onRegistrationSuccess:n,updateUser:r})=>{const[o,u]=F.useState({make:"",model:"",plate:"",color:"",type:"standard"}),[c,p]=F.useState(!1),_=async y=>{y.preventDefault(),p(!0);try{const E={vehicle:{make:o.make,model:o.model,plateNumber:o.plate,color:o.color,type:o.type},currentLocation:{type:"Point",coordinates:[0,0]}};await x5(E),alert("Congratulations! You are now a driver.");const x=await nR(t._id),C=x.user||x;r(C),n()}catch(E){console.error("Registration failed",E),alert("Failed to register as driver: "+(E.response?.data?.message||E.message))}finally{p(!1)}};return w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:w.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-6 animate-in fade-in zoom-in duration-300",children:[w.jsxs("div",{className:"flex justify-between items-center mb-6",children:[w.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Become a Driver"}),w.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:""})]}),w.jsx("p",{className:"text-gray-600 mb-6 text-sm",children:"Fill in your vehicle details to start accepting rides."}),w.jsxs("form",{onSubmit:_,className:"space-y-4",children:[w.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-1",children:"Make"}),w.jsx("input",{required:!0,className:"w-full border p-2 rounded text-sm focus:ring-2 focus:ring-indigo-500",value:o.make,onChange:y=>u({...o,make:y.target.value}),placeholder:"Toyota"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-1",children:"Model"}),w.jsx("input",{required:!0,className:"w-full border p-2 rounded text-sm focus:ring-2 focus:ring-indigo-500",value:o.model,onChange:y=>u({...o,model:y.target.value}),placeholder:"Prius"})]})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-1",children:"License Plate"}),w.jsx("input",{required:!0,className:"w-full border p-2 rounded text-sm focus:ring-2 focus:ring-indigo-500 font-mono bg-yellow-50",value:o.plate,onChange:y=>u({...o,plate:y.target.value}),placeholder:"ABC-123"})]}),w.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-1",children:"Color"}),w.jsx("input",{required:!0,className:"w-full border p-2 rounded text-sm focus:ring-2 focus:ring-indigo-500",value:o.color,onChange:y=>u({...o,color:y.target.value}),placeholder:"Silver"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-1",children:"Type"}),w.jsxs("select",{className:"w-full border p-2 rounded text-sm focus:ring-2 focus:ring-indigo-500",value:o.type,onChange:y=>u({...o,type:y.target.value}),children:[w.jsx("option",{value:"standard",children:"Standard"}),w.jsx("option",{value:"premium",children:"Premium"}),w.jsx("option",{value:"van",children:"Van"})]})]})]}),w.jsx("button",{disabled:c,type:"submit",className:"w-full bg-indigo-600 text-white font-bold py-3 rounded-lg hover:bg-indigo-700 transition mt-4 shadow-lg flex justify-center",children:c?w.jsx("span",{className:"animate-spin h-5 w-5 border-2 border-white border-t-transparent rounded-full"}):"Complete Registration"})]})]})})},A5=()=>{const{user:t,updateUser:e}=F.useContext(Ss),[n,r]=F.useState(!0),[o,u]=F.useState(null),[c,p]=F.useState(!1),_=xs(),y=oc();F.useEffect(()=>{(async()=>{const j=t?.uid||t?._id;if(j)try{const U=await nR(j),ne=U.data||U.user||U;u(ne)}catch(U){console.error("Failed to fetch profile",U)}finally{r(!1)}else t===null&&r(!1)})()},[t]),F.useEffect(()=>{new URLSearchParams(_.search).get("action")==="registerDriver"&&p(!0)},[_]);const E=async I=>{try{const j=await p5(t._id,I);return u(U=>({...U,...j})),e(j),!0}catch(j){return console.error("Update failed",j),alert("Failed to update: "+(j.response?.data?.message||j.message)),!1}},x=async I=>{E({profilePicture:I})},C=()=>{p(!1),y("/profile",{replace:!0}),y("/driver")};if(n)return w.jsx("div",{className:"p-10 text-center text-gray-500 animate-pulse",children:"Loading Profile..."});if(!o)return w.jsx("div",{className:"p-10 text-center text-red-500",children:"User not found"});const D=o;return w.jsxs("div",{className:"max-w-6xl mx-auto p-4 md:p-8 relative",children:[c&&w.jsx(S5,{user:t,onClose:()=>p(!1),onRegistrationSuccess:C,updateUser:e}),w.jsx(g5,{username:D.username,realName:D.realName,role:D.role,profilePicture:D.profilePicture,onAvatarSelect:x}),w.jsxs("div",{className:"mt-16 grid grid-cols-1 lg:grid-cols-3 gap-8",children:[w.jsxs("div",{className:"space-y-6",children:[w.jsx(_5,{rating:D.rating,walletBalance:D.walletBalance,createdAt:D.createdAt}),w.jsx(y5,{}),w.jsx(v5,{role:D.role,onBecomeDriver:()=>p(!0)}),w.jsx(b5,{onAvatarSelect:x})]}),w.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[w.jsx(w5,{bio:D.bio,realName:D.realName,phone:D.phone,email:D.email,location:D.location,onSave:E}),D.role==="driver"&&w.jsx(E5,{vehicle:D.vehicle,status:D.status,earnings:D.earnings,onSave:E}),w.jsx(T5,{savedLocations:D.savedLocations})]})]})]})},R5=({role:t,isOpen:e,toggleSidebar:n})=>{const r=xs(),{logout:o}=F.useContext(Ss),u=[{name:"Profile",path:"/profile",icon:""}],p=[...{RIDER:[{name:"Ride",path:"/map",icon:""},{name:"Trips",path:"/history",icon:""}],DRIVER:[{name:"Dashboard",path:"/driver",icon:""},{name:"History",path:"/history",icon:""},{name:"Vehicle",path:"/profile?tab=vehicle",icon:""}]}[t?.toUpperCase()]||[],...u];return w.jsxs("div",{className:`fixed inset-y-0 left-0 z-30 w-64 bg-gray-900 text-white transform transition-transform duration-300 ease-in-out ${e?"translate-x-0":"-translate-x-full"} md:translate-x-0 md:static md:inset-auto md:flex md:flex-col md:h-screen shadow-xl`,children:[w.jsxs("div",{className:"flex items-center justify-between h-16 px-6 bg-gray-950 border-b border-gray-800",children:[w.jsx(Pn,{to:"/",className:"text-2xl font-bold bg-gradient-to-r from-blue-400 to-indigo-500 bg-clip-text text-transparent",children:"RideShare"}),w.jsx("button",{onClick:n,className:"md:hidden text-gray-400 hover:text-white",children:""})]}),w.jsxs("nav",{className:"flex-1 px-4 py-6 space-y-2 overflow-y-auto",children:[w.jsx("div",{className:"mb-6 px-2 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Menu"}),p.map(_=>w.jsxs(Pn,{to:_.path,className:`flex items-center px-4 py-3 rounded-lg transition-colors duration-200 group ${r.pathname===_.path?"bg-blue-600 text-white shadow-md":"text-gray-400 hover:bg-gray-800 hover:text-white"}`,children:[w.jsx("span",{className:"mr-3 text-xl group-hover:scale-110 transition-transform",children:_.icon}),w.jsx("span",{className:"font-medium",children:_.name})]},_.path))]}),w.jsx("div",{className:"p-4 border-t border-gray-800 bg-gray-900",children:w.jsxs("button",{onClick:o,className:"flex items-center w-full px-4 py-2 text-sm font-medium text-red-400 rounded-lg hover:bg-red-500/10 hover:text-red-500 transition-colors",children:[w.jsx("span",{className:"mr-3",children:""}),"Sign Out"]})})]})},C5=({title:t,toggleSidebar:e,user:n})=>w.jsxs("header",{className:"h-16 bg-white border-b border-gray-200 flex items-center justify-between px-6 z-20 shadow-sm relative",children:[w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("button",{onClick:e,className:"md:hidden text-gray-500 hover:text-gray-700 p-1",children:w.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),w.jsx("h2",{className:"text-xl font-bold text-gray-800 truncate",children:t})]}),w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsxs("button",{className:"text-gray-400 hover:text-gray-600 relative",children:[w.jsx("span",{className:"sr-only",children:"Notifications"}),""]}),w.jsx("div",{className:"h-6 w-px bg-gray-300 mx-1"}),w.jsxs(Pn,{to:"/profile",className:"flex items-center gap-3 hover:bg-gray-50 p-2 rounded-lg transition-colors",children:[w.jsxs("div",{className:"text-right hidden sm:block",children:[w.jsx("p",{className:"text-sm font-semibold text-gray-900 leading-none",children:n?.name||n?.username||n?.realName||"User"}),w.jsx("p",{className:"text-xs text-gray-500 mt-1 capitalize",children:n?.role})]}),w.jsx("img",{className:"h-9 w-9 rounded-full object-cover border-2 border-indigo-100 shadow-sm",src:n?.profilePicture||`https://ui-avatars.com/api/?name=${n?.name||n?.username||"User"}&background=random`,alt:"User"})]})]})]}),hv=({children:t,role:e,title:n,fullWidth:r=!1})=>{const[o,u]=F.useState(!1),{user:c}=F.useContext(Ss),p=()=>u(!o);return w.jsxs("div",{className:"flex h-screen bg-gray-100 overflow-hidden font-sans",children:[w.jsx(R5,{role:e,isOpen:o,toggleSidebar:p}),o&&w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-20 md:hidden glass",onClick:()=>u(!1)}),w.jsxs("div",{className:"flex-1 flex flex-col min-w-0 overflow-hidden relative",children:[w.jsx(C5,{title:n,toggleSidebar:p,user:c}),w.jsx("main",{className:`flex-1 overflow-auto relative ${r?"p-0":"p-6"}`,children:t})]})]})},N5=({isOnline:t})=>w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 animate-in fade-in duration-300",children:[w.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[w.jsx("h3",{className:"text-gray-500 text-sm font-medium",children:"Daily Earnings"}),w.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"$125.50"})]}),w.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[w.jsx("h3",{className:"text-gray-500 text-sm font-medium",children:"Trips Today"}),w.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"8"})]}),w.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[w.jsx("h3",{className:"text-gray-500 text-sm font-medium",children:"Rating"}),w.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"4.9 "})]}),!t&&w.jsx("div",{className:"col-span-3 mt-4 p-4 bg-yellow-50 text-yellow-800 rounded-lg border border-yellow-200 text-center",children:"You are offline. Go Online to start receiving ride requests."})]}),O5=({request:t,onAccept:e,onDecline:n})=>{const[r,o]=F.useState(10);return F.useEffect(()=>{const u=setInterval(()=>{const c=Math.ceil((t.expiresAt-Date.now())/1e3);o(c>0?c:0)},100);return()=>clearInterval(u)},[t.expiresAt]),w.jsxs("div",{className:"bg-white border border-blue-200 rounded-lg shadow-sm p-4 animate-in slide-in-from-right duration-300 relative overflow-hidden",children:[w.jsx("div",{className:"absolute top-0 left-0 h-1 bg-blue-500 transition-all duration-1000 ease-linear",style:{width:`${r/10*100}%`}}),w.jsxs("div",{className:"flex justify-between items-start mt-2",children:[w.jsxs("div",{children:[w.jsxs("div",{className:"inline-block px-2 py-1 bg-blue-100 text-blue-800 text-xs font-bold rounded mb-2",children:[t.distance," away"]}),w.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"New Rider"}),w.jsxs("p",{className:"text-gray-600 text-sm mt-1 max-w-md truncate",children:["Pickup: ",t.pickup]})]}),w.jsxs("div",{className:"text-right",children:[w.jsx("div",{className:"text-2xl font-bold text-green-600",children:t.fare}),w.jsxs("div",{className:"text-xs text-gray-400 font-mono mt-1",children:[r,"s remaining"]})]})]}),w.jsxs("div",{className:"flex gap-3 mt-4",children:[w.jsx("button",{onClick:n,className:"flex-1 py-2 px-4 bg-gray-100 text-gray-700 font-semibold rounded hover:bg-gray-200 transition",children:"Ignore"}),w.jsx("button",{onClick:e,className:"flex-1 py-2 px-4 bg-blue-600 text-white font-bold rounded hover:bg-blue-700 transition shadow-md",children:"Accept Ride"})]})]})},I5=({requests:t,isOnline:e,toggleOnline:n,onAccept:r,onDecline:o})=>w.jsx("div",{className:"animate-in fade-in duration-300",children:e?t.length===0?w.jsxs("div",{className:"text-center py-12 text-gray-500 bg-gray-50 rounded-lg border-2 border-dashed border-gray-200",children:[w.jsx("div",{className:"text-4xl mb-3",children:""}),w.jsx("p",{children:"Scanning for nearby rides..."}),w.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"New requests will appear here instantly."})]}):w.jsx("div",{className:"space-y-4",children:t.map(u=>w.jsx(O5,{request:u,onAccept:()=>r(u.id),onDecline:()=>o(u.id)},u.id))}):w.jsxs("div",{className:"text-center py-12 text-gray-400 bg-gray-50 rounded-lg border-2 border-dashed border-gray-200",children:[w.jsx("div",{className:"text-4xl mb-3",children:""}),w.jsx("p",{className:"text-lg",children:"You are currently offline."}),w.jsx("button",{onClick:n,className:"mt-4 text-indigo-600 font-semibold hover:underline",children:"Go Online to see requests"})]})}),P5=({isOnline:t,toggleOnline:e})=>w.jsxs("div",{className:"flex items-center gap-4 bg-white p-3 rounded-lg shadow-sm border border-gray-200",children:[w.jsx("span",{className:`text-lg font-medium ${t?"text-green-600":"text-gray-500"}`,children:t?"ONLINE":"OFFLINE"}),w.jsxs("button",{onClick:e,className:`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none ${t?"bg-green-600":"bg-gray-200"}`,children:[w.jsx("span",{className:"sr-only",children:"Toggle Online Status"}),w.jsx("span",{"aria-hidden":"true",className:`pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${t?"translate-x-5":"translate-x-0"}`})]})]}),L5=()=>w.jsx(hv,{role:"driver",title:"Driver Dashboard",children:w.jsx("div",{className:"min-h-full flex items-center justify-center",children:w.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg max-w-md w-full text-center",children:[w.jsx("div",{className:"text-4xl mb-4",children:""}),w.jsx("h1",{className:"text-2xl font-bold mb-4 text-gray-800",children:"Driver Profile Required"}),w.jsx("p",{className:"text-gray-600 mb-6",children:"You need to register your vehicle and activate your driver account before accessing the dashboard."}),w.jsx(Pn,{to:"/profile?action=registerDriver",className:"inline-block w-full bg-blue-600 text-white font-bold py-3 rounded hover:bg-blue-700 transition",children:"Go to Profile Settings"})]})})}),D5=()=>{const t=cO(),[e,n]=F.useState(t?.isOnline||!1),[r,o]=F.useState(t?.driverId||null),[u,c]=F.useState(t?.profileMissing||!1),[p,_]=F.useState([]),[y,E]=F.useState("overview"),{socket:x,connectSocket:C,disconnectSocket:D}=Xy(),{showToast:I}=r1();F.useEffect(()=>{let ee;if(e){const ae=async()=>{try{const Ce=(await fr.get("/api/rides/available")).data.map(ke=>({id:ke._id,pickup:ke.pickupLocation.address,distance:p4(ke.distance),fare:o1(ke.fare),expiresAt:Date.now()+1e4}));_(Ce)}catch(Te){console.error("Polling error:",Te)}};ae(),ee=setInterval(ae,3e3)}else _([]);return()=>{ee&&clearInterval(ee)}},[e]),F.useEffect(()=>{},[x]);const j=async()=>{try{const ee=await fr.patch("/api/drivers/status");n(ee.data.isOnline),ee.data.isOnline?I("You are now ONLINE","success"):(D(),I("You are now OFFLINE","info"))}catch(ee){console.error("Failed to toggle status",ee),ee.response?.status===404?(c(!0),I("Please complete your profile first.","warning")):I("Failed to update status","error")}},U=async ee=>{try{await fr.put(`/api/rides/${ee}/accept`),I("Ride Accepted! Connecting...","success"),C(),x.emit("join_trip",ee),_(ae=>ae.filter(Te=>Te.id!==ee))}catch(ae){console.error("Accept Failed",ae),I(ae.response?.data?.message||"Failed to accept ride.","error"),_(Te=>Te.filter(Ce=>Ce.id!==ee))}},ne=ee=>_(ae=>ae.filter(Te=>Te.id!==ee));return u?w.jsx(L5,{}):w.jsx(hv,{role:"driver",title:"Driver Dashboard",children:w.jsxs("div",{className:"max-w-4xl mx-auto",children:[w.jsxs("div",{className:"flex justify-between items-center mb-8",children:[w.jsx("div",{className:"flex-1"}),w.jsx(P5,{isOnline:e,toggleOnline:j})]}),w.jsxs("div",{className:"flex border-b border-gray-200 mb-6",children:[w.jsx("button",{className:`py-2 px-4 font-medium text-sm focus:outline-none ${y==="overview"?"border-b-2 border-indigo-500 text-indigo-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>E("overview"),children:"Overview"}),w.jsxs("button",{className:`py-2 px-4 font-medium text-sm focus:outline-none flex items-center gap-2 ${y==="requests"?"border-b-2 border-indigo-500 text-indigo-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>E("requests"),children:["Requests",p.length>0&&e&&w.jsx("span",{className:"bg-red-500 text-white text-xs font-bold px-2 py-0.5 rounded-full animate-pulse",children:p.length})]})]}),y==="overview"&&w.jsx(N5,{isOnline:e}),y==="requests"&&w.jsx(I5,{requests:p,isOnline:e,toggleOnline:j,onAccept:U,onDecline:ne})]})})},k5=()=>{const{user:t}=F.useContext(Ss),e=[{title:"Book a Ride",description:"Go to the map to request a new ride.",link:"/map",icon:"",color:"bg-blue-600"},{title:"Your Trips",description:"View your past ride history.",link:"/history",icon:"",color:"bg-green-600"},{title:"Profile",description:"Manage your account settings.",link:"/profile",icon:"",color:"bg-purple-600"}];return w.jsx("div",{className:"min-h-screen bg-gray-100 p-8",children:w.jsxs("div",{className:"max-w-6xl mx-auto",children:[w.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 mb-8 flex items-center justify-between",children:[w.jsxs("div",{children:[w.jsxs("h1",{className:"text-3xl font-bold text-gray-800",children:["Welcome back, ",t?.name||t?.username||t?.realName,"!"]}),w.jsx("p",{className:"text-gray-600 mt-2 mb-6",children:"Where would you like to go today?"}),w.jsx(Pn,{to:"/map",className:"inline-flex items-center justify-center rounded-md bg-indigo-600 px-6 py-3 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 transition-all hover:scale-105",children:"Order Ride "})]}),t?.profilePicture&&w.jsx("img",{src:t.profilePicture,alt:"Profile",className:"h-16 w-16 rounded-full border-2 border-indigo-500 shadow-sm"})]}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:e.map((n,r)=>w.jsxs(Pn,{to:n.link,className:"group block bg-white rounded-xl shadow-md hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 overflow-hidden",children:[w.jsx("div",{className:`h-2 bg-gradient-to-r ${n.color.replace("bg-","from-").replace("600","500")} to-${n.color.split("-")[1]}-600`}),w.jsxs("div",{className:"p-6",children:[w.jsx("div",{className:`w-12 h-12 ${n.color} bg-opacity-10 rounded-lg flex items-center justify-center mb-4 text-2xl`,children:n.icon}),w.jsx("h3",{className:"text-xl font-bold text-gray-900 group-hover:text-indigo-600 transition-colors",children:n.title}),w.jsx("p",{className:"text-gray-500 mt-2 text-sm",children:n.description})]})]},r))}),w.jsxs("div",{className:"mt-12 bg-indigo-900 rounded-xl shadow-lg p-8 text-white relative overflow-hidden",children:[w.jsxs("div",{className:"relative z-10",children:[w.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Become a Driver"}),w.jsx("p",{className:"text-indigo-200 mb-6 max-w-lg",children:"Earn money on your own schedule. Sign up to drive today and get a $500 bonus after your first 50 rides!"}),w.jsx(Pn,{to:"/profile",className:"inline-block bg-white text-indigo-900 font-bold py-3 px-6 rounded-lg hover:bg-indigo-50 transition shadow-md",children:"Get Started"})]}),w.jsx("div",{className:"absolute -right-10 -bottom-20 w-64 h-64 bg-indigo-700 rounded-full opacity-50"})]})]})})},ux=({placeholder:t,onSelect:e,initialValue:n})=>{const[r,o]=F.useState(n||""),[u,c]=F.useState([]),[p,_]=F.useState(!1),[y,E]=F.useState(!1),[x,C]=F.useState(null);F.useEffect(()=>{const I=async()=>{if(r.length>2){E(!0),C(null);try{const U=await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(r)}&limit=5&addressdetails=1`,{headers:{"Accept-Language":"en-US,en;q=0.9"}});if(!U.ok)throw new Error("Network response was not ok");const ne=await U.json();c(ne),_(!0)}catch(U){console.error("Error fetching location suggestions",U),C("Failed to fetch suggestions"),c([])}finally{E(!1)}}else c([]),_(!1)},j=setTimeout(()=>{I()},500);return()=>clearTimeout(j)},[r]),F.useEffect(()=>{n&&n!==r&&o(n)},[n]);const D=I=>{o(I.display_name),_(!1),e({lat:parseFloat(I.lat),lon:parseFloat(I.lon),displayName:I.display_name})};return w.jsxs("div",{className:"relative mb-4 w-full",children:[w.jsx("input",{type:"text",placeholder:t,value:r,onChange:I=>o(I.target.value),className:"w-full p-3 pl-10 border border-gray-300 rounded bg-gray-50 text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 shadow-sm"}),w.jsx("div",{className:"absolute left-3 top-3.5 text-gray-400",children:""}),w.jsx("button",{onClick:()=>{navigator.geolocation?(E(!0),navigator.geolocation.getCurrentPosition(async I=>{const{latitude:j,longitude:U}=I.coords;try{const ae=(await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${j}&lon=${U}`)).json()).display_name;o(ae),e({lat:j,lon:U,displayName:ae})}catch(ne){console.error("Reverse geocoding failed",ne),C("Could not find address")}finally{E(!1)}},I=>{console.error("Geolocation failed",I),C("Location access denied"),E(!1)})):C("Geolocation not supported")},className:"absolute right-3 top-3 text-gray-400 hover:text-blue-500",title:"Use Current Location",children:""}),y&&w.jsx("div",{className:"absolute right-3 top-3",children:w.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-blue-500 rounded-full border-t-transparent"})}),p&&u.length>0&&w.jsx("ul",{className:"absolute z-50 w-full bg-white border border-gray-300 rounded mt-1 max-h-60 overflow-y-auto shadow-lg text-left",children:u.map(I=>w.jsx("li",{onClick:()=>D(I),className:"p-3 hover:bg-blue-50 cursor-pointer text-sm text-gray-900 border-b border-gray-100 last:border-none font-medium",children:I.display_name},I.place_id))}),x&&p&&w.jsx("div",{className:"absolute z-50 w-full bg-red-50 border border-red-200 rounded mt-1 p-2 text-red-700 text-sm",children:x})]})},M5=({activeField:t,setActiveField:e,pickup:n,setPickup:r,dropoff:o,setDropoff:u,route:c,estimate:p,vehicleType:_,setVehicleType:y,paymentMethod:E,setPaymentMethod:x,handleRequestRide:C})=>{const D=p?.nearbyDrivers||[];return w.jsxs("div",{className:"w-full md:w-1/3 h-auto md:h-full p-4 z-10 shadow-xl bg-gray-800 flex flex-col gap-4 overflow-y-auto order-2 md:order-1 border-t md:border-t-0 md:border-r border-gray-700",children:[w.jsx("h1",{className:"text-2xl font-bold mb-4 text-white",children:"Ride Details"}),w.jsxs("div",{onClick:()=>e("pickup"),className:`p-2 rounded transition ${t==="pickup"?"bg-gray-600 ring-2 ring-blue-500 shadow-lg":"hover:bg-gray-700"}`,children:[w.jsxs("label",{className:`block text-sm font-bold mb-1 ${t==="pickup"?"text-white":"text-gray-300"}`,children:["Pickup Location ",t==="pickup"&&w.jsx("span",{className:"text-xs text-blue-400 animate-pulse ml-2",children:"(Click map to pin)"})]}),w.jsx(ux,{placeholder:"Enter pickup location",onSelect:r,initialValue:n?.displayName})]}),w.jsxs("div",{onClick:()=>e("dropoff"),className:`p-2 rounded transition ${t==="dropoff"?"bg-gray-600 ring-2 ring-blue-500 shadow-lg":"hover:bg-gray-700"}`,children:[w.jsxs("label",{className:`block text-sm font-bold mb-1 ${t==="dropoff"?"text-white":"text-gray-300"}`,children:["Dropoff Location ",t==="dropoff"&&w.jsx("span",{className:"text-xs text-blue-400 animate-pulse ml-2",children:"(Click map to pin)"})]}),w.jsx(ux,{placeholder:"Enter destination",onSelect:u,initialValue:o?.displayName})]}),w.jsxs("div",{className:"flex flex-col gap-4 mt-2",children:[w.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg border border-gray-600",children:[w.jsx("label",{className:"block text-xs font-bold text-gray-400 mb-2 uppercase tracking-wider",children:"Vehicle Type"}),w.jsx("div",{className:"grid grid-cols-3 gap-2",children:["MOTORBIKE","4 SEAT","7 SEAT"].map(I=>w.jsx("button",{onClick:()=>y(I),className:`py-2 px-1 text-[10px] font-bold rounded transition border ${_===I?"bg-blue-600 border-blue-400 text-white shadow-lg":"bg-gray-800 border-gray-600 text-gray-400 hover:bg-gray-750"}`,children:I},I))})]}),w.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg border border-gray-600",children:[w.jsx("label",{className:"block text-xs font-bold text-gray-400 mb-2 uppercase tracking-wider",children:"Payment Method"}),w.jsx("div",{className:"grid grid-cols-2 gap-2",children:["CASH","WALLET"].map(I=>w.jsx("button",{onClick:()=>x(I),className:`py-2 px-1 text-[10px] font-bold rounded transition border ${E===I?"bg-blue-600 border-blue-400 text-white shadow-lg":"bg-gray-800 border-gray-600 text-gray-400 hover:bg-gray-750"}`,children:I},I))})]})]}),p&&w.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg mt-4 animate-in slide-in-from-bottom duration-500",children:[w.jsx("h3",{className:"font-semibold text-lg mb-2 text-white",children:"Trip Details"}),w.jsxs("div",{className:"space-y-1 text-sm",children:[w.jsxs("p",{className:"text-gray-300 flex justify-between",children:[w.jsx("span",{children:"Distance:"}),w.jsxs("span",{className:"text-white",children:[(p.distance/1e3).toFixed(1)," km"]})]}),w.jsxs("p",{className:"text-gray-300 flex justify-between",children:[w.jsx("span",{children:"Est. Duration:"}),w.jsxs("span",{className:"text-white",children:[Math.round(p.duration/60)," mins"]})]})]}),w.jsxs("p",{className:"text-green-400 font-bold mt-4 text-2xl text-center",children:["$",p.fare.toFixed(2)]}),D.length>0&&w.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-600",children:[w.jsx("h4",{className:"text-xs font-bold text-gray-400 mb-2 uppercase tracking-wider",children:"Nearby Drivers"}),w.jsx("div",{className:"space-y-2",children:D.slice(0,3).map(I=>w.jsxs("div",{className:"flex justify-between items-center bg-gray-600/50 p-2 rounded",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),w.jsx("span",{className:"text-white text-sm font-medium",children:I.name})]}),w.jsx("span",{className:"text-blue-400 text-xs font-bold",children:I.eta?.text||"Nearby"})]},I.id))})]}),w.jsx("button",{onClick:C,className:"w-full mt-6 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-bold py-3 px-4 rounded shadow-lg transition transform hover:scale-[1.02]",children:"Order Ride"})]})]})},z5=({onCancel:t})=>w.jsxs("div",{className:"absolute inset-0 z-[2000] bg-black bg-opacity-80 flex flex-col items-center justify-center text-center p-6",children:[w.jsx("div",{className:"animate-spin rounded-full h-24 w-24 border-b-4 border-blue-500 mb-8 shadow-[0_0_20px_rgba(59,130,246,0.5)]"}),w.jsx("h2",{className:"text-3xl font-bold text-white mb-2 animate-pulse",children:"Searching for Drivers..."}),w.jsx("p",{className:"text-gray-400 max-w-md",children:"We are broadcasting your request to nearby drivers. Please wait while we find you a ride."}),w.jsx("button",{onClick:t,className:"mt-8 px-6 py-2 border border-gray-600 rounded-full text-gray-400 hover:text-white hover:border-white transition",children:"Cancel Request"}),w.jsx("div",{className:"mt-12 opacity-50 text-sm",children:w.jsx("p",{children:"Keep this window open"})})]});function iR(t,e){const n=F.useRef(e);F.useEffect(function(){e!==n.current&&t.attributionControl!=null&&(n.current!=null&&t.attributionControl.removeAttribution(n.current),e!=null&&t.attributionControl.addAttribution(e)),n.current=e},[t,e])}const j5=1;function U5(t){return Object.freeze({__version:j5,map:t})}function rR(t,e){return Object.freeze({...t,...e})}const fv=F.createContext(null);function Km(){const t=F.use(fv);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function sR(t){function e(n,r){const{instance:o,context:u}=t(n).current;F.useImperativeHandle(r,()=>o);const{children:c}=n;return c==null?null:lr.createElement(fv,{value:u},c)}return F.forwardRef(e)}function V5(t){function e(n,r){const[o,u]=F.useState(!1),{instance:c}=t(n,u).current;F.useImperativeHandle(r,()=>c),F.useEffect(function(){o&&c.update()},[c,o,n.children]);const p=c._contentNode;return p?Ux.createPortal(n.children,p):null}return F.forwardRef(e)}function B5(t){function e(n,r){const{instance:o}=t(n).current;return F.useImperativeHandle(r,()=>o),null}return F.forwardRef(e)}function dv(t,e){const n=F.useRef(void 0);F.useEffect(function(){return e!=null&&t.instance.on(e),n.current=e,function(){n.current!=null&&t.instance.off(n.current),n.current=null}},[t,e])}function Ym(t,e){const n=t.pane??e.pane;return n?{...t,pane:n}:t}function F5(t,e){return function(r,o){const u=Km(),c=t(Ym(r,u),u);return iR(u.map,r.attribution),dv(c.current,r.eventHandlers),e(c.current,u,r,o),c}}var _h={exports:{}};var H5=_h.exports,cx;function q5(){return cx||(cx=1,(function(t,e){(function(n,r){r(e)})(H5,(function(n){var r="1.9.4";function o(a){var h,m,b,S;for(m=1,b=arguments.length;m<b;m++){S=arguments[m];for(h in S)a[h]=S[h]}return a}var u=Object.create||(function(){function a(){}return function(h){return a.prototype=h,new a}})();function c(a,h){var m=Array.prototype.slice;if(a.bind)return a.bind.apply(a,m.call(arguments,1));var b=m.call(arguments,2);return function(){return a.apply(h,b.length?b.concat(m.call(arguments)):arguments)}}var p=0;function _(a){return"_leaflet_id"in a||(a._leaflet_id=++p),a._leaflet_id}function y(a,h,m){var b,S,O,q;return q=function(){b=!1,S&&(O.apply(m,S),S=!1)},O=function(){b?S=arguments:(a.apply(m,arguments),setTimeout(q,h),b=!0)},O}function E(a,h,m){var b=h[1],S=h[0],O=b-S;return a===b&&m?a:((a-S)%O+O)%O+S}function x(){return!1}function C(a,h){if(h===!1)return a;var m=Math.pow(10,h===void 0?6:h);return Math.round(a*m)/m}function D(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function I(a){return D(a).split(/\s+/)}function j(a,h){Object.prototype.hasOwnProperty.call(a,"options")||(a.options=a.options?u(a.options):{});for(var m in h)a.options[m]=h[m];return a.options}function U(a,h,m){var b=[];for(var S in a)b.push(encodeURIComponent(m?S.toUpperCase():S)+"="+encodeURIComponent(a[S]));return(!h||h.indexOf("?")===-1?"?":"&")+b.join("&")}var ne=/\{ *([\w_ -]+) *\}/g;function ee(a,h){return a.replace(ne,function(m,b){var S=h[b];if(S===void 0)throw new Error("No value provided for variable "+m);return typeof S=="function"&&(S=S(h)),S})}var ae=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"};function Te(a,h){for(var m=0;m<a.length;m++)if(a[m]===h)return m;return-1}var Ce="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function ke(a){return window["webkit"+a]||window["moz"+a]||window["ms"+a]}var N=0;function M(a){var h=+new Date,m=Math.max(0,16-(h-N));return N=h+m,window.setTimeout(a,m)}var z=window.requestAnimationFrame||ke("RequestAnimationFrame")||M,G=window.cancelAnimationFrame||ke("CancelAnimationFrame")||ke("CancelRequestAnimationFrame")||function(a){window.clearTimeout(a)};function V(a,h,m){if(m&&z===M)a.call(h);else return z.call(window,c(a,h))}function K(a){a&&G.call(window,a)}var B={__proto__:null,extend:o,create:u,bind:c,get lastId(){return p},stamp:_,throttle:y,wrapNum:E,falseFn:x,formatNum:C,trim:D,splitWords:I,setOptions:j,getParamString:U,template:ee,isArray:ae,indexOf:Te,emptyImageUrl:Ce,requestFn:z,cancelFn:G,requestAnimFrame:V,cancelAnimFrame:K};function Ue(){}Ue.extend=function(a){var h=function(){j(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},m=h.__super__=this.prototype,b=u(m);b.constructor=h,h.prototype=b;for(var S in this)Object.prototype.hasOwnProperty.call(this,S)&&S!=="prototype"&&S!=="__super__"&&(h[S]=this[S]);return a.statics&&o(h,a.statics),a.includes&&(it(a.includes),o.apply(null,[b].concat(a.includes))),o(b,a),delete b.statics,delete b.includes,b.options&&(b.options=m.options?u(m.options):{},o(b.options,a.options)),b._initHooks=[],b.callInitHooks=function(){if(!this._initHooksCalled){m.callInitHooks&&m.callInitHooks.call(this),this._initHooksCalled=!0;for(var O=0,q=b._initHooks.length;O<q;O++)b._initHooks[O].call(this)}},h},Ue.include=function(a){var h=this.prototype.options;return o(this.prototype,a),a.options&&(this.prototype.options=h,this.mergeOptions(a.options)),this},Ue.mergeOptions=function(a){return o(this.prototype.options,a),this},Ue.addInitHook=function(a){var h=Array.prototype.slice.call(arguments,1),m=typeof a=="function"?a:function(){this[a].apply(this,h)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(m),this};function it(a){if(!(typeof L>"u"||!L||!L.Mixin)){a=ae(a)?a:[a];for(var h=0;h<a.length;h++)a[h]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var te={on:function(a,h,m){if(typeof a=="object")for(var b in a)this._on(b,a[b],h);else{a=I(a);for(var S=0,O=a.length;S<O;S++)this._on(a[S],h,m)}return this},off:function(a,h,m){if(!arguments.length)delete this._events;else if(typeof a=="object")for(var b in a)this._off(b,a[b],h);else{a=I(a);for(var S=arguments.length===1,O=0,q=a.length;O<q;O++)S?this._off(a[O]):this._off(a[O],h,m)}return this},_on:function(a,h,m,b){if(typeof h!="function"){console.warn("wrong listener type: "+typeof h);return}if(this._listens(a,h,m)===!1){m===this&&(m=void 0);var S={fn:h,ctx:m};b&&(S.once=!0),this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(S)}},_off:function(a,h,m){var b,S,O;if(this._events&&(b=this._events[a],!!b)){if(arguments.length===1){if(this._firingCount)for(S=0,O=b.length;S<O;S++)b[S].fn=x;delete this._events[a];return}if(typeof h!="function"){console.warn("wrong listener type: "+typeof h);return}var q=this._listens(a,h,m);if(q!==!1){var X=b[q];this._firingCount&&(X.fn=x,this._events[a]=b=b.slice()),b.splice(q,1)}}},fire:function(a,h,m){if(!this.listens(a,m))return this;var b=o({},h,{type:a,target:this,sourceTarget:h&&h.sourceTarget||this});if(this._events){var S=this._events[a];if(S){this._firingCount=this._firingCount+1||1;for(var O=0,q=S.length;O<q;O++){var X=S[O],ue=X.fn;X.once&&this.off(a,ue,X.ctx),ue.call(X.ctx||this,b)}this._firingCount--}}return m&&this._propagateEvent(b),this},listens:function(a,h,m,b){typeof a!="string"&&console.warn('"string" type argument expected');var S=h;typeof h!="function"&&(b=!!h,S=void 0,m=void 0);var O=this._events&&this._events[a];if(O&&O.length&&this._listens(a,S,m)!==!1)return!0;if(b){for(var q in this._eventParents)if(this._eventParents[q].listens(a,h,m,b))return!0}return!1},_listens:function(a,h,m){if(!this._events)return!1;var b=this._events[a]||[];if(!h)return!!b.length;m===this&&(m=void 0);for(var S=0,O=b.length;S<O;S++)if(b[S].fn===h&&b[S].ctx===m)return S;return!1},once:function(a,h,m){if(typeof a=="object")for(var b in a)this._on(b,a[b],h,!0);else{a=I(a);for(var S=0,O=a.length;S<O;S++)this._on(a[S],h,m,!0)}return this},addEventParent:function(a){return this._eventParents=this._eventParents||{},this._eventParents[_(a)]=a,this},removeEventParent:function(a){return this._eventParents&&delete this._eventParents[_(a)],this},_propagateEvent:function(a){for(var h in this._eventParents)this._eventParents[h].fire(a.type,o({layer:a.target,propagatedFrom:a.target},a),!0)}};te.addEventListener=te.on,te.removeEventListener=te.clearAllEventListeners=te.off,te.addOneTimeEventListener=te.once,te.fireEvent=te.fire,te.hasEventListeners=te.listens;var Ee=Ue.extend(te);function me(a,h,m){this.x=m?Math.round(a):a,this.y=m?Math.round(h):h}var Ye=Math.trunc||function(a){return a>0?Math.floor(a):Math.ceil(a)};me.prototype={clone:function(){return new me(this.x,this.y)},add:function(a){return this.clone()._add(Ae(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(Ae(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},scaleBy:function(a){return new me(this.x*a.x,this.y*a.y)},unscaleBy:function(a){return new me(this.x/a.x,this.y/a.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Ye(this.x),this.y=Ye(this.y),this},distanceTo:function(a){a=Ae(a);var h=a.x-this.x,m=a.y-this.y;return Math.sqrt(h*h+m*m)},equals:function(a){return a=Ae(a),a.x===this.x&&a.y===this.y},contains:function(a){return a=Ae(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+C(this.x)+", "+C(this.y)+")"}};function Ae(a,h,m){return a instanceof me?a:ae(a)?new me(a[0],a[1]):a==null?a:typeof a=="object"&&"x"in a&&"y"in a?new me(a.x,a.y):new me(a,h,m)}function H(a,h){if(a)for(var m=h?[a,h]:a,b=0,S=m.length;b<S;b++)this.extend(m[b])}H.prototype={extend:function(a){var h,m;if(!a)return this;if(a instanceof me||typeof a[0]=="number"||"x"in a)h=m=Ae(a);else if(a=le(a),h=a.min,m=a.max,!h||!m)return this;return!this.min&&!this.max?(this.min=h.clone(),this.max=m.clone()):(this.min.x=Math.min(h.x,this.min.x),this.max.x=Math.max(m.x,this.max.x),this.min.y=Math.min(h.y,this.min.y),this.max.y=Math.max(m.y,this.max.y)),this},getCenter:function(a){return Ae((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return Ae(this.min.x,this.max.y)},getTopRight:function(){return Ae(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var h,m;return typeof a[0]=="number"||a instanceof me?a=Ae(a):a=le(a),a instanceof H?(h=a.min,m=a.max):h=m=a,h.x>=this.min.x&&m.x<=this.max.x&&h.y>=this.min.y&&m.y<=this.max.y},intersects:function(a){a=le(a);var h=this.min,m=this.max,b=a.min,S=a.max,O=S.x>=h.x&&b.x<=m.x,q=S.y>=h.y&&b.y<=m.y;return O&&q},overlaps:function(a){a=le(a);var h=this.min,m=this.max,b=a.min,S=a.max,O=S.x>h.x&&b.x<m.x,q=S.y>h.y&&b.y<m.y;return O&&q},isValid:function(){return!!(this.min&&this.max)},pad:function(a){var h=this.min,m=this.max,b=Math.abs(h.x-m.x)*a,S=Math.abs(h.y-m.y)*a;return le(Ae(h.x-b,h.y-S),Ae(m.x+b,m.y+S))},equals:function(a){return a?(a=le(a),this.min.equals(a.getTopLeft())&&this.max.equals(a.getBottomRight())):!1}};function le(a,h){return!a||a instanceof H?a:new H(a,h)}function be(a,h){if(a)for(var m=h?[a,h]:a,b=0,S=m.length;b<S;b++)this.extend(m[b])}be.prototype={extend:function(a){var h=this._southWest,m=this._northEast,b,S;if(a instanceof Se)b=a,S=a;else if(a instanceof be){if(b=a._southWest,S=a._northEast,!b||!S)return this}else return a?this.extend(Oe(a)||xe(a)):this;return!h&&!m?(this._southWest=new Se(b.lat,b.lng),this._northEast=new Se(S.lat,S.lng)):(h.lat=Math.min(b.lat,h.lat),h.lng=Math.min(b.lng,h.lng),m.lat=Math.max(S.lat,m.lat),m.lng=Math.max(S.lng,m.lng)),this},pad:function(a){var h=this._southWest,m=this._northEast,b=Math.abs(h.lat-m.lat)*a,S=Math.abs(h.lng-m.lng)*a;return new be(new Se(h.lat-b,h.lng-S),new Se(m.lat+b,m.lng+S))},getCenter:function(){return new Se((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Se(this.getNorth(),this.getWest())},getSouthEast:function(){return new Se(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){typeof a[0]=="number"||a instanceof Se||"lat"in a?a=Oe(a):a=xe(a);var h=this._southWest,m=this._northEast,b,S;return a instanceof be?(b=a.getSouthWest(),S=a.getNorthEast()):b=S=a,b.lat>=h.lat&&S.lat<=m.lat&&b.lng>=h.lng&&S.lng<=m.lng},intersects:function(a){a=xe(a);var h=this._southWest,m=this._northEast,b=a.getSouthWest(),S=a.getNorthEast(),O=S.lat>=h.lat&&b.lat<=m.lat,q=S.lng>=h.lng&&b.lng<=m.lng;return O&&q},overlaps:function(a){a=xe(a);var h=this._southWest,m=this._northEast,b=a.getSouthWest(),S=a.getNorthEast(),O=S.lat>h.lat&&b.lat<m.lat,q=S.lng>h.lng&&b.lng<m.lng;return O&&q},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a,h){return a?(a=xe(a),this._southWest.equals(a.getSouthWest(),h)&&this._northEast.equals(a.getNorthEast(),h)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function xe(a,h){return a instanceof be?a:new be(a,h)}function Se(a,h,m){if(isNaN(a)||isNaN(h))throw new Error("Invalid LatLng object: ("+a+", "+h+")");this.lat=+a,this.lng=+h,m!==void 0&&(this.alt=+m)}Se.prototype={equals:function(a,h){if(!a)return!1;a=Oe(a);var m=Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng));return m<=(h===void 0?1e-9:h)},toString:function(a){return"LatLng("+C(this.lat,a)+", "+C(this.lng,a)+")"},distanceTo:function(a){return Nt.distance(this,Oe(a))},wrap:function(){return Nt.wrapLatLng(this)},toBounds:function(a){var h=180*a/40075017,m=h/Math.cos(Math.PI/180*this.lat);return xe([this.lat-h,this.lng-m],[this.lat+h,this.lng+m])},clone:function(){return new Se(this.lat,this.lng,this.alt)}};function Oe(a,h,m){return a instanceof Se?a:ae(a)&&typeof a[0]!="object"?a.length===3?new Se(a[0],a[1],a[2]):a.length===2?new Se(a[0],a[1]):null:a==null?a:typeof a=="object"&&"lat"in a?new Se(a.lat,"lng"in a?a.lng:a.lon,a.alt):h===void 0?null:new Se(a,h,m)}var Je={latLngToPoint:function(a,h){var m=this.projection.project(a),b=this.scale(h);return this.transformation._transform(m,b)},pointToLatLng:function(a,h){var m=this.scale(h),b=this.transformation.untransform(a,m);return this.projection.unproject(b)},project:function(a){return this.projection.project(a)},unproject:function(a){return this.projection.unproject(a)},scale:function(a){return 256*Math.pow(2,a)},zoom:function(a){return Math.log(a/256)/Math.LN2},getProjectedBounds:function(a){if(this.infinite)return null;var h=this.projection.bounds,m=this.scale(a),b=this.transformation.transform(h.min,m),S=this.transformation.transform(h.max,m);return new H(b,S)},infinite:!1,wrapLatLng:function(a){var h=this.wrapLng?E(a.lng,this.wrapLng,!0):a.lng,m=this.wrapLat?E(a.lat,this.wrapLat,!0):a.lat,b=a.alt;return new Se(m,h,b)},wrapLatLngBounds:function(a){var h=a.getCenter(),m=this.wrapLatLng(h),b=h.lat-m.lat,S=h.lng-m.lng;if(b===0&&S===0)return a;var O=a.getSouthWest(),q=a.getNorthEast(),X=new Se(O.lat-b,O.lng-S),ue=new Se(q.lat-b,q.lng-S);return new be(X,ue)}},Nt=o({},Je,{wrapLng:[-180,180],R:6371e3,distance:function(a,h){var m=Math.PI/180,b=a.lat*m,S=h.lat*m,O=Math.sin((h.lat-a.lat)*m/2),q=Math.sin((h.lng-a.lng)*m/2),X=O*O+Math.cos(b)*Math.cos(S)*q*q,ue=2*Math.atan2(Math.sqrt(X),Math.sqrt(1-X));return this.R*ue}}),$t=6378137,dr={R:$t,MAX_LATITUDE:85.0511287798,project:function(a){var h=Math.PI/180,m=this.MAX_LATITUDE,b=Math.max(Math.min(m,a.lat),-m),S=Math.sin(b*h);return new me(this.R*a.lng*h,this.R*Math.log((1+S)/(1-S))/2)},unproject:function(a){var h=180/Math.PI;return new Se((2*Math.atan(Math.exp(a.y/this.R))-Math.PI/2)*h,a.x*h/this.R)},bounds:(function(){var a=$t*Math.PI;return new H([-a,-a],[a,a])})()};function Pr(a,h,m,b){if(ae(a)){this._a=a[0],this._b=a[1],this._c=a[2],this._d=a[3];return}this._a=a,this._b=h,this._c=m,this._d=b}Pr.prototype={transform:function(a,h){return this._transform(a.clone(),h)},_transform:function(a,h){return h=h||1,a.x=h*(this._a*a.x+this._b),a.y=h*(this._c*a.y+this._d),a},untransform:function(a,h){return h=h||1,new me((a.x/h-this._b)/this._a,(a.y/h-this._d)/this._c)}};function Gt(a,h,m,b){return new Pr(a,h,m,b)}var ci=o({},Nt,{code:"EPSG:3857",projection:dr,transformation:(function(){var a=.5/(Math.PI*dr.R);return Gt(a,.5,-a,.5)})()}),Pi=o({},ci,{code:"EPSG:900913"});function Rs(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function Yn(a,h){var m="",b,S,O,q,X,ue;for(b=0,O=a.length;b<O;b++){for(X=a[b],S=0,q=X.length;S<q;S++)ue=X[S],m+=(S?"L":"M")+ue.x+" "+ue.y;m+=h?re.svg?"z":"x":""}return m||"M0 0"}var ns=document.documentElement.style,Lr="ActiveXObject"in window,hn=Lr&&!document.addEventListener,pn="msLaunchUri"in navigator&&!("documentMode"in document),$i=ie("webkit"),Ho=ie("android"),ao=ie("android 2")||ie("android 3"),fn=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Li=Ho&&ie("Google")&&fn<537&&!("AudioNode"in window),Dr=!!window.opera,kr=!pn&&ie("chrome"),Cn=ie("gecko")&&!$i&&!Dr&&!Lr,Di=!kr&&ie("safari"),Cs=ie("phantom"),lo="OTransition"in ns,Ns=navigator.platform.indexOf("Win")===0,yi=Lr&&"transition"in ns,Ft="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ao,Qn="MozPerspective"in ns,ln=!window.L_DISABLE_3D&&(yi||Ft||Qn)&&!lo&&!Cs,mr=typeof orientation<"u"||ie("mobile"),Os=mr&&$i,uo=mr&&Ft,Wn=!window.PointerEvent&&window.MSPointerEvent,pr=!!(window.PointerEvent||Wn),tn="ontouchstart"in window||!!window.TouchEvent,Gi=!window.L_NO_TOUCH&&(tn||pr),ki=mr&&Dr,Mi=mr&&Cn,qo=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,is=(function(){var a=!1;try{var h=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("testPassiveEventSupport",x,h),window.removeEventListener("testPassiveEventSupport",x,h)}catch{}return a})(),hi=(function(){return!!document.createElement("canvas").getContext})(),Ki=!!(document.createElementNS&&Rs("svg").createSVGRect),Wa=!!Ki&&(function(){var a=document.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),rs=!Ki&&(function(){try{var a=document.createElement("div");a.innerHTML='<v:shape adj="1"/>';var h=a.firstChild;return h.style.behavior="url(#default#VML)",h&&typeof h.adj=="object"}catch{return!1}})(),Z=navigator.platform.indexOf("Mac")===0,Q=navigator.platform.indexOf("Linux")===0;function ie(a){return navigator.userAgent.toLowerCase().indexOf(a)>=0}var re={ie:Lr,ielt9:hn,edge:pn,webkit:$i,android:Ho,android23:ao,androidStock:Li,opera:Dr,chrome:kr,gecko:Cn,safari:Di,phantom:Cs,opera12:lo,win:Ns,ie3d:yi,webkit3d:Ft,gecko3d:Qn,any3d:ln,mobile:mr,mobileWebkit:Os,mobileWebkit3d:uo,msPointer:Wn,pointer:pr,touch:Gi,touchNative:tn,mobileOpera:ki,mobileGecko:Mi,retina:qo,passiveEvents:is,canvas:hi,svg:Ki,vml:rs,inlineSvg:Wa,mac:Z,linux:Q},Re=re.msPointer?"MSPointerDown":"pointerdown",Me=re.msPointer?"MSPointerMove":"pointermove",ze=re.msPointer?"MSPointerUp":"pointerup",Ie=re.msPointer?"MSPointerCancel":"pointercancel",De={touchstart:Re,touchmove:Me,touchend:ze,touchcancel:Ie},Be={touchstart:Xn,touchmove:un,touchend:un,touchcancel:un},Ve={},qe=!1;function pt(a,h,m){return h==="touchstart"&&gt(),Be[h]?(m=Be[h].bind(this,m),a.addEventListener(De[h],m,!1),m):(console.warn("wrong event specified:",h),x)}function Dt(a,h,m){if(!De[h]){console.warn("wrong event specified:",h);return}a.removeEventListener(De[h],m,!1)}function zt(a){Ve[a.pointerId]=a}function nn(a){Ve[a.pointerId]&&(Ve[a.pointerId]=a)}function yt(a){delete Ve[a.pointerId]}function gt(){qe||(document.addEventListener(Re,zt,!0),document.addEventListener(Me,nn,!0),document.addEventListener(ze,yt,!0),document.addEventListener(Ie,yt,!0),qe=!0)}function un(a,h){if(h.pointerType!==(h.MSPOINTER_TYPE_MOUSE||"mouse")){h.touches=[];for(var m in Ve)h.touches.push(Ve[m]);h.changedTouches=[h],a(h)}}function Xn(a,h){h.MSPOINTER_TYPE_TOUCH&&h.pointerType===h.MSPOINTER_TYPE_TOUCH&&dn(h),un(a,h)}function Ht(a){var h={},m,b;for(b in a)m=a[b],h[b]=m&&m.bind?m.bind(a):m;return a=h,h.type="dblclick",h.detail=2,h.isTrusted=!1,h._simulated=!0,h}var Jn=200;function ss(a,h){a.addEventListener("dblclick",h);var m=0,b;function S(O){if(O.detail!==1){b=O.detail;return}if(!(O.pointerType==="mouse"||O.sourceCapabilities&&!O.sourceCapabilities.firesTouchEvents)){var q=Ds(O);if(!(q.some(function(ue){return ue instanceof HTMLLabelElement&&ue.attributes.for})&&!q.some(function(ue){return ue instanceof HTMLInputElement||ue instanceof HTMLSelectElement}))){var X=Date.now();X-m<=Jn?(b++,b===2&&h(Ht(O))):b=1,m=X}}}return a.addEventListener("click",S),{dblclick:h,simDblclick:S}}function ei(a,h){a.removeEventListener("dblclick",h.dblclick),a.removeEventListener("click",h.simDblclick)}var En=co(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),vi=co(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),gr=vi==="webkitTransition"||vi==="OTransition"?vi+"End":"transitionend";function ct(a){return typeof a=="string"?document.getElementById(a):a}function rn(a,h){var m=a.style[h]||a.currentStyle&&a.currentStyle[h];if((!m||m==="auto")&&document.defaultView){var b=document.defaultView.getComputedStyle(a,null);m=b?b[h]:null}return m==="auto"?null:m}function rt(a,h,m){var b=document.createElement(a);return b.className=h||"",m&&m.appendChild(b),b}function ot(a){var h=a.parentNode;h&&h.removeChild(a)}function tt(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function Zt(a){var h=a.parentNode;h&&h.lastChild!==a&&h.appendChild(a)}function ti(a){var h=a.parentNode;h&&h.firstChild!==a&&h.insertBefore(a,h.firstChild)}function os(a,h){if(a.classList!==void 0)return a.classList.contains(h);var m=Mr(a);return m.length>0&&new RegExp("(^|\\s)"+h+"(\\s|$)").test(m)}function je(a,h){if(a.classList!==void 0)for(var m=I(h),b=0,S=m.length;b<S;b++)a.classList.add(m[b]);else if(!os(a,h)){var O=Mr(a);Yi(a,(O?O+" ":"")+h)}}function Kt(a,h){a.classList!==void 0?a.classList.remove(h):Yi(a,D((" "+Mr(a)+" ").replace(" "+h+" "," ")))}function Yi(a,h){a.className.baseVal===void 0?a.className=h:a.className.baseVal=h}function Mr(a){return a.correspondingElement&&(a=a.correspondingElement),a.className.baseVal===void 0?a.className:a.className.baseVal}function sn(a,h){"opacity"in a.style?a.style.opacity=h:"filter"in a.style&&Zo(a,h)}function Zo(a,h){var m=!1,b="DXImageTransform.Microsoft.Alpha";try{m=a.filters.item(b)}catch{if(h===1)return}h=Math.round(h*100),m?(m.Enabled=h!==100,m.Opacity=h):a.style.filter+=" progid:"+b+"(opacity="+h+")"}function co(a){for(var h=document.documentElement.style,m=0;m<a.length;m++)if(a[m]in h)return a[m];return!1}function _r(a,h,m){var b=h||new me(0,0);a.style[En]=(re.ie3d?"translate("+b.x+"px,"+b.y+"px)":"translate3d("+b.x+"px,"+b.y+"px,0)")+(m?" scale("+m+")":"")}function Yt(a,h){a._leaflet_pos=h,re.any3d?_r(a,h):(a.style.left=h.x+"px",a.style.top=h.y+"px")}function zr(a){return a._leaflet_pos||new me(0,0)}var Qi,Dn,$o;if("onselectstart"in document)Qi=function(){Qe(window,"selectstart",dn)},Dn=function(){kt(window,"selectstart",dn)};else{var as=co(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Qi=function(){if(as){var a=document.documentElement.style;$o=a[as],a[as]="none"}},Dn=function(){as&&(document.documentElement.style[as]=$o,$o=void 0)}}function ho(){Qe(window,"dragstart",dn)}function Is(){kt(window,"dragstart",dn)}var fo,jr;function Ps(a){for(;a.tabIndex===-1;)a=a.parentNode;a.style&&(bi(),fo=a,jr=a.style.outlineStyle,a.style.outlineStyle="none",Qe(window,"keydown",bi))}function bi(){fo&&(fo.style.outlineStyle=jr,fo=void 0,jr=void 0,kt(window,"keydown",bi))}function Go(a){do a=a.parentNode;while((!a.offsetWidth||!a.offsetHeight)&&a!==document.body);return a}function wi(a){var h=a.getBoundingClientRect();return{x:h.width/a.offsetWidth||1,y:h.height/a.offsetHeight||1,boundingClientRect:h}}var Ls={__proto__:null,TRANSFORM:En,TRANSITION:vi,TRANSITION_END:gr,get:ct,getStyle:rn,create:rt,remove:ot,empty:tt,toFront:Zt,toBack:ti,hasClass:os,addClass:je,removeClass:Kt,setClass:Yi,getClass:Mr,setOpacity:sn,testProp:co,setTransform:_r,setPosition:Yt,getPosition:zr,get disableTextSelection(){return Qi},get enableTextSelection(){return Dn},disableImageDrag:ho,enableImageDrag:Is,preventOutline:Ps,restoreOutline:bi,getSizedParentNode:Go,getScale:wi};function Qe(a,h,m,b){if(h&&typeof h=="object")for(var S in h)Ei(a,S,h[S],m);else{h=I(h);for(var O=0,q=h.length;O<q;O++)Ei(a,h[O],m,b)}return this}var ni="_leaflet_events";function kt(a,h,m,b){if(arguments.length===1)ls(a),delete a[ni];else if(h&&typeof h=="object")for(var S in h)us(a,S,h[S],m);else if(h=I(h),arguments.length===2)ls(a,function(X){return Te(h,X)!==-1});else for(var O=0,q=h.length;O<q;O++)us(a,h[O],m,b);return this}function ls(a,h){for(var m in a[ni]){var b=m.split(/\d/)[0];(!h||h(b))&&us(a,b,null,null,m)}}var zi={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Ei(a,h,m,b){var S=h+_(m)+(b?"_"+_(b):"");if(a[ni]&&a[ni][S])return this;var O=function(X){return m.call(b||a,X||window.event)},q=O;!re.touchNative&&re.pointer&&h.indexOf("touch")===0?O=pt(a,h,O):re.touch&&h==="dblclick"?O=ss(a,O):"addEventListener"in a?h==="touchstart"||h==="touchmove"||h==="wheel"||h==="mousewheel"?a.addEventListener(zi[h]||h,O,re.passiveEvents?{passive:!1}:!1):h==="mouseenter"||h==="mouseleave"?(O=function(X){X=X||window.event,br(a,X)&&q(X)},a.addEventListener(zi[h],O,!1)):a.addEventListener(h,q,!1):a.attachEvent("on"+h,O),a[ni]=a[ni]||{},a[ni][S]=O}function us(a,h,m,b,S){S=S||h+_(m)+(b?"_"+_(b):"");var O=a[ni]&&a[ni][S];if(!O)return this;!re.touchNative&&re.pointer&&h.indexOf("touch")===0?Dt(a,h,O):re.touch&&h==="dblclick"?ei(a,O):"removeEventListener"in a?a.removeEventListener(zi[h]||h,O,!1):a.detachEvent("on"+h,O),a[ni][S]=null}function Tt(a){return a.stopPropagation?a.stopPropagation():a.originalEvent?a.originalEvent._stopped=!0:a.cancelBubble=!0,this}function Wi(a){return Ei(a,"wheel",Tt),this}function cs(a){return Qe(a,"mousedown touchstart dblclick contextmenu",Tt),a._leaflet_disable_click=!0,this}function dn(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this}function yr(a){return dn(a),Tt(a),this}function Ds(a){if(a.composedPath)return a.composedPath();for(var h=[],m=a.target;m;)h.push(m),m=m.parentNode;return h}function Ur(a,h){if(!h)return new me(a.clientX,a.clientY);var m=wi(h),b=m.boundingClientRect;return new me((a.clientX-b.left)/m.x-h.clientLeft,(a.clientY-b.top)/m.y-h.clientTop)}var vr=re.linux&&re.chrome?window.devicePixelRatio:re.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function kn(a){return re.edge?a.wheelDeltaY/2:a.deltaY&&a.deltaMode===0?-a.deltaY/vr:a.deltaY&&a.deltaMode===1?-a.deltaY*20:a.deltaY&&a.deltaMode===2?-a.deltaY*60:a.deltaX||a.deltaZ?0:a.wheelDelta?(a.wheelDeltaY||a.wheelDelta)/2:a.detail&&Math.abs(a.detail)<32765?-a.detail*20:a.detail?a.detail/-32765*60:0}function br(a,h){var m=h.relatedTarget;if(!m)return!0;try{for(;m&&m!==a;)m=m.parentNode}catch{return!1}return m!==a}var Vr={__proto__:null,on:Qe,off:kt,stopPropagation:Tt,disableScrollPropagation:Wi,disableClickPropagation:cs,preventDefault:dn,stop:yr,getPropagationPath:Ds,getMousePosition:Ur,getWheelDelta:kn,isExternalTarget:br,addListener:Qe,removeListener:kt},hs=Ee.extend({run:function(a,h,m,b){this.stop(),this._el=a,this._inProgress=!0,this._duration=m||.25,this._easeOutPower=1/Math.max(b||.5,.2),this._startPos=zr(a),this._offset=h.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=V(this._animate,this),this._step()},_step:function(a){var h=+new Date-this._startTime,m=this._duration*1e3;h<m?this._runFrame(this._easeOut(h/m),a):(this._runFrame(1),this._complete())},_runFrame:function(a,h){var m=this._startPos.add(this._offset.multiplyBy(a));h&&m._round(),Yt(this._el,m),this.fire("step")},_complete:function(){K(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),_t=Ee.extend({options:{crs:ci,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(a,h){h=j(this,h),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(a),this._initLayout(),this._onResize=c(this._onResize,this),this._initEvents(),h.maxBounds&&this.setMaxBounds(h.maxBounds),h.zoom!==void 0&&(this._zoom=this._limitZoom(h.zoom)),h.center&&h.zoom!==void 0&&this.setView(Oe(h.center),h.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=vi&&re.any3d&&!re.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Qe(this._proxy,gr,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(a,h,m){if(h=h===void 0?this._zoom:this._limitZoom(h),a=this._limitCenter(Oe(a),h,this.options.maxBounds),m=m||{},this._stop(),this._loaded&&!m.reset&&m!==!0){m.animate!==void 0&&(m.zoom=o({animate:m.animate},m.zoom),m.pan=o({animate:m.animate,duration:m.duration},m.pan));var b=this._zoom!==h?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,h,m.zoom):this._tryAnimatedPan(a,m.pan);if(b)return clearTimeout(this._sizeTimer),this}return this._resetView(a,h,m.pan&&m.pan.noMoveStart),this},setZoom:function(a,h){return this._loaded?this.setView(this.getCenter(),a,{zoom:h}):(this._zoom=a,this)},zoomIn:function(a,h){return a=a||(re.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+a,h)},zoomOut:function(a,h){return a=a||(re.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-a,h)},setZoomAround:function(a,h,m){var b=this.getZoomScale(h),S=this.getSize().divideBy(2),O=a instanceof me?a:this.latLngToContainerPoint(a),q=O.subtract(S).multiplyBy(1-1/b),X=this.containerPointToLatLng(S.add(q));return this.setView(X,h,{zoom:m})},_getBoundsCenterZoom:function(a,h){h=h||{},a=a.getBounds?a.getBounds():xe(a);var m=Ae(h.paddingTopLeft||h.padding||[0,0]),b=Ae(h.paddingBottomRight||h.padding||[0,0]),S=this.getBoundsZoom(a,!1,m.add(b));if(S=typeof h.maxZoom=="number"?Math.min(h.maxZoom,S):S,S===1/0)return{center:a.getCenter(),zoom:S};var O=b.subtract(m).divideBy(2),q=this.project(a.getSouthWest(),S),X=this.project(a.getNorthEast(),S),ue=this.unproject(q.add(X).divideBy(2).add(O),S);return{center:ue,zoom:S}},fitBounds:function(a,h){if(a=xe(a),!a.isValid())throw new Error("Bounds are not valid.");var m=this._getBoundsCenterZoom(a,h);return this.setView(m.center,m.zoom,h)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,h){return this.setView(a,this._zoom,{pan:h})},panBy:function(a,h){if(a=Ae(a).round(),h=h||{},!a.x&&!a.y)return this.fire("moveend");if(h.animate!==!0&&!this.getSize().contains(a))return this._resetView(this.unproject(this.project(this.getCenter()).add(a)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new hs,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),h.noMoveStart||this.fire("movestart"),h.animate!==!1){je(this._mapPane,"leaflet-pan-anim");var m=this._getMapPanePos().subtract(a).round();this._panAnim.run(this._mapPane,m,h.duration||.25,h.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},flyTo:function(a,h,m){if(m=m||{},m.animate===!1||!re.any3d)return this.setView(a,h,m);this._stop();var b=this.project(this.getCenter()),S=this.project(a),O=this.getSize(),q=this._zoom;a=Oe(a),h=h===void 0?q:h;var X=Math.max(O.x,O.y),ue=X*this.getZoomScale(q,h),_e=S.distanceTo(b)||1,Pe=1.42,$e=Pe*Pe;function dt(yn){var gs=yn?-1:1,bo=yn?ue:X,Tc=ue*ue-X*X+gs*$e*$e*_e*_e,_l=2*bo*$e*_e,yl=Tc/_l,qs=Math.sqrt(yl*yl+1)-yl,_s=qs<1e-9?-18:Math.log(qs);return _s}function qn(yn){return(Math.exp(yn)-Math.exp(-yn))/2}function Tn(yn){return(Math.exp(yn)+Math.exp(-yn))/2}function Vi(yn){return qn(yn)/Tn(yn)}var jt=dt(0);function Ut(yn){return X*(Tn(jt)/Tn(jt+Pe*yn))}function bt(yn){return X*(Tn(jt)*Vi(jt+Pe*yn)-qn(jt))/$e}function Fs(yn){return 1-Math.pow(1-yn,1.5)}var nr=Date.now(),lu=(dt(1)-jt)/Pe,Hs=m.duration?1e3*m.duration:1e3*lu*.8;function Ec(){var yn=(Date.now()-nr)/Hs,gs=Fs(yn)*lu;yn<=1?(this._flyToFrame=V(Ec,this),this._move(this.unproject(b.add(S.subtract(b).multiplyBy(bt(gs)/_e)),q),this.getScaleZoom(X/Ut(gs),q),{flyTo:!0})):this._move(a,h)._moveEnd(!0)}return this._moveStart(!0,m.noMoveStart),Ec.call(this),this},flyToBounds:function(a,h){var m=this._getBoundsCenterZoom(a,h);return this.flyTo(m.center,m.zoom,h)},setMaxBounds:function(a){return a=xe(a),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),a.isValid()?(this.options.maxBounds=a,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(a){var h=this.options.minZoom;return this.options.minZoom=a,this._loaded&&h!==a&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(a):this},setMaxZoom:function(a){var h=this.options.maxZoom;return this.options.maxZoom=a,this._loaded&&h!==a&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(a):this},panInsideBounds:function(a,h){this._enforcingBounds=!0;var m=this.getCenter(),b=this._limitCenter(m,this._zoom,xe(a));return m.equals(b)||this.panTo(b,h),this._enforcingBounds=!1,this},panInside:function(a,h){h=h||{};var m=Ae(h.paddingTopLeft||h.padding||[0,0]),b=Ae(h.paddingBottomRight||h.padding||[0,0]),S=this.project(this.getCenter()),O=this.project(a),q=this.getPixelBounds(),X=le([q.min.add(m),q.max.subtract(b)]),ue=X.getSize();if(!X.contains(O)){this._enforcingBounds=!0;var _e=O.subtract(X.getCenter()),Pe=X.extend(O).getSize().subtract(ue);S.x+=_e.x<0?-Pe.x:Pe.x,S.y+=_e.y<0?-Pe.y:Pe.y,this.panTo(this.unproject(S),h),this._enforcingBounds=!1}return this},invalidateSize:function(a){if(!this._loaded)return this;a=o({animate:!1,pan:!0},a===!0?{animate:!0}:a);var h=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var m=this.getSize(),b=h.divideBy(2).round(),S=m.divideBy(2).round(),O=b.subtract(S);return!O.x&&!O.y?this:(a.animate&&a.pan?this.panBy(O):(a.pan&&this._rawPanBy(O),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(c(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:h,newSize:m}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(a){if(a=this._locateOptions=o({timeout:1e4,watch:!1},a),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var h=c(this._handleGeolocationResponse,this),m=c(this._handleGeolocationError,this);return a.watch?this._locationWatchId=navigator.geolocation.watchPosition(h,m,a):navigator.geolocation.getCurrentPosition(h,m,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(a){if(this._container._leaflet_id){var h=a.code,m=a.message||(h===1?"permission denied":h===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:h,message:"Geolocation error: "+m+"."})}},_handleGeolocationResponse:function(a){if(this._container._leaflet_id){var h=a.coords.latitude,m=a.coords.longitude,b=new Se(h,m),S=b.toBounds(a.coords.accuracy*2),O=this._locateOptions;if(O.setView){var q=this.getBoundsZoom(S);this.setView(b,O.maxZoom?Math.min(q,O.maxZoom):q)}var X={latlng:b,bounds:S,timestamp:a.timestamp};for(var ue in a.coords)typeof a.coords[ue]=="number"&&(X[ue]=a.coords[ue]);this.fire("locationfound",X)}},addHandler:function(a,h){if(!h)return this;var m=this[a]=new h(this);return this._handlers.push(m),this.options[a]&&m.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ot(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(K(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var a;for(a in this._layers)this._layers[a].remove();for(a in this._panes)ot(this._panes[a]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(a,h){var m="leaflet-pane"+(a?" leaflet-"+a.replace("Pane","")+"-pane":""),b=rt("div",m,h||this._mapPane);return a&&(this._panes[a]=b),b},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds(),h=this.unproject(a.getBottomLeft()),m=this.unproject(a.getTopRight());return new be(h,m)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,h,m){a=xe(a),m=Ae(m||[0,0]);var b=this.getZoom()||0,S=this.getMinZoom(),O=this.getMaxZoom(),q=a.getNorthWest(),X=a.getSouthEast(),ue=this.getSize().subtract(m),_e=le(this.project(X,b),this.project(q,b)).getSize(),Pe=re.any3d?this.options.zoomSnap:1,$e=ue.x/_e.x,dt=ue.y/_e.y,qn=h?Math.max($e,dt):Math.min($e,dt);return b=this.getScaleZoom(qn,b),Pe&&(b=Math.round(b/(Pe/100))*(Pe/100),b=h?Math.ceil(b/Pe)*Pe:Math.floor(b/Pe)*Pe),Math.max(S,Math.min(O,b))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new me(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(a,h){var m=this._getTopLeftPoint(a,h);return new H(m,m.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(a){return this.options.crs.getProjectedBounds(a===void 0?this.getZoom():a)},getPane:function(a){return typeof a=="string"?this._panes[a]:a},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a,h){var m=this.options.crs;return h=h===void 0?this._zoom:h,m.scale(a)/m.scale(h)},getScaleZoom:function(a,h){var m=this.options.crs;h=h===void 0?this._zoom:h;var b=m.zoom(a*m.scale(h));return isNaN(b)?1/0:b},project:function(a,h){return h=h===void 0?this._zoom:h,this.options.crs.latLngToPoint(Oe(a),h)},unproject:function(a,h){return h=h===void 0?this._zoom:h,this.options.crs.pointToLatLng(Ae(a),h)},layerPointToLatLng:function(a){var h=Ae(a).add(this.getPixelOrigin());return this.unproject(h)},latLngToLayerPoint:function(a){var h=this.project(Oe(a))._round();return h._subtract(this.getPixelOrigin())},wrapLatLng:function(a){return this.options.crs.wrapLatLng(Oe(a))},wrapLatLngBounds:function(a){return this.options.crs.wrapLatLngBounds(xe(a))},distance:function(a,h){return this.options.crs.distance(Oe(a),Oe(h))},containerPointToLayerPoint:function(a){return Ae(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return Ae(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){var h=this.containerPointToLayerPoint(Ae(a));return this.layerPointToLatLng(h)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Oe(a)))},mouseEventToContainerPoint:function(a){return Ur(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){var h=this._container=ct(a);if(h){if(h._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Qe(h,"scroll",this._onScroll,this),this._containerId=_(h)},_initLayout:function(){var a=this._container;this._fadeAnimated=this.options.fadeAnimation&&re.any3d,je(a,"leaflet-container"+(re.touch?" leaflet-touch":"")+(re.retina?" leaflet-retina":"")+(re.ielt9?" leaflet-oldie":"")+(re.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var h=rn(a,"position");h!=="absolute"&&h!=="relative"&&h!=="fixed"&&h!=="sticky"&&(a.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Yt(this._mapPane,new me(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(je(a.markerPane,"leaflet-zoom-hide"),je(a.shadowPane,"leaflet-zoom-hide"))},_resetView:function(a,h,m){Yt(this._mapPane,new me(0,0));var b=!this._loaded;this._loaded=!0,h=this._limitZoom(h),this.fire("viewprereset");var S=this._zoom!==h;this._moveStart(S,m)._move(a,h)._moveEnd(S),this.fire("viewreset"),b&&this.fire("load")},_moveStart:function(a,h){return a&&this.fire("zoomstart"),h||this.fire("movestart"),this},_move:function(a,h,m,b){h===void 0&&(h=this._zoom);var S=this._zoom!==h;return this._zoom=h,this._lastCenter=a,this._pixelOrigin=this._getNewPixelOrigin(a),b?m&&m.pinch&&this.fire("zoom",m):((S||m&&m.pinch)&&this.fire("zoom",m),this.fire("move",m)),this},_moveEnd:function(a){return a&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return K(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(a){Yt(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(a){this._targets={},this._targets[_(this._container)]=this;var h=a?kt:Qe;h(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&h(window,"resize",this._onResize,this),re.any3d&&this.options.transform3DLimit&&(a?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){K(this._resizeRequest),this._resizeRequest=V(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var a=this._getMapPanePos();Math.max(Math.abs(a.x),Math.abs(a.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(a,h){for(var m=[],b,S=h==="mouseout"||h==="mouseover",O=a.target||a.srcElement,q=!1;O;){if(b=this._targets[_(O)],b&&(h==="click"||h==="preclick")&&this._draggableMoved(b)){q=!0;break}if(b&&b.listens(h,!0)&&(S&&!br(O,a)||(m.push(b),S))||O===this._container)break;O=O.parentNode}return!m.length&&!q&&!S&&this.listens(h,!0)&&(m=[this]),m},_isClickDisabled:function(a){for(;a&&a!==this._container;){if(a._leaflet_disable_click)return!0;a=a.parentNode}},_handleDOMEvent:function(a){var h=a.target||a.srcElement;if(!(!this._loaded||h._leaflet_disable_events||a.type==="click"&&this._isClickDisabled(h))){var m=a.type;m==="mousedown"&&Ps(h),this._fireDOMEvent(a,m)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(a,h,m){if(a.type==="click"){var b=o({},a);b.type="preclick",this._fireDOMEvent(b,b.type,m)}var S=this._findEventTargets(a,h);if(m){for(var O=[],q=0;q<m.length;q++)m[q].listens(h,!0)&&O.push(m[q]);S=O.concat(S)}if(S.length){h==="contextmenu"&&dn(a);var X=S[0],ue={originalEvent:a};if(a.type!=="keypress"&&a.type!=="keydown"&&a.type!=="keyup"){var _e=X.getLatLng&&(!X._radius||X._radius<=10);ue.containerPoint=_e?this.latLngToContainerPoint(X.getLatLng()):this.mouseEventToContainerPoint(a),ue.layerPoint=this.containerPointToLayerPoint(ue.containerPoint),ue.latlng=_e?X.getLatLng():this.layerPointToLatLng(ue.layerPoint)}for(q=0;q<S.length;q++)if(S[q].fire(h,ue,!0),ue.originalEvent._stopped||S[q].options.bubblingMouseEvents===!1&&Te(this._mouseEvents,h)!==-1)return}},_draggableMoved:function(a){return a=a.dragging&&a.dragging.enabled()?a:this,a.dragging&&a.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var a=0,h=this._handlers.length;a<h;a++)this._handlers[a].disable()},whenReady:function(a,h){return this._loaded?a.call(h||this,{target:this}):this.on("load",a,h),this},_getMapPanePos:function(){return zr(this._mapPane)||new me(0,0)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(a,h){var m=a&&h!==void 0?this._getNewPixelOrigin(a,h):this.getPixelOrigin();return m.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(a,h){var m=this.getSize()._divideBy(2);return this.project(a,h)._subtract(m)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(a,h,m){var b=this._getNewPixelOrigin(m,h);return this.project(a,h)._subtract(b)},_latLngBoundsToNewLayerBounds:function(a,h,m){var b=this._getNewPixelOrigin(m,h);return le([this.project(a.getSouthWest(),h)._subtract(b),this.project(a.getNorthWest(),h)._subtract(b),this.project(a.getSouthEast(),h)._subtract(b),this.project(a.getNorthEast(),h)._subtract(b)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,h,m){if(!m)return a;var b=this.project(a,h),S=this.getSize().divideBy(2),O=new H(b.subtract(S),b.add(S)),q=this._getBoundsOffset(O,m,h);return Math.abs(q.x)<=1&&Math.abs(q.y)<=1?a:this.unproject(b.add(q),h)},_limitOffset:function(a,h){if(!h)return a;var m=this.getPixelBounds(),b=new H(m.min.add(a),m.max.add(a));return a.add(this._getBoundsOffset(b,h))},_getBoundsOffset:function(a,h,m){var b=le(this.project(h.getNorthEast(),m),this.project(h.getSouthWest(),m)),S=b.min.subtract(a.min),O=b.max.subtract(a.max),q=this._rebound(S.x,-O.x),X=this._rebound(S.y,-O.y);return new me(q,X)},_rebound:function(a,h){return a+h>0?Math.round(a-h)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(h))},_limitZoom:function(a){var h=this.getMinZoom(),m=this.getMaxZoom(),b=re.any3d?this.options.zoomSnap:1;return b&&(a=Math.round(a/b)*b),Math.max(h,Math.min(m,a))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Kt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(a,h){var m=this._getCenterOffset(a)._trunc();return(h&&h.animate)!==!0&&!this.getSize().contains(m)?!1:(this.panBy(m,h),!0)},_createAnimProxy:function(){var a=this._proxy=rt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(a),this.on("zoomanim",function(h){var m=En,b=this._proxy.style[m];_r(this._proxy,this.project(h.center,h.zoom),this.getZoomScale(h.zoom,1)),b===this._proxy.style[m]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ot(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var a=this.getCenter(),h=this.getZoom();_r(this._proxy,this.project(a,h),this.getZoomScale(h,1))},_catchTransitionEnd:function(a){this._animatingZoom&&a.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,h,m){if(this._animatingZoom)return!0;if(m=m||{},!this._zoomAnimated||m.animate===!1||this._nothingToAnimate()||Math.abs(h-this._zoom)>this.options.zoomAnimationThreshold)return!1;var b=this.getZoomScale(h),S=this._getCenterOffset(a)._divideBy(1-1/b);return m.animate!==!0&&!this.getSize().contains(S)?!1:(V(function(){this._moveStart(!0,m.noMoveStart||!1)._animateZoom(a,h,!0)},this),!0)},_animateZoom:function(a,h,m,b){this._mapPane&&(m&&(this._animatingZoom=!0,this._animateToCenter=a,this._animateToZoom=h,je(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:a,zoom:h,noUpdate:b}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(c(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Kt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function ks(a,h){return new _t(a,h)}var ii=Ue.extend({options:{position:"topright"},initialize:function(a){j(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var h=this._map;return h&&h.removeControl(this),this.options.position=a,h&&h.addControl(this),this},getContainer:function(){return this._container},addTo:function(a){this.remove(),this._map=a;var h=this._container=this.onAdd(a),m=this.getPosition(),b=a._controlCorners[m];return je(h,"leaflet-control"),m.indexOf("bottom")!==-1?b.insertBefore(h,b.firstChild):b.appendChild(h),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ot(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(a){this._map&&a&&a.screenX>0&&a.screenY>0&&this._map.getContainer().focus()}}),Ti=function(a){return new ii(a)};_t.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.remove(),this},_initControlPos:function(){var a=this._controlCorners={},h="leaflet-",m=this._controlContainer=rt("div",h+"control-container",this._container);function b(S,O){var q=h+S+" "+h+O;a[S+O]=rt("div",q,m)}b("top","left"),b("top","right"),b("bottom","left"),b("bottom","right")},_clearControlPos:function(){for(var a in this._controlCorners)ot(this._controlCorners[a]);ot(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var mo=ii.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(a,h,m,b){return m<b?-1:b<m?1:0}},initialize:function(a,h,m){j(this,m),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var b in a)this._addLayer(a[b],b);for(b in h)this._addLayer(h[b],b,!0)},onAdd:function(a){this._initLayout(),this._update(),this._map=a,a.on("zoomend",this._checkDisabledLayers,this);for(var h=0;h<this._layers.length;h++)this._layers[h].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(a){return ii.prototype.addTo.call(this,a),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(a,h){return this._addLayer(a,h),this._map?this._update():this},addOverlay:function(a,h){return this._addLayer(a,h,!0),this._map?this._update():this},removeLayer:function(a){a.off("add remove",this._onLayerChange,this);var h=this._getLayer(_(a));return h&&this._layers.splice(this._layers.indexOf(h),1),this._map?this._update():this},expand:function(){je(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var a=this._map.getSize().y-(this._container.offsetTop+50);return a<this._section.clientHeight?(je(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=a+"px"):Kt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Kt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var a="leaflet-control-layers",h=this._container=rt("div",a),m=this.options.collapsed;h.setAttribute("aria-haspopup",!0),cs(h),Wi(h);var b=this._section=rt("section",a+"-list");m&&(this._map.on("click",this.collapse,this),Qe(h,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var S=this._layersLink=rt("a",a+"-toggle",h);S.href="#",S.title="Layers",S.setAttribute("role","button"),Qe(S,{keydown:function(O){O.keyCode===13&&this._expandSafely()},click:function(O){dn(O),this._expandSafely()}},this),m||this.expand(),this._baseLayersList=rt("div",a+"-base",b),this._separator=rt("div",a+"-separator",b),this._overlaysList=rt("div",a+"-overlays",b),h.appendChild(b)},_getLayer:function(a){for(var h=0;h<this._layers.length;h++)if(this._layers[h]&&_(this._layers[h].layer)===a)return this._layers[h]},_addLayer:function(a,h,m){this._map&&a.on("add remove",this._onLayerChange,this),this._layers.push({layer:a,name:h,overlay:m}),this.options.sortLayers&&this._layers.sort(c(function(b,S){return this.options.sortFunction(b.layer,S.layer,b.name,S.name)},this)),this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;tt(this._baseLayersList),tt(this._overlaysList),this._layerControlInputs=[];var a,h,m,b,S=0;for(m=0;m<this._layers.length;m++)b=this._layers[m],this._addItem(b),h=h||b.overlay,a=a||!b.overlay,S+=b.overlay?0:1;return this.options.hideSingleBase&&(a=a&&S>1,this._baseLayersList.style.display=a?"":"none"),this._separator.style.display=h&&a?"":"none",this},_onLayerChange:function(a){this._handlingClick||this._update();var h=this._getLayer(_(a.target)),m=h.overlay?a.type==="add"?"overlayadd":"overlayremove":a.type==="add"?"baselayerchange":null;m&&this._map.fire(m,h)},_createRadioElement:function(a,h){var m='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"'+(h?' checked="checked"':"")+"/>",b=document.createElement("div");return b.innerHTML=m,b.firstChild},_addItem:function(a){var h=document.createElement("label"),m=this._map.hasLayer(a.layer),b;a.overlay?(b=document.createElement("input"),b.type="checkbox",b.className="leaflet-control-layers-selector",b.defaultChecked=m):b=this._createRadioElement("leaflet-base-layers_"+_(this),m),this._layerControlInputs.push(b),b.layerId=_(a.layer),Qe(b,"click",this._onInputClick,this);var S=document.createElement("span");S.innerHTML=" "+a.name;var O=document.createElement("span");h.appendChild(O),O.appendChild(b),O.appendChild(S);var q=a.overlay?this._overlaysList:this._baseLayersList;return q.appendChild(h),this._checkDisabledLayers(),h},_onInputClick:function(){if(!this._preventClick){var a=this._layerControlInputs,h,m,b=[],S=[];this._handlingClick=!0;for(var O=a.length-1;O>=0;O--)h=a[O],m=this._getLayer(h.layerId).layer,h.checked?b.push(m):h.checked||S.push(m);for(O=0;O<S.length;O++)this._map.hasLayer(S[O])&&this._map.removeLayer(S[O]);for(O=0;O<b.length;O++)this._map.hasLayer(b[O])||this._map.addLayer(b[O]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var a=this._layerControlInputs,h,m,b=this._map.getZoom(),S=a.length-1;S>=0;S--)h=a[S],m=this._getLayer(h.layerId).layer,h.disabled=m.options.minZoom!==void 0&&b<m.options.minZoom||m.options.maxZoom!==void 0&&b>m.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var a=this._section;this._preventClick=!0,Qe(a,"click",dn),this.expand();var h=this;setTimeout(function(){kt(a,"click",dn),h._preventClick=!1})}}),Xa=function(a,h,m){return new mo(a,h,m)},fs=ii.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(a){var h="leaflet-control-zoom",m=rt("div",h+" leaflet-bar"),b=this.options;return this._zoomInButton=this._createButton(b.zoomInText,b.zoomInTitle,h+"-in",m,this._zoomIn),this._zoomOutButton=this._createButton(b.zoomOutText,b.zoomOutTitle,h+"-out",m,this._zoomOut),this._updateDisabled(),a.on("zoomend zoomlevelschange",this._updateDisabled,this),m},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(a){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(a.shiftKey?3:1))},_zoomOut:function(a){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(a.shiftKey?3:1))},_createButton:function(a,h,m,b,S){var O=rt("a",m,b);return O.innerHTML=a,O.href="#",O.title=h,O.setAttribute("role","button"),O.setAttribute("aria-label",h),cs(O),Qe(O,"click",yr),Qe(O,"click",S,this),Qe(O,"click",this._refocusOnMap,this),O},_updateDisabled:function(){var a=this._map,h="leaflet-disabled";Kt(this._zoomInButton,h),Kt(this._zoomOutButton,h),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||a._zoom===a.getMinZoom())&&(je(this._zoomOutButton,h),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||a._zoom===a.getMaxZoom())&&(je(this._zoomInButton,h),this._zoomInButton.setAttribute("aria-disabled","true"))}});_t.mergeOptions({zoomControl:!0}),_t.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new fs,this.addControl(this.zoomControl))});var Ql=function(a){return new fs(a)},Ja=ii.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(a){var h="leaflet-control-scale",m=rt("div",h),b=this.options;return this._addScales(b,h+"-line",m),a.on(b.updateWhenIdle?"moveend":"move",this._update,this),a.whenReady(this._update,this),m},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,h,m){a.metric&&(this._mScale=rt("div",h,m)),a.imperial&&(this._iScale=rt("div",h,m))},_update:function(){var a=this._map,h=a.getSize().y/2,m=a.distance(a.containerPointToLatLng([0,h]),a.containerPointToLatLng([this.options.maxWidth,h]));this._updateScales(m)},_updateScales:function(a){this.options.metric&&a&&this._updateMetric(a),this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(a){var h=this._getRoundNum(a),m=h<1e3?h+" m":h/1e3+" km";this._updateScale(this._mScale,m,h/a)},_updateImperial:function(a){var h=a*3.2808399,m,b,S;h>5280?(m=h/5280,b=this._getRoundNum(m),this._updateScale(this._iScale,b+" mi",b/m)):(S=this._getRoundNum(h),this._updateScale(this._iScale,S+" ft",S/h))},_updateScale:function(a,h,m){a.style.width=Math.round(this.options.maxWidth*m)+"px",a.innerHTML=h},_getRoundNum:function(a){var h=Math.pow(10,(Math.floor(a)+"").length-1),m=a/h;return m=m>=10?10:m>=5?5:m>=3?3:m>=2?2:1,h*m}}),po=function(a){return new Ja(a)},el='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Ko=ii.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(re.inlineSvg?el+" ":"")+"Leaflet</a>"},initialize:function(a){j(this,a),this._attributions={}},onAdd:function(a){a.attributionControl=this,this._container=rt("div","leaflet-control-attribution"),cs(this._container);for(var h in a._layers)a._layers[h].getAttribution&&this.addAttribution(a._layers[h].getAttribution());return this._update(),a.on("layeradd",this._addAttribution,this),this._container},onRemove:function(a){a.off("layeradd",this._addAttribution,this)},_addAttribution:function(a){a.layer.getAttribution&&(this.addAttribution(a.layer.getAttribution()),a.layer.once("remove",function(){this.removeAttribution(a.layer.getAttribution())},this))},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):this},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,this._update()),this):this},_update:function(){if(this._map){var a=[];for(var h in this._attributions)this._attributions[h]&&a.push(h);var m=[];this.options.prefix&&m.push(this.options.prefix),a.length&&m.push(a.join(", ")),this._container.innerHTML=m.join(' <span aria-hidden="true">|</span> ')}}});_t.mergeOptions({attributionControl:!0}),_t.addInitHook(function(){this.options.attributionControl&&new Ko().addTo(this)});var Yo=function(a){return new Ko(a)};ii.Layers=mo,ii.Zoom=fs,ii.Scale=Ja,ii.Attribution=Ko,Ti.layers=Xa,Ti.zoom=Ql,Ti.scale=po,Ti.attribution=Yo;var ji=Ue.extend({initialize:function(a){this._map=a},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});ji.addTo=function(a,h){return a.addHandler(h,this),this};var Wl={Events:te},wr=re.touch?"touchstart mousedown":"mousedown",Er=Ee.extend({options:{clickTolerance:3},initialize:function(a,h,m,b){j(this,b),this._element=a,this._dragStartTarget=h||a,this._preventOutline=m},enable:function(){this._enabled||(Qe(this._dragStartTarget,wr,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Er._dragging===this&&this.finishDrag(!0),kt(this._dragStartTarget,wr,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(a){if(this._enabled&&(this._moved=!1,!os(this._element,"leaflet-zoom-anim"))){if(a.touches&&a.touches.length!==1){Er._dragging===this&&this.finishDrag();return}if(!(Er._dragging||a.shiftKey||a.which!==1&&a.button!==1&&!a.touches)&&(Er._dragging=this,this._preventOutline&&Ps(this._element),ho(),Qi(),!this._moving)){this.fire("down");var h=a.touches?a.touches[0]:a,m=Go(this._element);this._startPoint=new me(h.clientX,h.clientY),this._startPos=zr(this._element),this._parentScale=wi(m);var b=a.type==="mousedown";Qe(document,b?"mousemove":"touchmove",this._onMove,this),Qe(document,b?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(a){if(this._enabled){if(a.touches&&a.touches.length>1){this._moved=!0;return}var h=a.touches&&a.touches.length===1?a.touches[0]:a,m=new me(h.clientX,h.clientY)._subtract(this._startPoint);!m.x&&!m.y||Math.abs(m.x)+Math.abs(m.y)<this.options.clickTolerance||(m.x/=this._parentScale.x,m.y/=this._parentScale.y,dn(a),this._moved||(this.fire("dragstart"),this._moved=!0,je(document.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),je(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(m),this._moving=!0,this._lastEvent=a,this._updatePosition())}},_updatePosition:function(){var a={originalEvent:this._lastEvent};this.fire("predrag",a),Yt(this._element,this._newPos),this.fire("drag",a)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(a){Kt(document.body,"leaflet-dragging"),this._lastTarget&&(Kt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),kt(document,"mousemove touchmove",this._onMove,this),kt(document,"mouseup touchend touchcancel",this._onUp,this),Is(),Dn();var h=this._moved&&this._moving;this._moving=!1,Er._dragging=!1,h&&this.fire("dragend",{noInertia:a,distance:this._newPos.distanceTo(this._startPos)})}});function tl(a,h,m){var b,S=[1,4,2,8],O,q,X,ue,_e,Pe,$e,dt;for(O=0,Pe=a.length;O<Pe;O++)a[O]._code=he(a[O],h);for(X=0;X<4;X++){for($e=S[X],b=[],O=0,Pe=a.length,q=Pe-1;O<Pe;q=O++)ue=a[O],_e=a[q],ue._code&$e?_e._code&$e||(dt=J(_e,ue,$e,h,m),dt._code=he(dt,h),b.push(dt)):(_e._code&$e&&(dt=J(_e,ue,$e,h,m),dt._code=he(dt,h),b.push(dt)),b.push(ue));a=b}return a}function nl(a,h){var m,b,S,O,q,X,ue,_e,Pe;if(!a||a.length===0)throw new Error("latlngs not passed");Ot(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var $e=Oe([0,0]),dt=xe(a),qn=dt.getNorthWest().distanceTo(dt.getSouthWest())*dt.getNorthEast().distanceTo(dt.getNorthWest());qn<1700&&($e=Qo(a));var Tn=a.length,Vi=[];for(m=0;m<Tn;m++){var jt=Oe(a[m]);Vi.push(h.project(Oe([jt.lat-$e.lat,jt.lng-$e.lng])))}for(X=ue=_e=0,m=0,b=Tn-1;m<Tn;b=m++)S=Vi[m],O=Vi[b],q=S.y*O.x-O.y*S.x,ue+=(S.x+O.x)*q,_e+=(S.y+O.y)*q,X+=q*3;X===0?Pe=Vi[0]:Pe=[ue/X,_e/X];var Ut=h.unproject(Ae(Pe));return Oe([Ut.lat+$e.lat,Ut.lng+$e.lng])}function Qo(a){for(var h=0,m=0,b=0,S=0;S<a.length;S++){var O=Oe(a[S]);h+=O.lat,m+=O.lng,b++}return Oe([h/b,m/b])}var Ms={__proto__:null,clipPolygon:tl,polygonCenter:nl,centroid:Qo};function ri(a,h){if(!h||!a.length)return a.slice();var m=h*h;return a=T(a,m),a=ds(a,m),a}function il(a,h,m){return Math.sqrt(nt(a,h,m,!0))}function Xl(a,h,m){return nt(a,h,m)}function ds(a,h){var m=a.length,b=typeof Uint8Array<"u"?Uint8Array:Array,S=new b(m);S[0]=S[m-1]=1,d(a,S,h,0,m-1);var O,q=[];for(O=0;O<m;O++)S[O]&&q.push(a[O]);return q}function d(a,h,m,b,S){var O=0,q,X,ue;for(X=b+1;X<=S-1;X++)ue=nt(a[X],a[b],a[S],!0),ue>O&&(q=X,O=ue);O>m&&(h[q]=1,d(a,h,m,b,q),d(a,h,m,q,S))}function T(a,h){for(var m=[a[0]],b=1,S=0,O=a.length;b<O;b++)Ne(a[b],a[S])>h&&(m.push(a[b]),S=b);return S<O-1&&m.push(a[O-1]),m}var R;function k(a,h,m,b,S){var O=b?R:he(a,m),q=he(h,m),X,ue,_e;for(R=q;;){if(!(O|q))return[a,h];if(O&q)return!1;X=O||q,ue=J(a,h,X,m,S),_e=he(ue,m),X===O?(a=ue,O=_e):(h=ue,q=_e)}}function J(a,h,m,b,S){var O=h.x-a.x,q=h.y-a.y,X=b.min,ue=b.max,_e,Pe;return m&8?(_e=a.x+O*(ue.y-a.y)/q,Pe=ue.y):m&4?(_e=a.x+O*(X.y-a.y)/q,Pe=X.y):m&2?(_e=ue.x,Pe=a.y+q*(ue.x-a.x)/O):m&1&&(_e=X.x,Pe=a.y+q*(X.x-a.x)/O),new me(_e,Pe,S)}function he(a,h){var m=0;return a.x<h.min.x?m|=1:a.x>h.max.x&&(m|=2),a.y<h.min.y?m|=4:a.y>h.max.y&&(m|=8),m}function Ne(a,h){var m=h.x-a.x,b=h.y-a.y;return m*m+b*b}function nt(a,h,m,b){var S=h.x,O=h.y,q=m.x-S,X=m.y-O,ue=q*q+X*X,_e;return ue>0&&(_e=((a.x-S)*q+(a.y-O)*X)/ue,_e>1?(S=m.x,O=m.y):_e>0&&(S+=q*_e,O+=X*_e)),q=a.x-S,X=a.y-O,b?q*q+X*X:new me(S,O)}function Ot(a){return!ae(a[0])||typeof a[0][0]!="object"&&typeof a[0][0]<"u"}function It(a){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Ot(a)}function on(a,h){var m,b,S,O,q,X,ue,_e;if(!a||a.length===0)throw new Error("latlngs not passed");Ot(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var Pe=Oe([0,0]),$e=xe(a),dt=$e.getNorthWest().distanceTo($e.getSouthWest())*$e.getNorthEast().distanceTo($e.getNorthWest());dt<1700&&(Pe=Qo(a));var qn=a.length,Tn=[];for(m=0;m<qn;m++){var Vi=Oe(a[m]);Tn.push(h.project(Oe([Vi.lat-Pe.lat,Vi.lng-Pe.lng])))}for(m=0,b=0;m<qn-1;m++)b+=Tn[m].distanceTo(Tn[m+1])/2;if(b===0)_e=Tn[0];else for(m=0,O=0;m<qn-1;m++)if(q=Tn[m],X=Tn[m+1],S=q.distanceTo(X),O+=S,O>b){ue=(O-b)/S,_e=[X.x-ue*(X.x-q.x),X.y-ue*(X.y-q.y)];break}var jt=h.unproject(Ae(_e));return Oe([jt.lat+Pe.lat,jt.lng+Pe.lng])}var Xi={__proto__:null,simplify:ri,pointToSegmentDistance:il,closestPointOnSegment:Xl,clipSegment:k,_getEdgeIntersection:J,_getBitCode:he,_sqClosestPointOnSegment:nt,isFlat:Ot,_flat:It,polylineCenter:on},Ji={project:function(a){return new me(a.lng,a.lat)},unproject:function(a){return new Se(a.y,a.x)},bounds:new H([-180,-90],[180,90])},Ui={R:6378137,R_MINOR:6356752314245179e-9,bounds:new H([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(a){var h=Math.PI/180,m=this.R,b=a.lat*h,S=this.R_MINOR/m,O=Math.sqrt(1-S*S),q=O*Math.sin(b),X=Math.tan(Math.PI/4-b/2)/Math.pow((1-q)/(1+q),O/2);return b=-m*Math.log(Math.max(X,1e-10)),new me(a.lng*h*m,b)},unproject:function(a){for(var h=180/Math.PI,m=this.R,b=this.R_MINOR/m,S=Math.sqrt(1-b*b),O=Math.exp(-a.y/m),q=Math.PI/2-2*Math.atan(O),X=0,ue=.1,_e;X<15&&Math.abs(ue)>1e-7;X++)_e=S*Math.sin(q),_e=Math.pow((1-_e)/(1+_e),S/2),ue=Math.PI/2-2*Math.atan(O*_e)-q,q+=ue;return new Se(q*h,a.x*h/m)}},Tr={__proto__:null,LonLat:Ji,Mercator:Ui,SphericalMercator:dr},go=o({},Nt,{code:"EPSG:3395",projection:Ui,transformation:(function(){var a=.5/(Math.PI*Ui.R);return Gt(a,.5,-a,.5)})()}),_o=o({},Nt,{code:"EPSG:4326",projection:Ji,transformation:Gt(1/180,1,-1/180,.5)}),Wo=o({},Je,{projection:Ji,transformation:Gt(1,0,-1,0),scale:function(a){return Math.pow(2,a)},zoom:function(a){return Math.log(a)/Math.LN2},distance:function(a,h){var m=h.lng-a.lng,b=h.lat-a.lat;return Math.sqrt(m*m+b*b)},infinite:!0});Je.Earth=Nt,Je.EPSG3395=go,Je.EPSG3857=ci,Je.EPSG900913=Pi,Je.EPSG4326=_o,Je.Simple=Wo;var xr=Ee.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(a){return a.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(a){return a&&a.removeLayer(this),this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},addInteractiveTarget:function(a){return this._map._targets[_(a)]=this,this},removeInteractiveTarget:function(a){return delete this._map._targets[_(a)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(a){var h=a.target;if(h.hasLayer(this)){if(this._map=h,this._zoomAnimated=h._zoomAnimated,this.getEvents){var m=this.getEvents();h.on(m,this),this.once("remove",function(){h.off(m,this)},this)}this.onAdd(h),this.fire("add"),h.fire("layeradd",{layer:this})}}});_t.include({addLayer:function(a){if(!a._layerAdd)throw new Error("The provided object is not a Layer.");var h=_(a);return this._layers[h]?this:(this._layers[h]=a,a._mapToAdd=this,a.beforeAdd&&a.beforeAdd(this),this.whenReady(a._layerAdd,a),this)},removeLayer:function(a){var h=_(a);return this._layers[h]?(this._loaded&&a.onRemove(this),delete this._layers[h],this._loaded&&(this.fire("layerremove",{layer:a}),a.fire("remove")),a._map=a._mapToAdd=null,this):this},hasLayer:function(a){return _(a)in this._layers},eachLayer:function(a,h){for(var m in this._layers)a.call(h,this._layers[m]);return this},_addLayers:function(a){a=a?ae(a)?a:[a]:[];for(var h=0,m=a.length;h<m;h++)this.addLayer(a[h])},_addZoomLimit:function(a){(!isNaN(a.options.maxZoom)||!isNaN(a.options.minZoom))&&(this._zoomBoundLayers[_(a)]=a,this._updateZoomLevels())},_removeZoomLimit:function(a){var h=_(a);this._zoomBoundLayers[h]&&(delete this._zoomBoundLayers[h],this._updateZoomLevels())},_updateZoomLevels:function(){var a=1/0,h=-1/0,m=this._getZoomSpan();for(var b in this._zoomBoundLayers){var S=this._zoomBoundLayers[b].options;a=S.minZoom===void 0?a:Math.min(a,S.minZoom),h=S.maxZoom===void 0?h:Math.max(h,S.maxZoom)}this._layersMaxZoom=h===-1/0?void 0:h,this._layersMinZoom=a===1/0?void 0:a,m!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Xo=xr.extend({initialize:function(a,h){j(this,h),this._layers={};var m,b;if(a)for(m=0,b=a.length;m<b;m++)this.addLayer(a[m])},addLayer:function(a){var h=this.getLayerId(a);return this._layers[h]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){var h=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[h]&&this._map.removeLayer(this._layers[h]),delete this._layers[h],this},hasLayer:function(a){var h=typeof a=="number"?a:this.getLayerId(a);return h in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(a){var h=Array.prototype.slice.call(arguments,1),m,b;for(m in this._layers)b=this._layers[m],b[a]&&b[a].apply(b,h);return this},onAdd:function(a){this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a)},eachLayer:function(a,h){for(var m in this._layers)a.call(h,this._layers[m]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];return this.eachLayer(a.push,a),a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return _(a)}}),Jm=function(a,h){return new Xo(a,h)},Br=Xo.extend({addLayer:function(a){return this.hasLayer(a)?this:(a.addEventParent(this),Xo.prototype.addLayer.call(this,a),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.removeEventParent(this),Xo.prototype.removeLayer.call(this,a),this.fire("layerremove",{layer:a})):this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new be;for(var h in this._layers){var m=this._layers[h];a.extend(m.getBounds?m.getBounds():m.getLatLng())}return a}}),ef=function(a,h){return new Br(a,h)},Fr=Ue.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(a){j(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,h){var m=this._getIconUrl(a);if(!m){if(a==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var b=this._createImg(m,h&&h.tagName==="IMG"?h:null);return this._setIconStyles(b,a),(this.options.crossOrigin||this.options.crossOrigin==="")&&(b.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),b},_setIconStyles:function(a,h){var m=this.options,b=m[h+"Size"];typeof b=="number"&&(b=[b,b]);var S=Ae(b),O=Ae(h==="shadow"&&m.shadowAnchor||m.iconAnchor||S&&S.divideBy(2,!0));a.className="leaflet-marker-"+h+" "+(m.className||""),O&&(a.style.marginLeft=-O.x+"px",a.style.marginTop=-O.y+"px"),S&&(a.style.width=S.x+"px",a.style.height=S.y+"px")},_createImg:function(a,h){return h=h||document.createElement("img"),h.src=a,h},_getIconUrl:function(a){return re.retina&&this.options[a+"RetinaUrl"]||this.options[a+"Url"]}});function rl(a){return new Fr(a)}var sl=Fr.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(a){return typeof sl.imagePath!="string"&&(sl.imagePath=this._detectIconPath()),(this.options.imagePath||sl.imagePath)+Fr.prototype._getIconUrl.call(this,a)},_stripUrl:function(a){var h=function(m,b,S){var O=b.exec(m);return O&&O[S]};return a=h(a,/^url\((['"])?(.+)\1\)$/,2),a&&h(a,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var a=rt("div","leaflet-default-icon-path",document.body),h=rn(a,"background-image")||rn(a,"backgroundImage");if(document.body.removeChild(a),h=this._stripUrl(h),h)return h;var m=document.querySelector('link[href$="leaflet.css"]');return m?m.href.substring(0,m.href.length-11-1):""}}),ol=ji.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new Er(a,a,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),je(a,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Kt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(a){var h=this._marker,m=h._map,b=this._marker.options.autoPanSpeed,S=this._marker.options.autoPanPadding,O=zr(h._icon),q=m.getPixelBounds(),X=m.getPixelOrigin(),ue=le(q.min._subtract(X).add(S),q.max._subtract(X).subtract(S));if(!ue.contains(O)){var _e=Ae((Math.max(ue.max.x,O.x)-ue.max.x)/(q.max.x-ue.max.x)-(Math.min(ue.min.x,O.x)-ue.min.x)/(q.min.x-ue.min.x),(Math.max(ue.max.y,O.y)-ue.max.y)/(q.max.y-ue.max.y)-(Math.min(ue.min.y,O.y)-ue.min.y)/(q.min.y-ue.min.y)).multiplyBy(b);m.panBy(_e,{animate:!1}),this._draggable._newPos._add(_e),this._draggable._startPos._add(_e),Yt(h._icon,this._draggable._newPos),this._onDrag(a),this._panRequest=V(this._adjustPan.bind(this,a))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(a){this._marker.options.autoPan&&(K(this._panRequest),this._panRequest=V(this._adjustPan.bind(this,a)))},_onDrag:function(a){var h=this._marker,m=h._shadow,b=zr(h._icon),S=h._map.layerPointToLatLng(b);m&&Yt(m,b),h._latlng=S,a.latlng=S,a.oldLatLng=this._oldLatLng,h.fire("move",a).fire("drag",a)},_onDragEnd:function(a){K(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",a)}}),al=xr.extend({options:{icon:new sl,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(a,h){j(this,h),this._latlng=Oe(a)},onAdd:function(a){this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation,this._zoomAnimated&&a.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(a){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&a.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(a){var h=this._latlng;return this._latlng=Oe(a),this.update(),this.fire("move",{oldLatLng:h,latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update()},getIcon:function(){return this.options.icon},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,h="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),m=a.icon.createIcon(this._icon),b=!1;m!==this._icon&&(this._icon&&this._removeIcon(),b=!0,a.title&&(m.title=a.title),m.tagName==="IMG"&&(m.alt=a.alt||"")),je(m,h),a.keyboard&&(m.tabIndex="0",m.setAttribute("role","button")),this._icon=m,a.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Qe(m,"focus",this._panOnFocus,this);var S=a.icon.createShadow(this._shadow),O=!1;S!==this._shadow&&(this._removeShadow(),O=!0),S&&(je(S,h),S.alt=""),this._shadow=S,a.opacity<1&&this._updateOpacity(),b&&this.getPane().appendChild(this._icon),this._initInteraction(),S&&O&&this.getPane(a.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&kt(this._icon,"focus",this._panOnFocus,this),ot(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ot(this._shadow),this._shadow=null},_setPos:function(a){this._icon&&Yt(this._icon,a),this._shadow&&Yt(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon&&(this._icon.style.zIndex=this._zIndex+a)},_animateZoom:function(a){var h=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(h)},_initInteraction:function(){if(this.options.interactive&&(je(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),ol)){var a=this.options.draggable;this.dragging&&(a=this.dragging.enabled(),this.dragging.disable()),this.dragging=new ol(this),a&&this.dragging.enable()}},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var a=this.options.opacity;this._icon&&sn(this._icon,a),this._shadow&&sn(this._shadow,a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var a=this._map;if(a){var h=this.options.icon.options,m=h.iconSize?Ae(h.iconSize):Ae(0,0),b=h.iconAnchor?Ae(h.iconAnchor):Ae(0,0);a.panInside(this._latlng,{paddingTopLeft:b,paddingBottomRight:m.subtract(b)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function tf(a,h){return new al(a,h)}var Hr=xr.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(a){return j(this,a),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&a&&Object.prototype.hasOwnProperty.call(a,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Jo=Hr.extend({options:{fill:!0,radius:10},initialize:function(a,h){j(this,h),this._latlng=Oe(a),this._radius=this.options.radius},setLatLng:function(a){var h=this._latlng;return this._latlng=Oe(a),this.redraw(),this.fire("move",{oldLatLng:h,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius},setStyle:function(a){var h=a&&a.radius||this._radius;return Hr.prototype.setStyle.call(this,a),this.setRadius(h),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var a=this._radius,h=this._radiusY||a,m=this._clickTolerance(),b=[a+m,h+m];this._pxBounds=new H(this._point.subtract(b),this._point.add(b))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function nf(a,h){return new Jo(a,h)}var Jl=Jo.extend({initialize:function(a,h,m){if(typeof h=="number"&&(h=o({},m,{radius:h})),j(this,h),this._latlng=Oe(a),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(a){return this._mRadius=a,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,this._radiusY||this._radius];return new be(this._map.layerPointToLatLng(this._point.subtract(a)),this._map.layerPointToLatLng(this._point.add(a)))},setStyle:Hr.prototype.setStyle,_project:function(){var a=this._latlng.lng,h=this._latlng.lat,m=this._map,b=m.options.crs;if(b.distance===Nt.distance){var S=Math.PI/180,O=this._mRadius/Nt.R/S,q=m.project([h+O,a]),X=m.project([h-O,a]),ue=q.add(X).divideBy(2),_e=m.unproject(ue).lat,Pe=Math.acos((Math.cos(O*S)-Math.sin(h*S)*Math.sin(_e*S))/(Math.cos(h*S)*Math.cos(_e*S)))/S;(isNaN(Pe)||Pe===0)&&(Pe=O/Math.cos(Math.PI/180*h)),this._point=ue.subtract(m.getPixelOrigin()),this._radius=isNaN(Pe)?0:ue.x-m.project([_e,a-Pe]).x,this._radiusY=ue.y-q.y}else{var $e=b.unproject(b.project(this._latlng).subtract([this._mRadius,0]));this._point=m.latLngToLayerPoint(this._latlng),this._radius=this._point.x-m.latLngToLayerPoint($e).x}this._updateBounds()}});function rf(a,h,m){return new Jl(a,h,m)}var ms=Hr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(a,h){j(this,h),this._setLatLngs(a)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._setLatLngs(a),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(a){for(var h=1/0,m=null,b=nt,S,O,q=0,X=this._parts.length;q<X;q++)for(var ue=this._parts[q],_e=1,Pe=ue.length;_e<Pe;_e++){S=ue[_e-1],O=ue[_e];var $e=b(a,S,O,!0);$e<h&&(h=$e,m=b(a,S,O))}return m&&(m.distance=Math.sqrt(h)),m},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return on(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(a,h){return h=h||this._defaultShape(),a=Oe(a),h.push(a),this._bounds.extend(a),this.redraw()},_setLatLngs:function(a){this._bounds=new be,this._latlngs=this._convertLatLngs(a)},_defaultShape:function(){return Ot(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(a){for(var h=[],m=Ot(a),b=0,S=a.length;b<S;b++)m?(h[b]=Oe(a[b]),this._bounds.extend(h[b])):h[b]=this._convertLatLngs(a[b]);return h},_project:function(){var a=new H;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,a),this._bounds.isValid()&&a.isValid()&&(this._rawPxBounds=a,this._updateBounds())},_updateBounds:function(){var a=this._clickTolerance(),h=new me(a,a);this._rawPxBounds&&(this._pxBounds=new H([this._rawPxBounds.min.subtract(h),this._rawPxBounds.max.add(h)]))},_projectLatlngs:function(a,h,m){var b=a[0]instanceof Se,S=a.length,O,q;if(b){for(q=[],O=0;O<S;O++)q[O]=this._map.latLngToLayerPoint(a[O]),m.extend(q[O]);h.push(q)}else for(O=0;O<S;O++)this._projectLatlngs(a[O],h,m)},_clipPoints:function(){var a=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}var h=this._parts,m,b,S,O,q,X,ue;for(m=0,S=0,O=this._rings.length;m<O;m++)for(ue=this._rings[m],b=0,q=ue.length;b<q-1;b++)X=k(ue[b],ue[b+1],a,b,!0),X&&(h[S]=h[S]||[],h[S].push(X[0]),(X[1]!==ue[b+1]||b===q-2)&&(h[S].push(X[1]),S++))}},_simplifyPoints:function(){for(var a=this._parts,h=this.options.smoothFactor,m=0,b=a.length;m<b;m++)a[m]=ri(a[m],h)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(a,h){var m,b,S,O,q,X,ue=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(m=0,O=this._parts.length;m<O;m++)for(X=this._parts[m],b=0,q=X.length,S=q-1;b<q;S=b++)if(!(!h&&b===0)&&il(a,X[S],X[b])<=ue)return!0;return!1}});function ep(a,h){return new ms(a,h)}ms._flat=It;var ea=ms.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return nl(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(a){var h=ms.prototype._convertLatLngs.call(this,a),m=h.length;return m>=2&&h[0]instanceof Se&&h[0].equals(h[m-1])&&h.pop(),h},_setLatLngs:function(a){ms.prototype._setLatLngs.call(this,a),Ot(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Ot(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var a=this._renderer._bounds,h=this.options.weight,m=new me(h,h);if(a=new H(a.min.subtract(m),a.max.add(m)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}for(var b=0,S=this._rings.length,O;b<S;b++)O=tl(this._rings[b],a,!0),O.length&&this._parts.push(O)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(a){var h=!1,m,b,S,O,q,X,ue,_e;if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(O=0,ue=this._parts.length;O<ue;O++)for(m=this._parts[O],q=0,_e=m.length,X=_e-1;q<_e;X=q++)b=m[q],S=m[X],b.y>a.y!=S.y>a.y&&a.x<(S.x-b.x)*(a.y-b.y)/(S.y-b.y)+b.x&&(h=!h);return h||ms.prototype._containsPoint.call(this,a,!0)}});function tp(a,h){return new ea(a,h)}var ps=Br.extend({initialize:function(a,h){j(this,h),this._layers={},a&&this.addData(a)},addData:function(a){var h=ae(a)?a:a.features,m,b,S;if(h){for(m=0,b=h.length;m<b;m++)S=h[m],(S.geometries||S.geometry||S.features||S.coordinates)&&this.addData(S);return this}var O=this.options;if(O.filter&&!O.filter(a))return this;var q=si(a,O);return q?(q.feature=nu(a),q.defaultOptions=q.options,this.resetStyle(q),O.onEachFeature&&O.onEachFeature(a,q),this.addLayer(q)):this},resetStyle:function(a){return a===void 0?this.eachLayer(this.resetStyle,this):(a.options=o({},a.defaultOptions),this._setLayerStyle(a,this.options.style),this)},setStyle:function(a){return this.eachLayer(function(h){this._setLayerStyle(h,a)},this)},_setLayerStyle:function(a,h){a.setStyle&&(typeof h=="function"&&(h=h(a.feature)),a.setStyle(h))}});function si(a,h){var m=a.type==="Feature"?a.geometry:a,b=m?m.coordinates:null,S=[],O=h&&h.pointToLayer,q=h&&h.coordsToLatLng||eu,X,ue,_e,Pe;if(!b&&!m)return null;switch(m.type){case"Point":return X=q(b),ta(O,a,X,h);case"MultiPoint":for(_e=0,Pe=b.length;_e<Pe;_e++)X=q(b[_e]),S.push(ta(O,a,X,h));return new Br(S);case"LineString":case"MultiLineString":return ue=ll(b,m.type==="LineString"?0:1,q),new ms(ue,h);case"Polygon":case"MultiPolygon":return ue=ll(b,m.type==="Polygon"?1:2,q),new ea(ue,h);case"GeometryCollection":for(_e=0,Pe=m.geometries.length;_e<Pe;_e++){var $e=si({geometry:m.geometries[_e],type:"Feature",properties:a.properties},h);$e&&S.push($e)}return new Br(S);case"FeatureCollection":for(_e=0,Pe=m.features.length;_e<Pe;_e++){var dt=si(m.features[_e],h);dt&&S.push(dt)}return new Br(S);default:throw new Error("Invalid GeoJSON object.")}}function ta(a,h,m,b){return a?a(h,m):new al(m,b&&b.markersInheritOptions&&b)}function eu(a){return new Se(a[1],a[0],a[2])}function ll(a,h,m){for(var b=[],S=0,O=a.length,q;S<O;S++)q=h?ll(a[S],h-1,m):(m||eu)(a[S]),b.push(q);return b}function tu(a,h){return a=Oe(a),a.alt!==void 0?[C(a.lng,h),C(a.lat,h),C(a.alt,h)]:[C(a.lng,h),C(a.lat,h)]}function ul(a,h,m,b){for(var S=[],O=0,q=a.length;O<q;O++)S.push(h?ul(a[O],Ot(a[O])?0:h-1,m,b):tu(a[O],b));return!h&&m&&S.length>0&&S.push(S[0].slice()),S}function zs(a,h){return a.feature?o({},a.feature,{geometry:h}):nu(h)}function nu(a){return a.type==="Feature"||a.type==="FeatureCollection"?a:{type:"Feature",properties:{},geometry:a}}var js={toGeoJSON:function(a){return zs(this,{type:"Point",coordinates:tu(this.getLatLng(),a)})}};al.include(js),Jl.include(js),Jo.include(js),ms.include({toGeoJSON:function(a){var h=!Ot(this._latlngs),m=ul(this._latlngs,h?1:0,!1,a);return zs(this,{type:(h?"Multi":"")+"LineString",coordinates:m})}}),ea.include({toGeoJSON:function(a){var h=!Ot(this._latlngs),m=h&&!Ot(this._latlngs[0]),b=ul(this._latlngs,m?2:h?1:0,!0,a);return h||(b=[b]),zs(this,{type:(m?"Multi":"")+"Polygon",coordinates:b})}}),Xo.include({toMultiPoint:function(a){var h=[];return this.eachLayer(function(m){h.push(m.toGeoJSON(a).geometry.coordinates)}),zs(this,{type:"MultiPoint",coordinates:h})},toGeoJSON:function(a){var h=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(h==="MultiPoint")return this.toMultiPoint(a);var m=h==="GeometryCollection",b=[];return this.eachLayer(function(S){if(S.toGeoJSON){var O=S.toGeoJSON(a);if(m)b.push(O.geometry);else{var q=nu(O);q.type==="FeatureCollection"?b.push.apply(b,q.features):b.push(q)}}}),m?zs(this,{geometries:b,type:"GeometryCollection"}):{type:"FeatureCollection",features:b}}});function iu(a,h){return new ps(a,h)}var cl=iu,na=xr.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(a,h,m){this._url=a,this._bounds=xe(h),j(this,m)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(je(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ot(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(a){return this.options.opacity=a,this._image&&this._updateOpacity(),this},setStyle:function(a){return a.opacity&&this.setOpacity(a.opacity),this},bringToFront:function(){return this._map&&Zt(this._image),this},bringToBack:function(){return this._map&&ti(this._image),this},setUrl:function(a){return this._url=a,this._image&&(this._image.src=a),this},setBounds:function(a){return this._bounds=xe(a),this._map&&this._reset(),this},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var a=this._url.tagName==="IMG",h=this._image=a?this._url:rt("img");if(je(h,"leaflet-image-layer"),this._zoomAnimated&&je(h,"leaflet-zoom-animated"),this.options.className&&je(h,this.options.className),h.onselectstart=x,h.onmousemove=x,h.onload=c(this.fire,this,"load"),h.onerror=c(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),a){this._url=h.src;return}h.src=this._url,h.alt=this.options.alt},_animateZoom:function(a){var h=this._map.getZoomScale(a.zoom),m=this._map._latLngBoundsToNewLayerBounds(this._bounds,a.zoom,a.center).min;_r(this._image,m,h)},_reset:function(){var a=this._image,h=new H(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),m=h.getSize();Yt(a,h.min),a.style.width=m.x+"px",a.style.height=m.y+"px"},_updateOpacity:function(){sn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var a=this.options.errorOverlayUrl;a&&this._url!==a&&(this._url=a,this._image.src=a)},getCenter:function(){return this._bounds.getCenter()}}),sf=function(a,h,m){return new na(a,h,m)},Us=na.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var a=this._url.tagName==="VIDEO",h=this._image=a?this._url:rt("video");if(je(h,"leaflet-image-layer"),this._zoomAnimated&&je(h,"leaflet-zoom-animated"),this.options.className&&je(h,this.options.className),h.onselectstart=x,h.onmousemove=x,h.onloadeddata=c(this.fire,this,"load"),a){for(var m=h.getElementsByTagName("source"),b=[],S=0;S<m.length;S++)b.push(m[S].src);this._url=m.length>0?b:[h.src];return}ae(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(h.style,"objectFit")&&(h.style.objectFit="fill"),h.autoplay=!!this.options.autoplay,h.loop=!!this.options.loop,h.muted=!!this.options.muted,h.playsInline=!!this.options.playsInline;for(var O=0;O<this._url.length;O++){var q=rt("source");q.src=this._url[O],h.appendChild(q)}}});function ia(a,h,m){return new Us(a,h,m)}var ru=na.extend({_initImage:function(){var a=this._image=this._url;je(a,"leaflet-image-layer"),this._zoomAnimated&&je(a,"leaflet-zoom-animated"),this.options.className&&je(a,this.options.className),a.onselectstart=x,a.onmousemove=x}});function of(a,h,m){return new ru(a,h,m)}var oi=xr.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(a,h){a&&(a instanceof Se||ae(a))?(this._latlng=Oe(a),j(this,h)):(j(this,a),this._source=h),this.options.content&&(this._content=this.options.content)},openOn:function(a){return a=arguments.length?a:this._source._map,a.hasLayer(this)||a.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(a){return this._map?this.close():(arguments.length?this._source=a:a=this._source,this._prepareOpen(),this.openOn(a._map)),this},onAdd:function(a){this._zoomAnimated=a._zoomAnimated,this._container||this._initLayout(),a._fadeAnimated&&sn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),a._fadeAnimated&&sn(this._container,1),this.bringToFront(),this.options.interactive&&(je(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(a){a._fadeAnimated?(sn(this._container,0),this._removeTimeout=setTimeout(c(ot,void 0,this._container),200)):ot(this._container),this.options.interactive&&(Kt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=Oe(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Zt(this._container),this},bringToBack:function(){return this._map&&ti(this._container),this},_prepareOpen:function(a){var h=this._source;if(!h._map)return!1;if(h instanceof Br){h=null;var m=this._source._layers;for(var b in m)if(m[b]._map){h=m[b];break}if(!h)return!1;this._source=h}if(!a)if(h.getCenter)a=h.getCenter();else if(h.getLatLng)a=h.getLatLng();else if(h.getBounds)a=h.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(a),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var a=this._contentNode,h=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof h=="string")a.innerHTML=h;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(h)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),h=Ae(this.options.offset),m=this._getAnchor();this._zoomAnimated?Yt(this._container,a.add(m)):h=h.add(a).add(m);var b=this._containerBottom=-h.y,S=this._containerLeft=-Math.round(this._containerWidth/2)+h.x;this._container.style.bottom=b+"px",this._container.style.left=S+"px"}},_getAnchor:function(){return[0,0]}});_t.include({_initOverlay:function(a,h,m,b){var S=h;return S instanceof a||(S=new a(b).setContent(h)),m&&S.setLatLng(m),S}}),xr.include({_initOverlay:function(a,h,m,b){var S=m;return S instanceof a?(j(S,b),S._source=this):(S=h&&!b?h:new a(b,this),S.setContent(m)),S}});var hl=oi.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(a){return a=arguments.length?a:this._source._map,!a.hasLayer(this)&&a._popup&&a._popup.options.autoClose&&a.removeLayer(a._popup),a._popup=this,oi.prototype.openOn.call(this,a)},onAdd:function(a){oi.prototype.onAdd.call(this,a),a.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Hr||this._source.on("preclick",Tt))},onRemove:function(a){oi.prototype.onRemove.call(this,a),a.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Hr||this._source.off("preclick",Tt))},getEvents:function(){var a=oi.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this.close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_initLayout:function(){var a="leaflet-popup",h=this._container=rt("div",a+" "+(this.options.className||"")+" leaflet-zoom-animated"),m=this._wrapper=rt("div",a+"-content-wrapper",h);if(this._contentNode=rt("div",a+"-content",m),cs(h),Wi(this._contentNode),Qe(h,"contextmenu",Tt),this._tipContainer=rt("div",a+"-tip-container",h),this._tip=rt("div",a+"-tip",this._tipContainer),this.options.closeButton){var b=this._closeButton=rt("a",a+"-close-button",h);b.setAttribute("role","button"),b.setAttribute("aria-label","Close popup"),b.href="#close",b.innerHTML='<span aria-hidden="true">&#215;</span>',Qe(b,"click",function(S){dn(S),this.close()},this)}},_updateLayout:function(){var a=this._contentNode,h=a.style;h.width="",h.whiteSpace="nowrap";var m=a.offsetWidth;m=Math.min(m,this.options.maxWidth),m=Math.max(m,this.options.minWidth),h.width=m+1+"px",h.whiteSpace="",h.height="";var b=a.offsetHeight,S=this.options.maxHeight,O="leaflet-popup-scrolled";S&&b>S?(h.height=S+"px",je(a,O)):Kt(a,O),this._containerWidth=this._container.offsetWidth},_animateZoom:function(a){var h=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center),m=this._getAnchor();Yt(this._container,h.add(m))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var a=this._map,h=parseInt(rn(this._container,"marginBottom"),10)||0,m=this._container.offsetHeight+h,b=this._containerWidth,S=new me(this._containerLeft,-m-this._containerBottom);S._add(zr(this._container));var O=a.layerPointToContainerPoint(S),q=Ae(this.options.autoPanPadding),X=Ae(this.options.autoPanPaddingTopLeft||q),ue=Ae(this.options.autoPanPaddingBottomRight||q),_e=a.getSize(),Pe=0,$e=0;O.x+b+ue.x>_e.x&&(Pe=O.x+b-_e.x+ue.x),O.x-Pe-X.x<0&&(Pe=O.x-X.x),O.y+m+ue.y>_e.y&&($e=O.y+m-_e.y+ue.y),O.y-$e-X.y<0&&($e=O.y-X.y),(Pe||$e)&&(this.options.keepInView&&(this._autopanning=!0),a.fire("autopanstart").panBy([Pe,$e]))}},_getAnchor:function(){return Ae(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),af=function(a,h){return new hl(a,h)};_t.mergeOptions({closePopupOnClick:!0}),_t.include({openPopup:function(a,h,m){return this._initOverlay(hl,a,h,m).openOn(this),this},closePopup:function(a){return a=arguments.length?a:this._popup,a&&a.close(),this}}),xr.include({bindPopup:function(a,h){return this._popup=this._initOverlay(hl,this._popup,a,h),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(a){return this._popup&&(this instanceof Br||(this._popup._source=this),this._popup._prepareOpen(a||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},getPopup:function(){return this._popup},_openPopup:function(a){if(!(!this._popup||!this._map)){yr(a);var h=a.layer||a.target;if(this._popup._source===h&&!(h instanceof Hr)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(a.latlng);return}this._popup._source=h,this.openPopup(a.latlng)}},_movePopup:function(a){this._popup.setLatLng(a.latlng)},_onKeyPress:function(a){a.originalEvent.keyCode===13&&this._openPopup(a)}});var fl=oi.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(a){oi.prototype.onAdd.call(this,a),this.setOpacity(this.options.opacity),a.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(a){oi.prototype.onRemove.call(this,a),a.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var a=oi.prototype.getEvents.call(this);return this.options.permanent||(a.preclick=this.close),a},_initLayout:function(){var a="leaflet-tooltip",h=a+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=rt("div",h),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+_(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(a){var h,m,b=this._map,S=this._container,O=b.latLngToContainerPoint(b.getCenter()),q=b.layerPointToContainerPoint(a),X=this.options.direction,ue=S.offsetWidth,_e=S.offsetHeight,Pe=Ae(this.options.offset),$e=this._getAnchor();X==="top"?(h=ue/2,m=_e):X==="bottom"?(h=ue/2,m=0):X==="center"?(h=ue/2,m=_e/2):X==="right"?(h=0,m=_e/2):X==="left"?(h=ue,m=_e/2):q.x<O.x?(X="right",h=0,m=_e/2):(X="left",h=ue+(Pe.x+$e.x)*2,m=_e/2),a=a.subtract(Ae(h,m,!0)).add(Pe).add($e),Kt(S,"leaflet-tooltip-right"),Kt(S,"leaflet-tooltip-left"),Kt(S,"leaflet-tooltip-top"),Kt(S,"leaflet-tooltip-bottom"),je(S,"leaflet-tooltip-"+X),Yt(S,a)},_updatePosition:function(){var a=this._map.latLngToLayerPoint(this._latlng);this._setPosition(a)},setOpacity:function(a){this.options.opacity=a,this._container&&sn(this._container,a)},_animateZoom:function(a){var h=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);this._setPosition(h)},_getAnchor:function(){return Ae(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),np=function(a,h){return new fl(a,h)};_t.include({openTooltip:function(a,h,m){return this._initOverlay(fl,a,h,m).openOn(this),this},closeTooltip:function(a){return a.close(),this}}),xr.include({bindTooltip:function(a,h){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(fl,this._tooltip,a,h),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(a){if(!(!a&&this._tooltipHandlersAdded)){var h=a?"off":"on",m={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?m.add=this._openTooltip:(m.mouseover=this._openTooltip,m.mouseout=this.closeTooltip,m.click=this._openTooltip,this._map?this._addFocusListeners():m.add=this._addFocusListeners),this._tooltip.options.sticky&&(m.mousemove=this._moveTooltip),this[h](m),this._tooltipHandlersAdded=!a}},openTooltip:function(a){return this._tooltip&&(this instanceof Br||(this._tooltip._source=this),this._tooltip._prepareOpen(a)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(a){return this._tooltip&&this._tooltip.setContent(a),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(a){var h=typeof a.getElement=="function"&&a.getElement();h&&(Qe(h,"focus",function(){this._tooltip._source=a,this.openTooltip()},this),Qe(h,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(a){var h=typeof a.getElement=="function"&&a.getElement();h&&h.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(a){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var h=this;this._map.once("moveend",function(){h._openOnceFlag=!1,h._openTooltip(a)});return}this._tooltip._source=a.layer||a.target,this.openTooltip(this._tooltip.options.sticky?a.latlng:void 0)}},_moveTooltip:function(a){var h=a.latlng,m,b;this._tooltip.options.sticky&&a.originalEvent&&(m=this._map.mouseEventToContainerPoint(a.originalEvent),b=this._map.containerPointToLayerPoint(m),h=this._map.layerPointToLatLng(b)),this._tooltip.setLatLng(h)}});var lf=Fr.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(a){var h=a&&a.tagName==="DIV"?a:document.createElement("div"),m=this.options;if(m.html instanceof Element?(tt(h),h.appendChild(m.html)):h.innerHTML=m.html!==!1?m.html:"",m.bgPos){var b=Ae(m.bgPos);h.style.backgroundPosition=-b.x+"px "+-b.y+"px"}return this._setIconStyles(h,"icon"),h},createShadow:function(){return null}});function ip(a){return new lf(a)}Fr.Default=sl;var ra=xr.extend({options:{tileSize:256,opacity:1,updateWhenIdle:re.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(a){j(this,a)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._removeAllTiles(),ot(this._container),a._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Zt(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ti(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var a=this._clampZoom(this._map.getZoom());a!==this._tileZoom&&(this._tileZoom=a,this._updateLevels()),this._update()}return this},getEvents:function(){var a={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=y(this._onMoveEnd,this.options.updateInterval,this)),a.move=this._onMove),this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},createTile:function(){return document.createElement("div")},getTileSize:function(){var a=this.options.tileSize;return a instanceof me?a:new me(a,a)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a){for(var h=this.getPane().children,m=-a(-1/0,1/0),b=0,S=h.length,O;b<S;b++)O=h[b].style.zIndex,h[b]!==this._container&&O&&(m=a(m,+O));isFinite(m)&&(this.options.zIndex=m+a(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!re.ielt9){sn(this._container,this.options.opacity);var a=+new Date,h=!1,m=!1;for(var b in this._tiles){var S=this._tiles[b];if(!(!S.current||!S.loaded)){var O=Math.min(1,(a-S.loaded)/200);sn(S.el,O),O<1?h=!0:(S.active?m=!0:this._onOpaqueTile(S),S.active=!0)}}m&&!this._noPrune&&this._pruneTiles(),h&&(K(this._fadeFrame),this._fadeFrame=V(this._updateOpacity,this))}},_onOpaqueTile:x,_initContainer:function(){this._container||(this._container=rt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var a=this._tileZoom,h=this.options.maxZoom;if(a!==void 0){for(var m in this._levels)m=Number(m),this._levels[m].el.children.length||m===a?(this._levels[m].el.style.zIndex=h-Math.abs(a-m),this._onUpdateLevel(m)):(ot(this._levels[m].el),this._removeTilesAtZoom(m),this._onRemoveLevel(m),delete this._levels[m]);var b=this._levels[a],S=this._map;return b||(b=this._levels[a]={},b.el=rt("div","leaflet-tile-container leaflet-zoom-animated",this._container),b.el.style.zIndex=h,b.origin=S.project(S.unproject(S.getPixelOrigin()),a).round(),b.zoom=a,this._setZoomTransform(b,S.getCenter(),S.getZoom()),x(b.el.offsetWidth),this._onCreateLevel(b)),this._level=b,b}},_onUpdateLevel:x,_onRemoveLevel:x,_onCreateLevel:x,_pruneTiles:function(){if(this._map){var a,h,m=this._map.getZoom();if(m>this.options.maxZoom||m<this.options.minZoom){this._removeAllTiles();return}for(a in this._tiles)h=this._tiles[a],h.retain=h.current;for(a in this._tiles)if(h=this._tiles[a],h.current&&!h.active){var b=h.coords;this._retainParent(b.x,b.y,b.z,b.z-5)||this._retainChildren(b.x,b.y,b.z,b.z+2)}for(a in this._tiles)this._tiles[a].retain||this._removeTile(a)}},_removeTilesAtZoom:function(a){for(var h in this._tiles)this._tiles[h].coords.z===a&&this._removeTile(h)},_removeAllTiles:function(){for(var a in this._tiles)this._removeTile(a)},_invalidateAll:function(){for(var a in this._levels)ot(this._levels[a].el),this._onRemoveLevel(Number(a)),delete this._levels[a];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(a,h,m,b){var S=Math.floor(a/2),O=Math.floor(h/2),q=m-1,X=new me(+S,+O);X.z=+q;var ue=this._tileCoordsToKey(X),_e=this._tiles[ue];return _e&&_e.active?(_e.retain=!0,!0):(_e&&_e.loaded&&(_e.retain=!0),q>b?this._retainParent(S,O,q,b):!1)},_retainChildren:function(a,h,m,b){for(var S=2*a;S<2*a+2;S++)for(var O=2*h;O<2*h+2;O++){var q=new me(S,O);q.z=m+1;var X=this._tileCoordsToKey(q),ue=this._tiles[X];if(ue&&ue.active){ue.retain=!0;continue}else ue&&ue.loaded&&(ue.retain=!0);m+1<b&&this._retainChildren(S,O,m+1,b)}},_resetView:function(a){var h=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),h,h)},_animateZoom:function(a){this._setView(a.center,a.zoom,!0,a.noUpdate)},_clampZoom:function(a){var h=this.options;return h.minNativeZoom!==void 0&&a<h.minNativeZoom?h.minNativeZoom:h.maxNativeZoom!==void 0&&h.maxNativeZoom<a?h.maxNativeZoom:a},_setView:function(a,h,m,b){var S=Math.round(h);this.options.maxZoom!==void 0&&S>this.options.maxZoom||this.options.minZoom!==void 0&&S<this.options.minZoom?S=void 0:S=this._clampZoom(S);var O=this.options.updateWhenZooming&&S!==this._tileZoom;(!b||O)&&(this._tileZoom=S,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),S!==void 0&&this._update(a),m||this._pruneTiles(),this._noPrune=!!m),this._setZoomTransforms(a,h)},_setZoomTransforms:function(a,h){for(var m in this._levels)this._setZoomTransform(this._levels[m],a,h)},_setZoomTransform:function(a,h,m){var b=this._map.getZoomScale(m,a.zoom),S=a.origin.multiplyBy(b).subtract(this._map._getNewPixelOrigin(h,m)).round();re.any3d?_r(a.el,S,b):Yt(a.el,S)},_resetGrid:function(){var a=this._map,h=a.options.crs,m=this._tileSize=this.getTileSize(),b=this._tileZoom,S=this._map.getPixelWorldBounds(this._tileZoom);S&&(this._globalTileRange=this._pxBoundsToTileRange(S)),this._wrapX=h.wrapLng&&!this.options.noWrap&&[Math.floor(a.project([0,h.wrapLng[0]],b).x/m.x),Math.ceil(a.project([0,h.wrapLng[1]],b).x/m.y)],this._wrapY=h.wrapLat&&!this.options.noWrap&&[Math.floor(a.project([h.wrapLat[0],0],b).y/m.x),Math.ceil(a.project([h.wrapLat[1],0],b).y/m.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(a){var h=this._map,m=h._animatingZoom?Math.max(h._animateToZoom,h.getZoom()):h.getZoom(),b=h.getZoomScale(m,this._tileZoom),S=h.project(a,this._tileZoom).floor(),O=h.getSize().divideBy(b*2);return new H(S.subtract(O),S.add(O))},_update:function(a){var h=this._map;if(h){var m=this._clampZoom(h.getZoom());if(a===void 0&&(a=h.getCenter()),this._tileZoom!==void 0){var b=this._getTiledPixelBounds(a),S=this._pxBoundsToTileRange(b),O=S.getCenter(),q=[],X=this.options.keepBuffer,ue=new H(S.getBottomLeft().subtract([X,-X]),S.getTopRight().add([X,-X]));if(!(isFinite(S.min.x)&&isFinite(S.min.y)&&isFinite(S.max.x)&&isFinite(S.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var _e in this._tiles){var Pe=this._tiles[_e].coords;(Pe.z!==this._tileZoom||!ue.contains(new me(Pe.x,Pe.y)))&&(this._tiles[_e].current=!1)}if(Math.abs(m-this._tileZoom)>1){this._setView(a,m);return}for(var $e=S.min.y;$e<=S.max.y;$e++)for(var dt=S.min.x;dt<=S.max.x;dt++){var qn=new me(dt,$e);if(qn.z=this._tileZoom,!!this._isValidTile(qn)){var Tn=this._tiles[this._tileCoordsToKey(qn)];Tn?Tn.current=!0:q.push(qn)}}if(q.sort(function(jt,Ut){return jt.distanceTo(O)-Ut.distanceTo(O)}),q.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Vi=document.createDocumentFragment();for(dt=0;dt<q.length;dt++)this._addTile(q[dt],Vi);this._level.el.appendChild(Vi)}}}},_isValidTile:function(a){var h=this._map.options.crs;if(!h.infinite){var m=this._globalTileRange;if(!h.wrapLng&&(a.x<m.min.x||a.x>m.max.x)||!h.wrapLat&&(a.y<m.min.y||a.y>m.max.y))return!1}if(!this.options.bounds)return!0;var b=this._tileCoordsToBounds(a);return xe(this.options.bounds).overlaps(b)},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToNwSe:function(a){var h=this._map,m=this.getTileSize(),b=a.scaleBy(m),S=b.add(m),O=h.unproject(b,a.z),q=h.unproject(S,a.z);return[O,q]},_tileCoordsToBounds:function(a){var h=this._tileCoordsToNwSe(a),m=new be(h[0],h[1]);return this.options.noWrap||(m=this._map.wrapLatLngBounds(m)),m},_tileCoordsToKey:function(a){return a.x+":"+a.y+":"+a.z},_keyToTileCoords:function(a){var h=a.split(":"),m=new me(+h[0],+h[1]);return m.z=+h[2],m},_removeTile:function(a){var h=this._tiles[a];h&&(ot(h.el),delete this._tiles[a],this.fire("tileunload",{tile:h.el,coords:this._keyToTileCoords(a)}))},_initTile:function(a){je(a,"leaflet-tile");var h=this.getTileSize();a.style.width=h.x+"px",a.style.height=h.y+"px",a.onselectstart=x,a.onmousemove=x,re.ielt9&&this.options.opacity<1&&sn(a,this.options.opacity)},_addTile:function(a,h){var m=this._getTilePos(a),b=this._tileCoordsToKey(a),S=this.createTile(this._wrapCoords(a),c(this._tileReady,this,a));this._initTile(S),this.createTile.length<2&&V(c(this._tileReady,this,a,null,S)),Yt(S,m),this._tiles[b]={el:S,coords:a,current:!0},h.appendChild(S),this.fire("tileloadstart",{tile:S,coords:a})},_tileReady:function(a,h,m){h&&this.fire("tileerror",{error:h,tile:m,coords:a});var b=this._tileCoordsToKey(a);m=this._tiles[b],m&&(m.loaded=+new Date,this._map._fadeAnimated?(sn(m.el,0),K(this._fadeFrame),this._fadeFrame=V(this._updateOpacity,this)):(m.active=!0,this._pruneTiles()),h||(je(m.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:m.el,coords:a})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),re.ielt9||!this._map._fadeAnimated?V(this._pruneTiles,this):setTimeout(c(this._pruneTiles,this),250)))},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(a){var h=new me(this._wrapX?E(a.x,this._wrapX):a.x,this._wrapY?E(a.y,this._wrapY):a.y);return h.z=a.z,h},_pxBoundsToTileRange:function(a){var h=this.getTileSize();return new H(a.min.unscaleBy(h).floor(),a.max.unscaleBy(h).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles)if(!this._tiles[a].loaded)return!1;return!0}});function uf(a){return new ra(a)}var Vs=ra.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(a,h){this._url=a,h=j(this,h),h.detectRetina&&re.retina&&h.maxZoom>0?(h.tileSize=Math.floor(h.tileSize/2),h.zoomReverse?(h.zoomOffset--,h.minZoom=Math.min(h.maxZoom,h.minZoom+1)):(h.zoomOffset++,h.maxZoom=Math.max(h.minZoom,h.maxZoom-1)),h.minZoom=Math.max(0,h.minZoom)):h.zoomReverse?h.minZoom=Math.min(h.maxZoom,h.minZoom):h.maxZoom=Math.max(h.minZoom,h.maxZoom),typeof h.subdomains=="string"&&(h.subdomains=h.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(a,h){return this._url===a&&h===void 0&&(h=!0),this._url=a,h||this.redraw(),this},createTile:function(a,h){var m=document.createElement("img");return Qe(m,"load",c(this._tileOnLoad,this,h,m)),Qe(m,"error",c(this._tileOnError,this,h,m)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(m.referrerPolicy=this.options.referrerPolicy),m.alt="",m.src=this.getTileUrl(a),m},getTileUrl:function(a){var h={r:re.retina?"@2x":"",s:this._getSubdomain(a),x:a.x,y:a.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var m=this._globalTileRange.max.y-a.y;this.options.tms&&(h.y=m),h["-y"]=m}return ee(this._url,o(h,this.options))},_tileOnLoad:function(a,h){re.ielt9?setTimeout(c(a,this,null,h),0):a(null,h)},_tileOnError:function(a,h,m){var b=this.options.errorTileUrl;b&&h.getAttribute("src")!==b&&(h.src=b),a(m,h)},_onTileRemove:function(a){a.tile.onload=null},_getZoomForUrl:function(){var a=this._tileZoom,h=this.options.maxZoom,m=this.options.zoomReverse,b=this.options.zoomOffset;return m&&(a=h-a),a+b},_getSubdomain:function(a){var h=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[h]},_abortLoading:function(){var a,h;for(a in this._tiles)if(this._tiles[a].coords.z!==this._tileZoom&&(h=this._tiles[a].el,h.onload=x,h.onerror=x,!h.complete)){h.src=Ce;var m=this._tiles[a].coords;ot(h),delete this._tiles[a],this.fire("tileabort",{tile:h,coords:m})}},_removeTile:function(a){var h=this._tiles[a];if(h)return h.el.setAttribute("src",Ce),ra.prototype._removeTile.call(this,a)},_tileReady:function(a,h,m){if(!(!this._map||m&&m.getAttribute("src")===Ce))return ra.prototype._tileReady.call(this,a,h,m)}});function er(a,h){return new Vs(a,h)}var dl=Vs.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(a,h){this._url=a;var m=o({},this.defaultWmsParams);for(var b in h)b in this.options||(m[b]=h[b]);h=j(this,h);var S=h.detectRetina&&re.retina?2:1,O=this.getTileSize();m.width=O.x*S,m.height=O.y*S,this.wmsParams=m},onAdd:function(a){this._crs=this.options.crs||a.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var h=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[h]=this._crs.code,Vs.prototype.onAdd.call(this,a)},getTileUrl:function(a){var h=this._tileCoordsToNwSe(a),m=this._crs,b=le(m.project(h[0]),m.project(h[1])),S=b.min,O=b.max,q=(this._wmsVersion>=1.3&&this._crs===_o?[S.y,S.x,O.y,O.x]:[S.x,S.y,O.x,O.y]).join(","),X=Vs.prototype.getTileUrl.call(this,a);return X+U(this.wmsParams,X,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+q},setParams:function(a,h){return o(this.wmsParams,a),h||this.redraw(),this}});function tr(a,h){return new dl(a,h)}Vs.WMS=dl,er.wms=tr;var xi=xr.extend({options:{padding:.1},initialize:function(a){j(this,a),_(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),je(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var a={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(a.zoomanim=this._onAnimZoom),a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(a,h){var m=this._map.getZoomScale(h,this._zoom),b=this._map.getSize().multiplyBy(.5+this.options.padding),S=this._map.project(this._center,h),O=b.multiplyBy(-m).add(S).subtract(this._map._getNewPixelOrigin(a,h));re.any3d?_r(this._container,O,m):Yt(this._container,O)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var a in this._layers)this._layers[a]._reset()},_onZoomEnd:function(){for(var a in this._layers)this._layers[a]._project()},_updatePaths:function(){for(var a in this._layers)this._layers[a]._update()},_update:function(){var a=this.options.padding,h=this._map.getSize(),m=this._map.containerPointToLayerPoint(h.multiplyBy(-a)).round();this._bounds=new H(m,m.add(h.multiplyBy(1+a*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),su=xi.extend({options:{tolerance:0},getEvents:function(){var a=xi.prototype.getEvents.call(this);return a.viewprereset=this._onViewPreReset,a},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){xi.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var a=this._container=document.createElement("canvas");Qe(a,"mousemove",this._onMouseMove,this),Qe(a,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Qe(a,"mouseout",this._handleMouseOut,this),a._leaflet_disable_events=!0,this._ctx=a.getContext("2d")},_destroyContainer:function(){K(this._redrawRequest),delete this._ctx,ot(this._container),kt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var a;this._redrawBounds=null;for(var h in this._layers)a=this._layers[h],a._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){xi.prototype._update.call(this);var a=this._bounds,h=this._container,m=a.getSize(),b=re.retina?2:1;Yt(h,a.min),h.width=b*m.x,h.height=b*m.y,h.style.width=m.x+"px",h.style.height=m.y+"px",re.retina&&this._ctx.scale(2,2),this._ctx.translate(-a.min.x,-a.min.y),this.fire("update")}},_reset:function(){xi.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(a){this._updateDashArray(a),this._layers[_(a)]=a;var h=a._order={layer:a,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=h),this._drawLast=h,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(a){this._requestRedraw(a)},_removePath:function(a){var h=a._order,m=h.next,b=h.prev;m?m.prev=b:this._drawLast=b,b?b.next=m:this._drawFirst=m,delete a._order,delete this._layers[_(a)],this._requestRedraw(a)},_updatePath:function(a){this._extendRedrawBounds(a),a._project(),a._update(),this._requestRedraw(a)},_updateStyle:function(a){this._updateDashArray(a),this._requestRedraw(a)},_updateDashArray:function(a){if(typeof a.options.dashArray=="string"){var h=a.options.dashArray.split(/[, ]+/),m=[],b,S;for(S=0;S<h.length;S++){if(b=Number(h[S]),isNaN(b))return;m.push(b)}a.options._dashArray=m}else a.options._dashArray=a.options.dashArray},_requestRedraw:function(a){this._map&&(this._extendRedrawBounds(a),this._redrawRequest=this._redrawRequest||V(this._redraw,this))},_extendRedrawBounds:function(a){if(a._pxBounds){var h=(a.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new H,this._redrawBounds.extend(a._pxBounds.min.subtract([h,h])),this._redrawBounds.extend(a._pxBounds.max.add([h,h]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var a=this._redrawBounds;if(a){var h=a.getSize();this._ctx.clearRect(a.min.x,a.min.y,h.x,h.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var a,h=this._redrawBounds;if(this._ctx.save(),h){var m=h.getSize();this._ctx.beginPath(),this._ctx.rect(h.min.x,h.min.y,m.x,m.y),this._ctx.clip()}this._drawing=!0;for(var b=this._drawFirst;b;b=b.next)a=b.layer,(!h||a._pxBounds&&a._pxBounds.intersects(h))&&a._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(a,h){if(this._drawing){var m,b,S,O,q=a._parts,X=q.length,ue=this._ctx;if(X){for(ue.beginPath(),m=0;m<X;m++){for(b=0,S=q[m].length;b<S;b++)O=q[m][b],ue[b?"lineTo":"moveTo"](O.x,O.y);h&&ue.closePath()}this._fillStroke(ue,a)}}},_updateCircle:function(a){if(!(!this._drawing||a._empty())){var h=a._point,m=this._ctx,b=Math.max(Math.round(a._radius),1),S=(Math.max(Math.round(a._radiusY),1)||b)/b;S!==1&&(m.save(),m.scale(1,S)),m.beginPath(),m.arc(h.x,h.y/S,b,0,Math.PI*2,!1),S!==1&&m.restore(),this._fillStroke(m,a)}},_fillStroke:function(a,h){var m=h.options;m.fill&&(a.globalAlpha=m.fillOpacity,a.fillStyle=m.fillColor||m.color,a.fill(m.fillRule||"evenodd")),m.stroke&&m.weight!==0&&(a.setLineDash&&a.setLineDash(h.options&&h.options._dashArray||[]),a.globalAlpha=m.opacity,a.lineWidth=m.weight,a.strokeStyle=m.color,a.lineCap=m.lineCap,a.lineJoin=m.lineJoin,a.stroke())},_onClick:function(a){for(var h=this._map.mouseEventToLayerPoint(a),m,b,S=this._drawFirst;S;S=S.next)m=S.layer,m.options.interactive&&m._containsPoint(h)&&(!(a.type==="click"||a.type==="preclick")||!this._map._draggableMoved(m))&&(b=m);this._fireEvent(b?[b]:!1,a)},_onMouseMove:function(a){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var h=this._map.mouseEventToLayerPoint(a);this._handleMouseHover(a,h)}},_handleMouseOut:function(a){var h=this._hoveredLayer;h&&(Kt(this._container,"leaflet-interactive"),this._fireEvent([h],a,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(a,h){if(!this._mouseHoverThrottled){for(var m,b,S=this._drawFirst;S;S=S.next)m=S.layer,m.options.interactive&&m._containsPoint(h)&&(b=m);b!==this._hoveredLayer&&(this._handleMouseOut(a),b&&(je(this._container,"leaflet-interactive"),this._fireEvent([b],a,"mouseover"),this._hoveredLayer=b)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,a),this._mouseHoverThrottled=!0,setTimeout(c(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(a,h,m){this._map._fireDOMEvent(h,m||h.type,a)},_bringToFront:function(a){var h=a._order;if(h){var m=h.next,b=h.prev;if(m)m.prev=b;else return;b?b.next=m:m&&(this._drawFirst=m),h.prev=this._drawLast,this._drawLast.next=h,h.next=null,this._drawLast=h,this._requestRedraw(a)}},_bringToBack:function(a){var h=a._order;if(h){var m=h.next,b=h.prev;if(b)b.next=m;else return;m?m.prev=b:b&&(this._drawLast=b),h.prev=null,h.next=this._drawFirst,this._drawFirst.prev=h,this._drawFirst=h,this._requestRedraw(a)}}});function ml(a){return re.canvas?new su(a):null}var Bs=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return document.createElement("<lvml:"+a+' class="lvml">')}}catch{}return function(a){return document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),yc={_initContainer:function(){this._container=rt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(xi.prototype._update.call(this),this.fire("update"))},_initPath:function(a){var h=a._container=Bs("shape");je(h,"leaflet-vml-shape "+(this.options.className||"")),h.coordsize="1 1",a._path=Bs("path"),h.appendChild(a._path),this._updateStyle(a),this._layers[_(a)]=a},_addPath:function(a){var h=a._container;this._container.appendChild(h),a.options.interactive&&a.addInteractiveTarget(h)},_removePath:function(a){var h=a._container;ot(h),a.removeInteractiveTarget(h),delete this._layers[_(a)]},_updateStyle:function(a){var h=a._stroke,m=a._fill,b=a.options,S=a._container;S.stroked=!!b.stroke,S.filled=!!b.fill,b.stroke?(h||(h=a._stroke=Bs("stroke")),S.appendChild(h),h.weight=b.weight+"px",h.color=b.color,h.opacity=b.opacity,b.dashArray?h.dashStyle=ae(b.dashArray)?b.dashArray.join(" "):b.dashArray.replace(/( *, *)/g," "):h.dashStyle="",h.endcap=b.lineCap.replace("butt","flat"),h.joinstyle=b.lineJoin):h&&(S.removeChild(h),a._stroke=null),b.fill?(m||(m=a._fill=Bs("fill")),S.appendChild(m),m.color=b.fillColor||b.color,m.opacity=b.fillOpacity):m&&(S.removeChild(m),a._fill=null)},_updateCircle:function(a){var h=a._point.round(),m=Math.round(a._radius),b=Math.round(a._radiusY||m);this._setPath(a,a._empty()?"M0 0":"AL "+h.x+","+h.y+" "+m+","+b+" 0,"+65535*360)},_setPath:function(a,h){a._path.v=h},_bringToFront:function(a){Zt(a._container)},_bringToBack:function(a){ti(a._container)}},qr=re.vml?Bs:Rs,sa=xi.extend({_initContainer:function(){this._container=qr("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=qr("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ot(this._container),kt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){xi.prototype._update.call(this);var a=this._bounds,h=a.getSize(),m=this._container;(!this._svgSize||!this._svgSize.equals(h))&&(this._svgSize=h,m.setAttribute("width",h.x),m.setAttribute("height",h.y)),Yt(m,a.min),m.setAttribute("viewBox",[a.min.x,a.min.y,h.x,h.y].join(" ")),this.fire("update")}},_initPath:function(a){var h=a._path=qr("path");a.options.className&&je(h,a.options.className),a.options.interactive&&je(h,"leaflet-interactive"),this._updateStyle(a),this._layers[_(a)]=a},_addPath:function(a){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(a._path),a.addInteractiveTarget(a._path)},_removePath:function(a){ot(a._path),a.removeInteractiveTarget(a._path),delete this._layers[_(a)]},_updatePath:function(a){a._project(),a._update()},_updateStyle:function(a){var h=a._path,m=a.options;h&&(m.stroke?(h.setAttribute("stroke",m.color),h.setAttribute("stroke-opacity",m.opacity),h.setAttribute("stroke-width",m.weight),h.setAttribute("stroke-linecap",m.lineCap),h.setAttribute("stroke-linejoin",m.lineJoin),m.dashArray?h.setAttribute("stroke-dasharray",m.dashArray):h.removeAttribute("stroke-dasharray"),m.dashOffset?h.setAttribute("stroke-dashoffset",m.dashOffset):h.removeAttribute("stroke-dashoffset")):h.setAttribute("stroke","none"),m.fill?(h.setAttribute("fill",m.fillColor||m.color),h.setAttribute("fill-opacity",m.fillOpacity),h.setAttribute("fill-rule",m.fillRule||"evenodd")):h.setAttribute("fill","none"))},_updatePoly:function(a,h){this._setPath(a,Yn(a._parts,h))},_updateCircle:function(a){var h=a._point,m=Math.max(Math.round(a._radius),1),b=Math.max(Math.round(a._radiusY),1)||m,S="a"+m+","+b+" 0 1,0 ",O=a._empty()?"M0 0":"M"+(h.x-m)+","+h.y+S+m*2+",0 "+S+-m*2+",0 ";this._setPath(a,O)},_setPath:function(a,h){a._path.setAttribute("d",h)},_bringToFront:function(a){Zt(a._path)},_bringToBack:function(a){ti(a._path)}});re.vml&&sa.include(yc);function pl(a){return re.svg||re.vml?new sa(a):null}_t.include({getRenderer:function(a){var h=a.options.renderer||this._getPaneRenderer(a.options.pane)||this.options.renderer||this._renderer;return h||(h=this._renderer=this._createRenderer()),this.hasLayer(h)||this.addLayer(h),h},_getPaneRenderer:function(a){if(a==="overlayPane"||a===void 0)return!1;var h=this._paneRenderers[a];return h===void 0&&(h=this._createRenderer({pane:a}),this._paneRenderers[a]=h),h},_createRenderer:function(a){return this.options.preferCanvas&&ml(a)||pl(a)}});var yo=ea.extend({initialize:function(a,h){ea.prototype.initialize.call(this,this._boundsToLatLngs(a),h)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return a=xe(a),[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});function rp(a,h){return new yo(a,h)}sa.create=qr,sa.pointsToPath=Yn,ps.geometryToLayer=si,ps.coordsToLatLng=eu,ps.coordsToLatLngs=ll,ps.latLngToCoords=tu,ps.latLngsToCoords=ul,ps.getFeature=zs,ps.asFeature=nu,_t.mergeOptions({boxZoom:!0});var Si=ji.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane,this._resetStateTimeout=0,a.on("unload",this._destroy,this)},addHooks:function(){Qe(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){kt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ot(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(a){if(!a.shiftKey||a.which!==1&&a.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Qi(),ho(),this._startPoint=this._map.mouseEventToContainerPoint(a),Qe(document,{contextmenu:yr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(a){this._moved||(this._moved=!0,this._box=rt("div","leaflet-zoom-box",this._container),je(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(a);var h=new H(this._point,this._startPoint),m=h.getSize();Yt(this._box,h.min),this._box.style.width=m.x+"px",this._box.style.height=m.y+"px"},_finish:function(){this._moved&&(ot(this._box),Kt(this._container,"leaflet-crosshair")),Dn(),Is(),kt(document,{contextmenu:yr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(a){if(!(a.which!==1&&a.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(c(this._resetState,this),0);var h=new be(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(h).fire("boxzoomend",{boxZoomBounds:h})}},_onKeyDown:function(a){a.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});_t.addInitHook("addHandler","boxZoom",Si),_t.mergeOptions({doubleClickZoom:!0});var ou=ji.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var h=this._map,m=h.getZoom(),b=h.options.zoomDelta,S=a.originalEvent.shiftKey?m-b:m+b;h.options.doubleClickZoom==="center"?h.setZoom(S):h.setZoomAround(a.containerPoint,S)}});_t.addInitHook("addHandler","doubleClickZoom",ou),_t.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Zr=ji.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new Er(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),a.on("zoomend",this._onZoomEnd,this),a.whenReady(this._onZoomEnd,this))}je(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Kt(this._map._container,"leaflet-grab"),Kt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var a=this._map;if(a._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var h=xe(this._map.options.maxBounds);this._offsetLimit=le(this._map.latLngToContainerPoint(h.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(h.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;a.fire("movestart").fire("dragstart"),a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(a){if(this._map.options.inertia){var h=this._lastTime=+new Date,m=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(m),this._times.push(h),this._prunePositions(h)}this._map.fire("move",a).fire("drag",a)},_prunePositions:function(a){for(;this._positions.length>1&&a-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var a=this._map.getSize().divideBy(2),h=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=h.subtract(a).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(a,h){return a-(a-h)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var a=this._draggable._newPos.subtract(this._draggable._startPos),h=this._offsetLimit;a.x<h.min.x&&(a.x=this._viscousLimit(a.x,h.min.x)),a.y<h.min.y&&(a.y=this._viscousLimit(a.y,h.min.y)),a.x>h.max.x&&(a.x=this._viscousLimit(a.x,h.max.x)),a.y>h.max.y&&(a.y=this._viscousLimit(a.y,h.max.y)),this._draggable._newPos=this._draggable._startPos.add(a)}},_onPreDragWrap:function(){var a=this._worldWidth,h=Math.round(a/2),m=this._initialWorldOffset,b=this._draggable._newPos.x,S=(b-h+m)%a+h-m,O=(b+h+m)%a-h-m,q=Math.abs(S+m)<Math.abs(O+m)?S:O;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=q},_onDragEnd:function(a){var h=this._map,m=h.options,b=!m.inertia||a.noInertia||this._times.length<2;if(h.fire("dragend",a),b)h.fire("moveend");else{this._prunePositions(+new Date);var S=this._lastPos.subtract(this._positions[0]),O=(this._lastTime-this._times[0])/1e3,q=m.easeLinearity,X=S.multiplyBy(q/O),ue=X.distanceTo([0,0]),_e=Math.min(m.inertiaMaxSpeed,ue),Pe=X.multiplyBy(_e/ue),$e=_e/(m.inertiaDeceleration*q),dt=Pe.multiplyBy(-$e/2).round();!dt.x&&!dt.y?h.fire("moveend"):(dt=h._limitOffset(dt,h.options.maxBounds),V(function(){h.panBy(dt,{duration:$e,easeLinearity:q,noMoveStart:!0,animate:!0})}))}}});_t.addInitHook("addHandler","dragging",Zr),_t.mergeOptions({keyboard:!0,keyboardPanDelta:80});var vc=ji.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a,this._setPanDelta(a.options.keyboardPanDelta),this._setZoomDelta(a.options.zoomDelta)},addHooks:function(){var a=this._map._container;a.tabIndex<=0&&(a.tabIndex="0"),Qe(a,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),kt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var a=document.body,h=document.documentElement,m=a.scrollTop||h.scrollTop,b=a.scrollLeft||h.scrollLeft;this._map._container.focus(),window.scrollTo(b,m)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(a){var h=this._panKeys={},m=this.keyCodes,b,S;for(b=0,S=m.left.length;b<S;b++)h[m.left[b]]=[-1*a,0];for(b=0,S=m.right.length;b<S;b++)h[m.right[b]]=[a,0];for(b=0,S=m.down.length;b<S;b++)h[m.down[b]]=[0,a];for(b=0,S=m.up.length;b<S;b++)h[m.up[b]]=[0,-1*a]},_setZoomDelta:function(a){var h=this._zoomKeys={},m=this.keyCodes,b,S;for(b=0,S=m.zoomIn.length;b<S;b++)h[m.zoomIn[b]]=a;for(b=0,S=m.zoomOut.length;b<S;b++)h[m.zoomOut[b]]=-a},_addHooks:function(){Qe(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){kt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){if(!(a.altKey||a.ctrlKey||a.metaKey)){var h=a.keyCode,m=this._map,b;if(h in this._panKeys){if(!m._panAnim||!m._panAnim._inProgress)if(b=this._panKeys[h],a.shiftKey&&(b=Ae(b).multiplyBy(3)),m.options.maxBounds&&(b=m._limitOffset(Ae(b),m.options.maxBounds)),m.options.worldCopyJump){var S=m.wrapLatLng(m.unproject(m.project(m.getCenter()).add(b)));m.panTo(S)}else m.panBy(b)}else if(h in this._zoomKeys)m.setZoom(m.getZoom()+(a.shiftKey?3:1)*this._zoomKeys[h]);else if(h===27&&m._popup&&m._popup.options.closeOnEscapeKey)m.closePopup();else return;yr(a)}}});_t.addInitHook("addHandler","keyboard",vc),_t.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var gl=ji.extend({addHooks:function(){Qe(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){kt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(a){var h=kn(a),m=this._map.options.wheelDebounceTime;this._delta+=h,this._lastMousePos=this._map.mouseEventToContainerPoint(a),this._startTime||(this._startTime=+new Date);var b=Math.max(m-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(c(this._performZoom,this),b),yr(a)},_performZoom:function(){var a=this._map,h=a.getZoom(),m=this._map.options.zoomSnap||0;a._stop();var b=this._delta/(this._map.options.wheelPxPerZoomLevel*4),S=4*Math.log(2/(1+Math.exp(-Math.abs(b))))/Math.LN2,O=m?Math.ceil(S/m)*m:S,q=a._limitZoom(h+(this._delta>0?O:-O))-h;this._delta=0,this._startTime=null,q&&(a.options.scrollWheelZoom==="center"?a.setZoom(h+q):a.setZoomAround(this._lastMousePos,h+q))}});_t.addInitHook("addHandler","scrollWheelZoom",gl);var vo=600;_t.mergeOptions({tapHold:re.touchNative&&re.safari&&re.mobile,tapTolerance:15});var au=ji.extend({addHooks:function(){Qe(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){kt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(clearTimeout(this._holdTimeout),a.touches.length===1){var h=a.touches[0];this._startPos=this._newPos=new me(h.clientX,h.clientY),this._holdTimeout=setTimeout(c(function(){this._cancel(),this._isTapValid()&&(Qe(document,"touchend",dn),Qe(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",h))},this),vo),Qe(document,"touchend touchcancel contextmenu",this._cancel,this),Qe(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function a(){kt(document,"touchend",dn),kt(document,"touchend touchcancel",a)},_cancel:function(){clearTimeout(this._holdTimeout),kt(document,"touchend touchcancel contextmenu",this._cancel,this),kt(document,"touchmove",this._onMove,this)},_onMove:function(a){var h=a.touches[0];this._newPos=new me(h.clientX,h.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(a,h){var m=new MouseEvent(a,{bubbles:!0,cancelable:!0,view:window,screenX:h.screenX,screenY:h.screenY,clientX:h.clientX,clientY:h.clientY});m._simulated=!0,h.target.dispatchEvent(m)}});_t.addInitHook("addHandler","tapHold",au),_t.mergeOptions({touchZoom:re.touch,bounceAtZoomLimits:!0});var bc=ji.extend({addHooks:function(){je(this._map._container,"leaflet-touch-zoom"),Qe(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Kt(this._map._container,"leaflet-touch-zoom"),kt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var h=this._map;if(!(!a.touches||a.touches.length!==2||h._animatingZoom||this._zooming)){var m=h.mouseEventToContainerPoint(a.touches[0]),b=h.mouseEventToContainerPoint(a.touches[1]);this._centerPoint=h.getSize()._divideBy(2),this._startLatLng=h.containerPointToLatLng(this._centerPoint),h.options.touchZoom!=="center"&&(this._pinchStartLatLng=h.containerPointToLatLng(m.add(b)._divideBy(2))),this._startDist=m.distanceTo(b),this._startZoom=h.getZoom(),this._moved=!1,this._zooming=!0,h._stop(),Qe(document,"touchmove",this._onTouchMove,this),Qe(document,"touchend touchcancel",this._onTouchEnd,this),dn(a)}},_onTouchMove:function(a){if(!(!a.touches||a.touches.length!==2||!this._zooming)){var h=this._map,m=h.mouseEventToContainerPoint(a.touches[0]),b=h.mouseEventToContainerPoint(a.touches[1]),S=m.distanceTo(b)/this._startDist;if(this._zoom=h.getScaleZoom(S,this._startZoom),!h.options.bounceAtZoomLimits&&(this._zoom<h.getMinZoom()&&S<1||this._zoom>h.getMaxZoom()&&S>1)&&(this._zoom=h._limitZoom(this._zoom)),h.options.touchZoom==="center"){if(this._center=this._startLatLng,S===1)return}else{var O=m._add(b)._divideBy(2)._subtract(this._centerPoint);if(S===1&&O.x===0&&O.y===0)return;this._center=h.unproject(h.project(this._pinchStartLatLng,this._zoom).subtract(O),this._zoom)}this._moved||(h._moveStart(!0,!1),this._moved=!0),K(this._animRequest);var q=c(h._move,h,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=V(q,this,!0),dn(a)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,K(this._animRequest),kt(document,"touchmove",this._onTouchMove,this),kt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});_t.addInitHook("addHandler","touchZoom",bc),_t.BoxZoom=Si,_t.DoubleClickZoom=ou,_t.Drag=Zr,_t.Keyboard=vc,_t.ScrollWheelZoom=gl,_t.TapHold=au,_t.TouchZoom=bc,n.Bounds=H,n.Browser=re,n.CRS=Je,n.Canvas=su,n.Circle=Jl,n.CircleMarker=Jo,n.Class=Ue,n.Control=ii,n.DivIcon=lf,n.DivOverlay=oi,n.DomEvent=Vr,n.DomUtil=Ls,n.Draggable=Er,n.Evented=Ee,n.FeatureGroup=Br,n.GeoJSON=ps,n.GridLayer=ra,n.Handler=ji,n.Icon=Fr,n.ImageOverlay=na,n.LatLng=Se,n.LatLngBounds=be,n.Layer=xr,n.LayerGroup=Xo,n.LineUtil=Xi,n.Map=_t,n.Marker=al,n.Mixin=Wl,n.Path=Hr,n.Point=me,n.PolyUtil=Ms,n.Polygon=ea,n.Polyline=ms,n.Popup=hl,n.PosAnimation=hs,n.Projection=Tr,n.Rectangle=yo,n.Renderer=xi,n.SVG=sa,n.SVGOverlay=ru,n.TileLayer=Vs,n.Tooltip=fl,n.Transformation=Pr,n.Util=B,n.VideoOverlay=Us,n.bind=c,n.bounds=le,n.canvas=ml,n.circle=rf,n.circleMarker=nf,n.control=Ti,n.divIcon=ip,n.extend=o,n.featureGroup=ef,n.geoJSON=iu,n.geoJson=cl,n.gridLayer=uf,n.icon=rl,n.imageOverlay=sf,n.latLng=Oe,n.latLngBounds=xe,n.layerGroup=Jm,n.map=ks,n.marker=tf,n.point=Ae,n.polygon=tp,n.polyline=ep,n.popup=af,n.rectangle=rp,n.setOptions=j,n.stamp=_,n.svg=pl,n.svgOverlay=of,n.tileLayer=er,n.tooltip=np,n.transformation=Gt,n.version=r,n.videoOverlay=ia;var wc=window.L;n.noConflict=function(){return window.L=wc,this},window.L=n}))})(_h,_h.exports)),_h.exports}var _c=q5();const oR=ry(_c);function Qm(t,e,n){return Object.freeze({instance:t,context:e,container:n})}function Wm(t,e){return e==null?function(r,o){const u=F.useRef(void 0);return u.current||(u.current=t(r,o)),u}:function(r,o){const u=F.useRef(void 0);u.current||(u.current=t(r,o));const c=F.useRef(r),{instance:p}=u.current;return F.useEffect(function(){c.current!==r&&(e(p,r,c.current),c.current=r)},[p,r,e]),u}}function aR(t,e){F.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){e.layerContainer?.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function lR(t){return function(n){const r=Km(),o=t(Ym(n,r),r);return iR(r.map,n.attribution),dv(o.current,n.eventHandlers),aR(o.current,r),o}}function Z5(t,e){const n=F.useRef(void 0);F.useEffect(function(){if(e.pathOptions!==n.current){const o=e.pathOptions??{};t.instance.setStyle(o),n.current=o}},[t,e])}function $5(t){return function(n){const r=Km(),o=t(Ym(n,r),r);return dv(o.current,n.eventHandlers),aR(o.current,r),Z5(o.current,n),o}}function G5(t,e){const n=Wm(t,e),r=lR(n);return sR(r)}function K5(t,e){const n=Wm(t),r=F5(n,e);return V5(r)}function Y5(t,e){const n=Wm(t,e),r=$5(n);return sR(r)}function Q5(t,e){const n=Wm(t,e),r=lR(n);return B5(r)}function W5(t,e,n){const{opacity:r,zIndex:o}=e;r!=null&&r!==n.opacity&&t.setOpacity(r),o!=null&&o!==n.zIndex&&t.setZIndex(o)}function uR(){return Km().map}function cR(t){const e=uR();return F.useEffect(function(){return e.on(t),function(){e.off(t)}},[e,t]),e}function X5({bounds:t,boundsOptions:e,center:n,children:r,className:o,id:u,placeholder:c,style:p,whenReady:_,zoom:y,...E},x){const[C]=F.useState({className:o,id:u,style:p}),[D,I]=F.useState(null),j=F.useRef(void 0);F.useImperativeHandle(x,()=>D?.map??null,[D]);const U=F.useCallback(ee=>{if(ee!==null&&!j.current){const ae=new _c.Map(ee,E);j.current=ae,n!=null&&y!=null?ae.setView(n,y):t!=null&&ae.fitBounds(t,e),_!=null&&ae.whenReady(_),I(U5(ae))}},[]);F.useEffect(()=>()=>{D?.map.remove()},[D]);const ne=D?lr.createElement(fv,{value:D},r):c??null;return lr.createElement("div",{...C,ref:U},ne)}const J5=F.forwardRef(X5),Ed=G5(function({position:e,...n},r){const o=new _c.Marker(e,n);return Qm(o,rR(r,{overlayContainer:o}))},function(e,n,r){n.position!==r.position&&e.setLatLng(n.position),n.icon!=null&&n.icon!==r.icon&&e.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==r.zIndexOffset&&e.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==r.opacity&&e.setOpacity(n.opacity),e.dragging!=null&&n.draggable!==r.draggable&&(n.draggable===!0?e.dragging.enable():e.dragging.disable())}),eB=Y5(function({positions:e,...n},r){const o=new _c.Polyline(e,n);return Qm(o,rR(r,{overlayContainer:o}))},function(e,n,r){n.positions!==r.positions&&e.setLatLngs(n.positions)}),f_=K5(function(e,n){const r=new _c.Popup(e,n.overlayContainer);return Qm(r,n)},function(e,n,{position:r},o){F.useEffect(function(){const{instance:c}=e;function p(y){y.popup===c&&(c.update(),o(!0))}function _(y){y.popup===c&&o(!1)}return n.map.on({popupopen:p,popupclose:_}),n.overlayContainer==null?(r!=null&&c.setLatLng(r),c.openOn(n.map)):n.overlayContainer.bindPopup(c),function(){n.map.off({popupopen:p,popupclose:_}),n.overlayContainer?.unbindPopup(),n.map.removeLayer(c)}},[e,n,o,r])}),tB=Q5(function({url:e,...n},r){const o=new _c.TileLayer(e,Ym(n,r));return Qm(o,r)},function(e,n,r){W5(e,n,r);const{url:o}=n;o!=null&&o!==r.url&&e.setUrl(o)}),nB=({start:t,end:e,setRoute:n})=>{const r=uR();return F.useEffect(()=>{if(n&&n(null),t&&e){if(t.lat===e.lat&&t.lon===e.lon){console.warn("Start and End locations are identical.");return}(async()=>{try{const u=`http://router.project-osrm.org/route/v1/driving/${t.lon},${t.lat};${e.lon},${e.lat}?overview=full&geometries=geojson`,c=await Rn.get(u);if(c.data.routes.length>0){const p=c.data.routes[0],_=p.geometry.coordinates.map(E=>[E[1],E[0]]);n&&n({distance:p.distance,duration:p.duration,coordinates:_});const y=oR.latLngBounds(_);r.fitBounds(y,{padding:[50,50]})}}catch(u){console.error("Error fetching route",u)}})()}else t&&r.flyTo([t.lat,t.lon],15)},[t,e,r,n]),null},iB=({setAvailableDrivers:t})=>{const e=F.useRef(null),{socket:n}=Xy(),r=cR({moveend:()=>{const u=r.getCenter();e.current&&clearTimeout(e.current),e.current=setTimeout(()=>{o(u.lat,u.lng)},500)},load:()=>{const u=r.getCenter();o(u.lat,u.lng)}}),o=async(u,c)=>{try{const p=await fr.get("/api/drivers/nearby",{params:{lat:u,lng:c,radius:1e4}});t(p.data)}catch(p){console.error("Failed to fetch drivers",p)}};return F.useEffect(()=>{if(!n)return;const u=c=>{t(p=>{const _=p.findIndex(y=>y.id===c.driverId);if(_!==-1){const y=[...p];return y[_]={...y[_],lat:c.lat,lng:c.lng},y}else return p})};return n.on("driver_location_update",u),()=>{n.off("driver_location_update",u)}},[n,t]),F.useEffect(()=>{if(r){const u=r.getCenter();o(u.lat,u.lng)}},[r]),null},Xm=t=>oR.icon({iconUrl:`data:image/svg+xml;base64,${btoa(`
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="36" height="36">
                <path fill="${t}" d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/>
            </svg>
        `)}`,iconSize:[36,36],iconAnchor:[18,36],popupAnchor:[0,-36]}),rB=Xm("#10B981"),sB=Xm("#EF4444"),oB=Xm("#3B82F6"),aB=Xm("#F59E0B"),lB=[37.7749,-122.4194],uB=({activeField:t,setTempSelection:e})=>(cR({click:async n=>{if(!t)return;const{lat:r,lng:o}=n.latlng;try{const c=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${r}&lon=${o}`)).json();e({lat:r,lon:o,displayName:c.display_name})}catch(u){console.error("Geocoding failed",u)}}}),null),cB=({activeField:t,pickup:e,dropoff:n,route:r,setRoute:o,tempSelection:u,setTempSelection:c,confirmLocation:p,availableDrivers:_,setAvailableDrivers:y})=>w.jsxs("div",{className:"w-full relative h-full",children:[u&&w.jsxs("div",{className:"absolute top-4 left-1/2 transform -translate-x-1/2 z-[1000] bg-white text-gray-900 p-4 rounded-lg shadow-2xl border border-gray-200 flex flex-col items-center gap-3 max-w-lg w-10/12 animate-in slide-in-from-top",children:[w.jsx("div",{className:"text-center",children:w.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs font-semibold mr-2 px-2.5 py-0.5 rounded",children:"Selected Location"})}),w.jsx("p",{className:"font-medium text-sm text-center leading-tight",children:u.displayName}),w.jsx("button",{onClick:p,className:"bg-blue-600 hover:bg-blue-700 text-white text-sm font-bold py-2 px-6 rounded-full shadow transition hover:shadow-lg transform hover:-translate-y-0.5",children:"Choose Location"})]}),w.jsxs(J5,{center:lB,zoom:13,style:{height:"100%",width:"100%",cursor:t?"crosshair":"grab"},children:[w.jsx(tB,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),w.jsx(uB,{activeField:t,setTempSelection:c}),w.jsx(iB,{setAvailableDrivers:y}),w.jsx(nB,{start:e,end:n,setRoute:o}),u&&w.jsx(Ed,{position:[u.lat,u.lon],icon:oB}),e&&w.jsx(Ed,{position:[e.lat,e.lon],icon:rB,children:w.jsxs(f_,{children:["Pickup: ",e.displayName]})}),n&&w.jsx(Ed,{position:[n.lat,n.lon],icon:sB,children:w.jsxs(f_,{children:["Dropoff: ",n.displayName]})}),_.map(E=>w.jsx(Ed,{position:[E.lat,E.lng],icon:aB,children:w.jsx(f_,{children:w.jsxs("div",{className:"text-center",children:[w.jsx("p",{className:"font-bold",children:E.name}),w.jsx("p",{className:"text-xs text-gray-500 capitalize",children:E.vehicle})]})})},E.id)),r&&r.coordinates&&w.jsx(eB,{positions:r.coordinates,color:"blue",weight:5,opacity:.7})]})]}),hB=()=>{const[t,e]=F.useState(null),[n,r]=F.useState(null),[o,u]=F.useState(null),[c,p]=F.useState(null),[_,y]=F.useState(null),[E,x]=F.useState(!1),[C,D]=F.useState("4 SEAT"),[I,j]=F.useState("CASH"),[U,ne]=F.useState([]),{socket:ee,connectSocket:ae}=Xy(),{showToast:Te}=r1(),Ce=oc();F.useEffect(()=>{if(!ee)return;const G=V=>{console.log("Ride Accepted:",V),Te(`Driver ${V.driver.name} accepted your ride!`,"success",5e3),Ce("/history")};return ee.on("ride_accepted",G),()=>{ee.off("ride_accepted",G)}},[ee,Ce,Te]);const ke=()=>{!_||!c||(c==="pickup"?e(_):r(_),y(null))},[N,M]=F.useState(null);F.useEffect(()=>{t&&n&&o?(async()=>{try{const V=await fr.post("/api/fares/estimate",{pickupLocation:{lat:t.lat,lng:t.lon,address:t.displayName},dropoffLocation:{lat:n.lat,lng:n.lon,address:n.displayName},vehicleType:C});M(V.data),V.data.nearbyDrivers&&ne(V.data.nearbyDrivers)}catch(V){console.error("Estimation failed:",V)}})():M(null)},[t,n,o,C]);const z=async()=>{if(!t||!n||!N){Te("Please select pickup and dropoff locations.","warning");return}ae();try{await fr.post("/api/rides/request",{pickupLocation:{lat:t.lat,lng:t.lon,address:t.displayName},dropoffLocation:{lat:n.lat,lng:n.lon,address:n.displayName},vehicleType:C,paymentMethod:I,fare_id:N?.fare_id}),x(!0)}catch(G){console.error("Request failed:",G),G.response?Te(G.response.data.error||G.response.data.message||"Failed to request ride.","error"):Te("Network error or server unreachable.","error"),x(!1)}};return w.jsx(hv,{role:"user",title:"Book a Ride",fullWidth:!0,children:w.jsxs("div",{className:"flex flex-col md:flex-row h-[calc(100vh-64px)] relative",children:[E&&w.jsx(z5,{onCancel:()=>x(!1)}),w.jsx(M5,{activeField:c,setActiveField:p,pickup:t,setPickup:e,dropoff:n,setDropoff:r,route:o,estimate:N,vehicleType:C,setVehicleType:D,paymentMethod:I,setPaymentMethod:j,handleRequestRide:z}),w.jsx("div",{className:"flex-1 h-full relative order-1 md:order-2",children:w.jsx(cB,{activeField:c,pickup:t,dropoff:n,route:o,setRoute:u,tempSelection:_,setTempSelection:y,confirmLocation:ke,availableDrivers:U,setAvailableDrivers:ne})})]})})},fB=()=>w.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[w.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md text-center",children:[w.jsx("div",{className:"text-9xl font-bold text-indigo-600 mb-4 animate-bounce",children:"404"}),w.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Page Not Found"}),w.jsx("p",{className:"mt-2 text-sm text-gray-600 max-w",children:"Sorry, we couldn't find the page you're looking for."}),w.jsx("div",{className:"mt-8",children:w.jsx(Pn,{to:"/dashboard",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors",children:"Go back to Dashboard"})})]}),w.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:w.jsx("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10 text-center",children:w.jsx("p",{className:"text-gray-500 text-sm italic",children:'"Not all who wander are lost... but this page definitely is."'})})})]}),dB=async()=>{try{const t=await fr.get("/api/drivers/profile");return!t.data.success||!t.data.data?{profileMissing:!0}:{isOnline:t.data.data.status==="ONLINE",driverId:t.data.data.uid,profileMissing:!1}}catch(t){return console.error("Failed to fetch driver profile in loader",t),t.response&&t.response.status===404?{profileMissing:!0}:{error:!0}}},mB=ZO([{element:w.jsx(AT,{}),children:[{path:"/",element:w.jsx(l_,{children:w.jsx(v4,{})})}]},{element:w.jsx(y4,{}),children:[{path:"/login",element:w.jsx(l_,{children:w.jsx(zU,{})})},{path:"/register",element:w.jsx(l_,{children:w.jsx(jU,{})})}]},{element:w.jsx(AT,{}),children:[{path:"/home",element:w.jsx(Cl,{allowedRoles:["RIDER"],children:w.jsx(k5,{})})},{path:"/map",element:w.jsx(Cl,{allowedRoles:["RIDER"],children:w.jsx(hB,{})})},{path:"/driver",element:w.jsx(Cl,{allowedRoles:["DRIVER"],children:w.jsx(D5,{})}),loader:dB},{path:"/driver/history",element:w.jsx(Cl,{allowedRoles:["DRIVER"],children:w.jsx(lx,{})})},{path:"/dashboard",element:w.jsx(Cl,{allowedRoles:["RIDER","DRIVER"],children:w.jsx(h4,{})})},{path:"/history",element:w.jsx(Cl,{allowedRoles:["RIDER","DRIVER"],children:w.jsx(lx,{})})},{path:"/profile",element:w.jsx(Cl,{allowedRoles:["RIDER","DRIVER"],children:w.jsx(A5,{})})},{path:"*",element:w.jsx(fB,{})}]}]);function pB(){return w.jsx(mz,{children:w.jsx(u4,{children:w.jsx(c4,{children:w.jsx(iI,{router:mB})})})})}const gB=console.warn;console.warn=(...t)=>{t[0]&&typeof t[0]=="string"&&(t[0].includes("MouseEvent.mozPressure")||t[0].includes("MouseEvent.mozInputSource"))||gB(...t)};const _B="user",yB={user:"App",driver:"Driver"};document.title=yB[_B];jC.createRoot(document.getElementById("root")).render(w.jsx(lr.StrictMode,{children:w.jsx(pB,{})}));
