
> server@1.0.0 test
> node --experimental-vm-modules node_modules/jest/bin/jest.js

(node:429825) ExperimentalWarning: VM Modules is an experimental feature and might change at any time
(Use `node --trace-warnings ...` to show where the warning was created)
PASS tests/trip.test.js
  ‚óè Console

    console.warn
      WARNING: GEMINI_API_KEY is not set. AI Features will be disabled.

      25 |     constructor() {
      26 |         if (!process.env.GEMINI_API_KEY) {
    > 27 |             console.warn('WARNING: GEMINI_API_KEY is not set. AI Features will be disabled.');
         |                     ^
      28 |             this.model = {
      29 |                 generateContent: async () => ({
      30 |                     response: {

      at new warn (src/modules/ai/aiService.js:27:21)
      at src/modules/ai/aiService.js:79:16
      at tests/trip.test.js:62:26

    console.log
      [dotenv@17.2.3] injecting env (9) from .env -- tip: üì° add observability to secrets: https://dotenvx.com/ops

      at _log (node_modules/dotenv/lib/main.js:142:11)

[0mPOST /api/rides/request [32m201[0m 61.012 ms - 329[0m
[0mPOST /api/rides/estimate [32m200[0m 3.822 ms - 225[0m
[0mPUT /api/rides/trip123/accept [32m200[0m 4.001 ms - 206[0m
(node:429823) ExperimentalWarning: VM Modules is an experimental feature and might change at any time
(Use `node --trace-warnings ...` to show where the warning was created)
(node:429831) ExperimentalWarning: VM Modules is an experimental feature and might change at any time
(Use `node --trace-warnings ...` to show where the warning was created)
(node:429840) ExperimentalWarning: VM Modules is an experimental feature and might change at any time
(Use `node --trace-warnings ...` to show where the warning was created)
(node:429824) ExperimentalWarning: VM Modules is an experimental feature and might change at any time
(Use `node --trace-warnings ...` to show where the warning was created)
PASS tests/user.test.js
  ‚óè Console

    console.log
      [dotenv@17.2.3] injecting env (9) from .env -- tip: üîê encrypt with Dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.warn
      WARNING: Firebase is not properly configured. Using mock data.

      32 |
      33 | if (!adminInstance) {
    > 34 |   console.warn('WARNING: Firebase is not properly configured. Using mock data.');
         |           ^
      35 |   // Mock for development/missing config to prevent crash
      36 |   adminInstance = {
      37 |     auth: () => ({

      at warn (src/core/loaders/firebaseLoader.js:34:11)
      at tests/user.test.js:14:26

    console.warn
      WARNING: GEMINI_API_KEY is not set. AI Features will be disabled.

      25 |     constructor() {
      26 |         if (!process.env.GEMINI_API_KEY) {
    > 27 |             console.warn('WARNING: GEMINI_API_KEY is not set. AI Features will be disabled.');
         |                     ^
      28 |             this.model = {
      29 |                 generateContent: async () => ({
      30 |                     response: {

      at new warn (src/modules/ai/aiService.js:27:21)
      at src/modules/ai/aiService.js:79:16
      at tests/user.test.js:14:26

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: üîê encrypt with Dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:142:11)

PASS tests/app.test.js
  ‚óè Console

    console.log
      [dotenv@17.2.3] injecting env (9) from .env -- tip: üîê encrypt with Dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.warn
      WARNING: Firebase is not properly configured. Using mock data.

      32 |
      33 | if (!adminInstance) {
    > 34 |   console.warn('WARNING: Firebase is not properly configured. Using mock data.');
         |           ^
      35 |   // Mock for development/missing config to prevent crash
      36 |   adminInstance = {
      37 |     auth: () => ({

      at warn (src/core/loaders/firebaseLoader.js:34:11)

    console.warn
      WARNING: GEMINI_API_KEY is not set. AI Features will be disabled.

      25 |     constructor() {
      26 |         if (!process.env.GEMINI_API_KEY) {
    > 27 |             console.warn('WARNING: GEMINI_API_KEY is not set. AI Features will be disabled.');
         |                     ^
      28 |             this.model = {
      29 |                 generateContent: async () => ({
      30 |                     response: {

      at new warn (src/modules/ai/aiService.js:27:21)
      at src/modules/ai/aiService.js:79:16

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: ‚öôÔ∏è  load multiple .env files with { path: ['.env.local', '.env'] }

      at _log (node_modules/dotenv/lib/main.js:142:11)

PASS tests/maps.test.js
  ‚óè Console

    console.log
      [dotenv@17.2.3] injecting env (9) from .env -- tip: ‚öôÔ∏è  specify custom .env file path with { path: '/custom/path/.env' }

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.warn
      WARNING: Firebase is not properly configured. Using mock data.

      32 |
      33 | if (!adminInstance) {
    > 34 |   console.warn('WARNING: Firebase is not properly configured. Using mock data.');
         |           ^
      35 |   // Mock for development/missing config to prevent crash
      36 |   adminInstance = {
      37 |     auth: () => ({

      at warn (src/core/loaders/firebaseLoader.js:34:11)
      at tests/maps.test.js:13:26

    console.warn
      WARNING: GEMINI_API_KEY is not set. AI Features will be disabled.

      25 |     constructor() {
      26 |         if (!process.env.GEMINI_API_KEY) {
    > 27 |             console.warn('WARNING: GEMINI_API_KEY is not set. AI Features will be disabled.');
         |                     ^
      28 |             this.model = {
      29 |                 generateContent: async () => ({
      30 |                     response: {

      at new warn (src/modules/ai/aiService.js:27:21)
      at src/modules/ai/aiService.js:79:16
      at tests/maps.test.js:13:26

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: ‚öôÔ∏è  suppress all logs with { quiet: true }

      at _log (node_modules/dotenv/lib/main.js:142:11)

[0mGET /api/users/user123 [32m200[0m 21.588 ms - 101[0m
[0mGET /api/users/unknown [33m404[0m 1.906 ms - 42[0m
[0mPATCH /api/users/user123 [32m200[0m 15.991 ms - 58[0m
[0mGET / [32m200[0m 18.004 ms - 26[0m
[0mPOST /api/maps/calculate-route [32m200[0m 32.902 ms - 109[0m
[0mPOST /api/maps/calculate-route [33m400[0m 1.716 ms - 63[0m
[0mGET /api/drivers/driver123 [32m200[0m 16.262 ms - 65[0m
[0mGET /api/drivers/unknown [33m404[0m 1.196 ms - 44[0m
PASS tests/driver.test.js
  ‚óè Console

    console.log
      [dotenv@17.2.3] injecting env (9) from .env -- tip: ‚öôÔ∏è  enable debug logging with { debug: true }

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.warn
      WARNING: Firebase is not properly configured. Using mock data.

      32 |
      33 | if (!adminInstance) {
    > 34 |   console.warn('WARNING: Firebase is not properly configured. Using mock data.');
         |           ^
      35 |   // Mock for development/missing config to prevent crash
      36 |   adminInstance = {
      37 |     auth: () => ({

      at warn (src/core/loaders/firebaseLoader.js:34:11)
      at tests/driver.test.js:14:26

    console.warn
      WARNING: GEMINI_API_KEY is not set. AI Features will be disabled.

      25 |     constructor() {
      26 |         if (!process.env.GEMINI_API_KEY) {
    > 27 |             console.warn('WARNING: GEMINI_API_KEY is not set. AI Features will be disabled.');
         |                     ^
      28 |             this.model = {
      29 |                 generateContent: async () => ({
      30 |                     response: {

      at new warn (src/modules/ai/aiService.js:27:21)
      at src/modules/ai/aiService.js:79:16
      at tests/driver.test.js:14:26

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: ‚öôÔ∏è  write to custom object with { processEnv: myObject }

      at _log (node_modules/dotenv/lib/main.js:142:11)


Test Suites: 5 passed, 5 total
Tests:       12 passed, 12 total
Snapshots:   0 total
Time:        2.803 s, estimated 17 s
Ran all test suites.
[0mPATCH /api/drivers/driver123/status [32m200[0m 10.975 ms - 32[0m
tes: 5 passed, 5 total
Tests:       12 passed, 12 total
Snapshots:   0 total
Time:        23.507 s
Ran all test suites.
